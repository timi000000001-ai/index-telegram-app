import"../chunks/Cm9PB-7n.js";import{i as e}from"../chunks/BV4TV12-.js";import{p as t,o as s,ay as a,az as r,f as o,h as l,k as n,t as i,e as d,a as c,b as v,g as m,m as p,$ as u,s as h,c as g,d as x,r as b,j as f,i as w,u as k,n as y,aA as M,aB as j,aC as z}from"../chunks/Dcj_b-T1.js";import{i as $}from"../chunks/np65tVUW.js";import{e as C,i as B}from"../chunks/xCKIWgcL.js";import{s as T}from"../chunks/BA91tbR7.js";import{s as A}from"../chunks/ChOSHGqm.js";import{s as S,a as N}from"../chunks/BRTNnow_.js";import{G as D}from"../chunks/ChpogyAE.js";import{w as L}from"../chunks/nRpcsI4f.js";var V=o('<meta name="description" content="查看最新收录的Telegram群组、频道和机器人"/>'),H=o('<div class="flex items-center justify-center py-12"><div class="flex items-center gap-3 text-slate-500"><svg class="w-6 h-6 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span>加载中...</span></div></div>'),U=o('<div class="flex flex-col items-center justify-center py-12"><svg class="w-12 h-12 text-red-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-slate-600 mb-4"> </p> <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">重新加载</button></div>'),E=M('<svg class="w-4 h-4 text-blue-500 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'),I=o('<span class="px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full flex-shrink-0">NEW</span>'),R=o('<span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded"> </span>'),W=o('<div class="flex flex-col md:flex-row items-start md:items-center gap-4 p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors"><img class="w-12 h-12 rounded-full flex-shrink-0"/> <div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="font-semibold text-slate-800 truncate"> </h3> <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full flex-shrink-0"> </span> <!> <!></div> <p class="text-slate-600 text-sm mb-2 line-clamp-2 svelte-1watu3b"> </p> <div class="flex flex-wrap items-center gap-4 text-sm text-slate-500 mb-2"><span class="flex items-center gap-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg> </span> <span class="flex items-center gap-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> </span> <span class="flex items-center gap-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg> </span></div> <div class="flex flex-wrap gap-1"></div></div> <div class="flex flex-col gap-2 flex-shrink-0"><button class="px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors">查看详情</button> <button class="px-3 py-1 bg-gray-100 text-gray-600 text-sm rounded hover:bg-gray-200 transition-colors">收藏</button></div></div>'),F=o('<div class="p-6"><div class="grid gap-4"></div></div>'),G=M('<svg class="w-4 h-4 text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'),O=o('<span class="px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full">NEW</span>'),P=o('<div class="flex flex-col md:flex-row items-start md:items-center gap-4 p-4 hover:bg-slate-50 transition-colors"><img class="w-10 h-10 rounded-full"/> <div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1"><h4 class="font-medium text-slate-800 truncate"> </h4> <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full"> </span> <!> <!></div> <div class="flex flex-wrap items-center gap-3 text-sm text-slate-600"><span> </span> <span> </span></div></div> <div class="flex gap-2"><button class="px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors">查看</button></div></div>'),q=o('<div class="divide-y divide-slate-200"></div>'),J=o('<div class="border border-slate-200 rounded-lg overflow-hidden"><div class="bg-slate-100 px-4 py-3 border-b border-slate-200 cursor-pointer flex justify-between items-center"><h3 class="font-semibold text-slate-800 flex items-center gap-2"><span class="w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"></span> </h3> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div> <!></div>'),K=o('<div class="p-6"><div class="grid gap-6"></div></div>'),Q=o('<div class="max-w-7xl mx-auto"><div class="mb-8"><h1 class="text-3xl font-bold text-slate-800 mb-2">每日新增</h1> <p class="text-slate-600">发现最新收录的优质群组、频道和机器人</p></div> <div class="bg-white rounded-lg shadow-sm border border-slate-200 mb-6"><div class="flex border-b border-slate-200"><button><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg> 按人数排序</button> <button><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg> 按分类浏览</button></div></div> <div class="bg-white rounded-lg shadow-sm border border-slate-200"><!></div></div> <!>',1);function X(o,M){t(M,!1);const[X,Y]=S(),Z=()=>N(te,"$collapsedCategories",X),_=p(),ee=p(),te=L({});let se=p("members"),ae=p([]),re=p(!0),oe=p(""),le=p(!1),ne=p(null);async function ie(){try{x(re,!0),x(oe,"");const e=await new Promise(e=>{setTimeout(()=>{e({success:!0,data:de()})},1e3)});e.success?x(ae,e.data):x(oe,"获取数据失败")}catch(e){x(oe,"网络错误，请稍后重试")}finally{x(re,!1)}}function de(){const e=["群组","频道","机器人"],t=["科技","娱乐","新闻","教育","游戏","生活","工具","商业"];return Array.from({length:30},(s,a)=>{const r=e[a%3],o=new Date(Date.now()-24*Math.random()*60*60*1e3);return{id:a+1,name:`${r}${a+1}`,type:r,category:t[a%t.length],description:`这是一个关于${t[a%t.length]}的${r}，提供优质内容和服务。`,members:"机器人"===r?0:Math.floor(1e4*Math.random())+100,addedTime:o,addedTimeStr:ve(o),isVerified:Math.random()>.7,isNew:Math.random()>.5,avatar:`https://api.dicebear.com/7.x/initials/svg?seed=${encodeURIComponent(r+(a+1))}`,tags:ce(t[a%t.length],r)}}).sort((e,t)=>t.addedTime-e.addedTime)}function ce(e,t){const s=({"科技":["AI","编程","开发","技术"],"娱乐":["音乐","电影","游戏","综艺"],"新闻":["时事","财经","国际","本地"],"教育":["学习","考试","培训","知识"],"游戏":["手游","端游","攻略","竞技"],"生活":["美食","旅行","健康","购物"],"工具":["效率","实用","办公","助手"],"商业":["创业","投资","营销","管理"]}[e]||["其他"]).slice(0,Math.floor(3*Math.random())+1);return"机器人"===t&&s.push("自动化"),s}function ve(e){const t=new Date-e,s=Math.floor(t/36e5),a=Math.floor(t/6e4);return s<1?`${a}分钟前`:s<24?`${s}小时前`:e.toLocaleDateString("zh-CN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function me(e){x(se,e)}function pe(e){x(ne,{name:e.name,username:e.username||"",description:e.description,createdAt:e.addedTimeStr,stats:{totalMembers:e.members,onlineMembers:Math.floor(.1*e.members),messages24h:Math.floor(1e3*Math.random())+500,avgDaily:Math.floor(100*Math.random())+50,activityRate:Math.floor(100*Math.random()),groupScore:(10*Math.random()).toFixed(1)},topUsers:[{username:"user1",messages:100,activity:80},{username:"user2",messages:90,activity:75},{username:"user3",messages:80,activity:70},{username:"user4",messages:70,activity:65},{username:"user5",messages:60,activity:60}],hourlyActivity:Array(24).fill(0).map(()=>Math.random()),lastUpdate:(new Date).toLocaleString()}),x(le,!0)}s(()=>{ie()}),a(()=>m(ae),()=>{x(_,m(ae).reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{}))}),a(()=>m(ae),()=>{var e;x(ee,(e=m(ae),[...e].sort((e,t)=>Number(t.members)-Number(e.members))))}),r(),e();var ue=Q();l(e=>{var t=V();u.title="每日新增 - Telegram搜索平台",c(e,t)});var he=n(ue),ge=h(g(he),2),xe=g(ge),be=g(xe),fe=h(be,2);b(xe),b(ge);var we=h(ge,2),ke=g(we),ye=e=>{var t=H();c(e,t)},Me=e=>{var t=f(),s=n(t),a=e=>{var t=U(),s=h(g(t),2),a=g(s,!0);b(s);var r=h(s,2);b(t),i(()=>w(a,m(oe))),d("click",r,ie),c(e,t)},r=e=>{var t=f(),s=n(t),a=e=>{var t=F(),s=g(t);C(s,5,()=>m(ee),B,(e,t)=>{var s=W(),a=g(s),r=h(a,2),o=g(r),l=g(o),n=g(l,!0);b(l);var v=h(l,2),p=g(v,!0);b(v);var u=h(v,2),x=e=>{var t=E();c(e,t)};$(u,e=>{m(t),k(()=>m(t).isVerified)&&e(x)});var f=h(u,2),M=e=>{var t=I();c(e,t)};$(f,e=>{m(t),k(()=>m(t).isNew)&&e(M)}),b(o);var j=h(o,2),z=g(j,!0);b(j);var A=h(j,2),S=g(A),N=h(g(S));b(S);var D=h(S,2),L=h(g(D));b(D);var V=h(D,2),H=h(g(V));b(V),b(A);var U=h(A,2);C(U,5,()=>(m(t),k(()=>m(t).tags)),B,(e,t)=>{var s=R(),a=g(s,!0);b(s),i(()=>w(a,m(t))),c(e,s)}),b(U),b(r);var F=h(r,2),G=g(F);y(2),b(F),b(s),i(e=>{T(a,"src",(m(t),k(()=>m(t).avatar))),T(a,"alt",(m(t),k(()=>m(t).name))),w(n,(m(t),k(()=>m(t).name))),w(p,(m(t),k(()=>m(t).type))),w(z,(m(t),k(()=>m(t).description))),w(N,` ${e??""}`),w(L,` ${m(t),k(()=>m(t).addedTimeStr)??""}`),w(H,` ${m(t),k(()=>m(t).category)??""}`)},[()=>(m(t),k(()=>"机器人"===m(t).type?"机器人":`${m(t).members.toLocaleString()} 成员`))]),d("click",G,()=>pe(m(t))),c(e,s)}),b(s),b(t),c(e,t)},r=e=>{var t=K(),s=g(t);C(s,5,()=>(m(_),k(()=>Object.entries(m(_)))),B,(e,t)=>{var s=j(()=>z(m(t),2));let a=()=>m(s)[0],r=()=>m(s)[1];var o=J(),l=g(o),n=g(l),v=h(g(n));b(n);var p=h(n,2);let u;b(l);var x=h(l,2),f=e=>{var t=q();C(t,5,r,B,(e,t)=>{var s=P(),a=g(s),r=h(a,2),o=g(r),l=g(o),n=g(l,!0);b(l);var v=h(l,2),p=g(v,!0);b(v);var u=h(v,2),x=e=>{var t=G();c(e,t)};$(u,e=>{m(t),k(()=>m(t).isVerified)&&e(x)});var f=h(u,2),y=e=>{var t=O();c(e,t)};$(f,e=>{m(t),k(()=>m(t).isNew)&&e(y)}),b(o);var M=h(o,2),j=g(M),z=g(j,!0);b(j);var C=h(j,2),B=g(C,!0);b(C),b(M),b(r);var A=h(r,2),S=g(A);b(A),b(s),i(e=>{T(a,"src",(m(t),k(()=>m(t).avatar))),T(a,"alt",(m(t),k(()=>m(t).name))),w(n,(m(t),k(()=>m(t).name))),w(p,(m(t),k(()=>m(t).type))),w(z,e),w(B,(m(t),k(()=>m(t).addedTimeStr)))},[()=>(m(t),k(()=>"机器人"===m(t).type?"机器人":`${m(t).members.toLocaleString()} 成员`))]),d("click",S,()=>pe(m(t))),c(e,s)}),b(t),c(e,t)};$(x,e=>{Z(),a(),k(()=>!Z()[a()])&&e(f)}),b(o),i(e=>{w(v,` ${a()??""} (${r(),k(()=>r().length)??""})`),u=A(p,0,"w-5 h-5 text-slate-500 transform transition-transform duration-200",null,u,e)},[()=>({"rotate-180":!Z()[a()]})]),d("click",l,()=>function(e){te.update(t=>({...t,[e]:!t[e]}))}(a())),c(e,o)}),b(s),b(t),c(e,t)};$(s,e=>{"members"===m(se)?e(a):e(r,!1)}),c(e,t)};$(s,e=>{m(oe)?e(a):e(r,!1)},!0),c(e,t)};$(ke,e=>{m(re)?e(ye):e(Me,!1)}),b(we),b(he);var je=h(he,2);D(je,{get show(){return m(le)},get groupData(){return m(ne)},$$events:{close:()=>x(le,!1)}}),i(()=>{A(be,1,"tab-button "+("members"===m(se)?"tab-active":""),"svelte-1watu3b"),A(fe,1,"tab-button "+("category"===m(se)?"tab-active":""),"svelte-1watu3b")}),d("click",be,()=>me("members")),d("click",fe,()=>me("category")),c(o,ue),v(),Y()}export{X as component};
