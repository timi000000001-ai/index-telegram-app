import"../chunks/Cm9PB-7n.js";import{i as t}from"../chunks/B9xjsR72.js";import{t as e,F as s,T as a,v as r,aS as i,Z as o,_ as n,af as l,aT as u,aU as d,aV as c,X as h,aW as p,aj as b,G as g,aM as v,M as m,a7 as f,aX as x,aY as y,p as w,c as k,a as q,f as R,b as T,d as $,g as S,h as _,s as W,r as M,j as C,Q as j,e as z,q as I,aZ as A,a_ as D,i as P,au as B,aF as E,n as F,ap as L,a$ as H}from"../chunks/DyQ3SMX3.js";import{i as O}from"../chunks/DKNJ7q2Q.js";import{e as K,i as V}from"../chunks/DRNAXzN-.js";import{s as N,r as U,a as G}from"../chunks/DSMOxny0.js";import{b as J,a as X}from"../chunks/BIVvaVFi.js";import{G as Y}from"../chunks/CV9NnehZ.js";import{p as Z}from"../chunks/DXR95lNe.js";function Q(t,g,v=!1,m=!1,f=!1){var x=t,y="";e(()=>{var t=r;if(y!==(y=g()??"")){if(null!==t.nodes_start&&(i(t.nodes_start,t.nodes_end),t.nodes_start=t.nodes_end=null),""!==y){if(s){o.data;for(var e=a(),f=e;null!==e&&(e.nodeType!==n||""!==e.data);)f=e,e=l(e);if(null===e)throw u(),d;return c(o,f),void(x=h(e))}var w=y+"";v?w=`<svg>${w}</svg>`:m&&(w=`<math>${w}</math>`);var k=p(w);if((v||m)&&(k=b(k)),c(b(k),k.lastChild),v||m)for(;b(k);)x.before(b(k));else x.before(k)}}else s&&a()})}function tt(t,e,s=!1){if(t.multiple){if(null==e)return;if(!f(e))return x();for(var a of t.options)a.selected=e.includes(st(a))}else{for(a of t.options){var r=st(a);if(y(r,e))return void(a.selected=!0)}s&&void 0===e||(t.selectedIndex=-1)}}function et(t,e,s=e){var a=!0;g(t,"change",e=>{var a,r=e?"[selected]":":checked";if(t.multiple)a=[].map.call(t.querySelectorAll(r),st);else{var i=t.querySelector(r)??t.querySelector("option:not([disabled])");a=i&&st(i)}s(a)}),v(()=>{var r=e();if(tt(t,r,a),a&&void 0===r){var i=t.querySelector(":checked");null!==i&&(r=st(i),s(r))}t.__value=r,a=!1}),function(t){var e=new MutationObserver(()=>{tt(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),m(()=>{e.disconnect()})}(t)}function st(t){return"__value"in t?t.__value:t.value}function at(t){return function(...e){return e[0].stopPropagation(),t?.apply(this,e)}}function rt(t,e){var s=t.$$events?.[e.type],a=f(s)?s.slice():null==s?[]:[s];for(var r of a)r.call(this,e)}const it="index_not_found";class ot extends Error{name="MeiliSearchError"}class nt extends ot{name="MeiliSearchApiError";cause;response;constructor(t,e){super(e?.message??`${t.status}: ${t.statusText}`),this.response=t,void 0!==e&&(this.cause=e)}}class lt extends ot{name="MeiliSearchRequestError";constructor(t,e){super(`Request to ${t} has failed`,{cause:e})}}class ut extends ot{name="MeiliSearchRequestTimeOutError";cause;constructor(t,e){super(`request timed out after ${t}ms`),this.cause={timeout:t,requestInit:e}}}class dt extends ot{name="MeiliSearchTaskTimeOutError";cause;constructor(t,e){super(`timeout of ${e}ms has exceeded on task ${t} when waiting for it to be resolved.`),this.cause={taskUid:t,timeout:e}}}function ct(t,e){const s="X-Meilisearch-Client",a="Meilisearch JavaScript (v0.52.0)",r="Content-Type",i="Authorization",o=new Headers(e);if(t.apiKey&&!o.has(i)&&o.set(i,`Bearer ${t.apiKey}`),o.has(r)||o.set(r,"application/json"),void 0!==t.clientAgents){const e=t.clientAgents.concat(a);o.set(s,e.join(" ; "))}else o.set(s,a);return o}const ht=Symbol("<timeout>");function pt(t,e){const{signal:s}=t,a=new AbortController;if(null!=s){let t=null;if(s.aborted)a.abort(s.reason);else{const e=()=>a.abort(s.reason);s.addEventListener("abort",e,{once:!0}),t=()=>s.removeEventListener("abort",e),a.signal.addEventListener("abort",t,{once:!0})}return()=>{if(s.aborted)return;const r=setTimeout(()=>a.abort(ht),e),i=()=>{clearTimeout(r),null!==t&&a.signal.removeEventListener("abort",t)};return s.addEventListener("abort",i,{once:!0}),()=>{s.removeEventListener("abort",i),i()}}}return t.signal=a.signal,()=>{const t=setTimeout(()=>a.abort(ht),e);return()=>clearTimeout(t)}}class bt{#t;#e;#s;#a;constructor(t){const e=(s=function(t){return t.startsWith("https://")||t.startsWith("http://")?t:`http://${t}`}(t.host),s.endsWith("/")||(s+="/"),s);var s;try{this.#t=new URL(e)}catch(a){throw new ot("The provided host is not valid",{cause:a})}this.#e={...t.requestInit,headers:ct(t,t.requestInit?.headers)},this.#s=t.httpClient,this.#a=t.timeout}#r(t,e){if(void 0===t&&void 0===e)return this.#e.headers;const s=new Headers(t);void 0===e||s.has("Content-Type")||s.set("Content-Type",e);for(const[a,r]of this.#e.headers)s.has(a)||s.set(a,r);return s}#i({path:t,method:e,params:s,contentType:a,body:r,extraRequestInit:i}){const o=new URL(t,this.#t);void 0!==s&&function(t,e){for(const[s,a]of Object.entries(e))null!=a&&t.set(s,Array.isArray(a)?a.join():a instanceof Date?a.toISOString():String(a))}(o.searchParams,s);return{url:o,init:{method:e,body:void 0===a||"string"!=typeof r?JSON.stringify(r):r,...i,...this.#e,headers:this.#r(i?.headers,a)}}}async#o(t){const{url:e,init:s}=this.#i(t),a=void 0!==this.#a?pt(s,this.#a):null,r=a?.();let i,o;try{if(void 0!==this.#s)return await this.#s(e,s);i=await fetch(e,s),o=await i.text()}catch(l){throw new lt(e.toString(),Object.is(l,ht)?new ut(this.#a,s):l)}finally{r?.()}const n=""===o?void 0:JSON.parse(o);if(!i.ok)throw new nt(i,n);return n}get(t){return this.#o(t)}post(t){return this.#o({...t,method:"POST"})}put(t){return this.#o({...t,method:"PUT"})}patch(t){return this.#o({...t,method:"PATCH"})}delete(t){return this.#o({...t,method:"DELETE"})}postStream(t){return this.#n({...t,method:"POST"})}async#n(t){const{url:e,init:s}=this.#i(t),a=void 0!==this.#a?pt(s,this.#a):null,r=a?.();let i;try{if(void 0!==this.#s){const t=await this.#s(e,s);if(!(t instanceof ReadableStream))throw new ot("Custom HTTP client must return a ReadableStream for streaming requests");return t}i=await fetch(e,s)}catch(o){throw new lt(e.toString(),Object.is(o,ht)?new ut(this.#a,s):o)}finally{r?.()}if(!i.ok){const t=await i.text(),e=""===t?void 0:JSON.parse(t);throw new nt(i,e)}if(!i.body)throw new ot("Response body is null - server did not return a readable stream");return i.body}}const gt=Symbol("<task timeout>");function vt(t){return function(e){return Object.defineProperty(e,"waitTask",{value:async s=>await t.waitForTask(await e,s)})}}class mt{#l;#u;#d;#c;constructor(t,e){this.#l=t,this.#u=e?.timeout??5e3,this.#d=e?.interval??50,this.#c=vt(this)}async getTask(t,e){return await this.#l.get({path:`tasks/${t}`,extraRequestInit:e})}async getTasks(t){return await this.#l.get({path:"tasks",params:t})}async waitForTask(t,e){const s=(t=>"number"==typeof t?t:t.taskUid)(t),a=e?.timeout??this.#u,r=e?.interval??this.#d,i=a>0?new AbortController:null,o=null!==i?setTimeout(()=>{i.abort(gt)},a):void 0;try{for(;;){const t=await this.getTask(s,{signal:i?.signal});if("enqueued"!==t.status&&"processing"!==t.status)return clearTimeout(o),t;r>0&&await new Promise(t=>setTimeout(t,r))}}catch(n){throw Object.is(n.cause,gt)?new dt(s,a):n}}async*waitForTasksIter(t,e){for await(const s of t)yield await this.waitForTask(s,e)}async waitForTasks(...t){const e=[];for await(const s of this.waitForTasksIter(...t))e.push(s);return e}cancelTasks(t){return this.#c(this.#l.post({path:"tasks/cancel",params:t}))}deleteTasks(t){return this.#c(this.#l.delete({path:"tasks",params:t}))}}function ft(t,e){const s=vt(e);return{post:(...e)=>s(t.post(...e)),put:(...e)=>s(t.put(...e)),patch:(...e)=>s(t.patch(...e)),delete:(...e)=>s(t.delete(...e))}}class xt{uid;primaryKey;createdAt;updatedAt;httpRequest;tasks;#h;constructor(t,e,s){this.uid=e,this.primaryKey=s,this.httpRequest=new bt(t),this.tasks=new mt(this.httpRequest,t.defaultWaitOptions),this.#h=ft(this.httpRequest,this.tasks)}async search(t,e,s){return await this.httpRequest.post({path:`indexes/${this.uid}/search`,body:{q:t,...e},extraRequestInit:s})}async searchGet(t,e,s){const a={q:t,...e,filter:(t=>{if("string"==typeof t)return t;if(Array.isArray(t))throw new ot("The filter query parameter should be in string format when using searchGet")})(e?.filter),sort:e?.sort?.join(","),facets:e?.facets?.join(","),attributesToRetrieve:e?.attributesToRetrieve?.join(","),attributesToCrop:e?.attributesToCrop?.join(","),attributesToHighlight:e?.attributesToHighlight?.join(","),vector:e?.vector?.join(","),attributesToSearchOn:e?.attributesToSearchOn?.join(",")};return await this.httpRequest.get({path:`indexes/${this.uid}/search`,params:a,extraRequestInit:s})}async searchForFacetValues(t,e){return await this.httpRequest.post({path:`indexes/${this.uid}/facet-search`,body:t,extraRequestInit:e})}async searchSimilarDocuments(t){return await this.httpRequest.post({path:`indexes/${this.uid}/similar`,body:t})}async getRawInfo(){const t=await this.httpRequest.get({path:`indexes/${this.uid}`});return this.primaryKey=t.primaryKey,this.updatedAt=new Date(t.updatedAt),this.createdAt=new Date(t.createdAt),t}async fetchInfo(){return await this.getRawInfo(),this}async fetchPrimaryKey(){return this.primaryKey=(await this.getRawInfo()).primaryKey,this.primaryKey}static create(t,e={},s){const a=new bt(s);return ft(a,new mt(a)).post({path:"indexes",body:{...e,uid:t}})}update(t){return this.#h.patch({path:`indexes/${this.uid}`,body:t})}delete(){return this.#h.delete({path:`indexes/${this.uid}`})}async getStats(){return await this.httpRequest.get({path:`indexes/${this.uid}/stats`})}async getDocuments(t){const e=`indexes/${this.uid}/documents`;return void 0!==t?.filter?await this.httpRequest.post({path:`${e}/fetch`,body:t}):await this.httpRequest.get({path:e,params:t})}async getDocument(t,e){const s=Array.isArray(e?.fields)?e.fields.join():void 0;return await this.httpRequest.get({path:`indexes/${this.uid}/documents/${t}`,params:{...e,fields:s}})}addDocuments(t,e){return this.#h.post({path:`indexes/${this.uid}/documents`,params:e,body:t})}addDocumentsFromString(t,e,s){return this.#h.post({path:`indexes/${this.uid}/documents`,body:t,params:s,contentType:e})}addDocumentsInBatches(t,e=1e3,s){const a=[];for(let r=0;r<t.length;r+=e)a.push(this.addDocuments(t.slice(r,r+e),s));return a}updateDocuments(t,e){return this.#h.put({path:`indexes/${this.uid}/documents`,params:e,body:t})}updateDocumentsInBatches(t,e=1e3,s){const a=[];for(let r=0;r<t.length;r+=e)a.push(this.updateDocuments(t.slice(r,r+e),s));return a}updateDocumentsFromString(t,e,s){return this.#h.put({path:`indexes/${this.uid}/documents`,body:t,params:s,contentType:e})}deleteDocument(t){return this.#h.delete({path:`indexes/${this.uid}/documents/${t}`})}deleteDocuments(t){const e=!Array.isArray(t)&&"object"==typeof t?"documents/delete":"documents/delete-batch";return this.#h.post({path:`indexes/${this.uid}/${e}`,body:t})}deleteAllDocuments(){return this.#h.delete({path:`indexes/${this.uid}/documents`})}updateDocumentsByFunction(t){return this.#h.post({path:`indexes/${this.uid}/documents/edit`,body:t})}async getSettings(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings`})}updateSettings(t){return this.#h.patch({path:`indexes/${this.uid}/settings`,body:t})}resetSettings(){return this.#h.delete({path:`indexes/${this.uid}/settings`})}async getPagination(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/pagination`})}updatePagination(t){return this.#h.patch({path:`indexes/${this.uid}/settings/pagination`,body:t})}resetPagination(){return this.#h.delete({path:`indexes/${this.uid}/settings/pagination`})}async getSynonyms(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/synonyms`})}updateSynonyms(t){return this.#h.put({path:`indexes/${this.uid}/settings/synonyms`,body:t})}resetSynonyms(){return this.#h.delete({path:`indexes/${this.uid}/settings/synonyms`})}async getStopWords(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/stop-words`})}updateStopWords(t){return this.#h.put({path:`indexes/${this.uid}/settings/stop-words`,body:t})}resetStopWords(){return this.#h.delete({path:`indexes/${this.uid}/settings/stop-words`})}async getRankingRules(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/ranking-rules`})}updateRankingRules(t){return this.#h.put({path:`indexes/${this.uid}/settings/ranking-rules`,body:t})}resetRankingRules(){return this.#h.delete({path:`indexes/${this.uid}/settings/ranking-rules`})}async getDistinctAttribute(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/distinct-attribute`})}updateDistinctAttribute(t){return this.#h.put({path:`indexes/${this.uid}/settings/distinct-attribute`,body:t})}resetDistinctAttribute(){return this.#h.delete({path:`indexes/${this.uid}/settings/distinct-attribute`})}async getFilterableAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/filterable-attributes`})}updateFilterableAttributes(t){return this.#h.put({path:`indexes/${this.uid}/settings/filterable-attributes`,body:t})}resetFilterableAttributes(){return this.#h.delete({path:`indexes/${this.uid}/settings/filterable-attributes`})}async getSortableAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/sortable-attributes`})}updateSortableAttributes(t){return this.#h.put({path:`indexes/${this.uid}/settings/sortable-attributes`,body:t})}resetSortableAttributes(){return this.#h.delete({path:`indexes/${this.uid}/settings/sortable-attributes`})}async getSearchableAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/searchable-attributes`})}updateSearchableAttributes(t){return this.#h.put({path:`indexes/${this.uid}/settings/searchable-attributes`,body:t})}resetSearchableAttributes(){return this.#h.delete({path:`indexes/${this.uid}/settings/searchable-attributes`})}async getDisplayedAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/displayed-attributes`})}updateDisplayedAttributes(t){return this.#h.put({path:`indexes/${this.uid}/settings/displayed-attributes`,body:t})}resetDisplayedAttributes(){return this.#h.delete({path:`indexes/${this.uid}/settings/displayed-attributes`})}async getTypoTolerance(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/typo-tolerance`})}updateTypoTolerance(t){return this.#h.patch({path:`indexes/${this.uid}/settings/typo-tolerance`,body:t})}resetTypoTolerance(){return this.#h.delete({path:`indexes/${this.uid}/settings/typo-tolerance`})}async getFaceting(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/faceting`})}updateFaceting(t){return this.#h.patch({path:`indexes/${this.uid}/settings/faceting`,body:t})}resetFaceting(){return this.#h.delete({path:`indexes/${this.uid}/settings/faceting`})}async getSeparatorTokens(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/separator-tokens`})}updateSeparatorTokens(t){return this.#h.put({path:`indexes/${this.uid}/settings/separator-tokens`,body:t})}resetSeparatorTokens(){return this.#h.delete({path:`indexes/${this.uid}/settings/separator-tokens`})}async getNonSeparatorTokens(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/non-separator-tokens`})}updateNonSeparatorTokens(t){return this.#h.put({path:`indexes/${this.uid}/settings/non-separator-tokens`,body:t})}resetNonSeparatorTokens(){return this.#h.delete({path:`indexes/${this.uid}/settings/non-separator-tokens`})}async getDictionary(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/dictionary`})}updateDictionary(t){return this.#h.put({path:`indexes/${this.uid}/settings/dictionary`,body:t})}resetDictionary(){return this.#h.delete({path:`indexes/${this.uid}/settings/dictionary`})}async getProximityPrecision(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/proximity-precision`})}updateProximityPrecision(t){return this.#h.put({path:`indexes/${this.uid}/settings/proximity-precision`,body:t})}resetProximityPrecision(){return this.#h.delete({path:`indexes/${this.uid}/settings/proximity-precision`})}async getEmbedders(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/embedders`})}updateEmbedders(t){return this.#h.patch({path:`indexes/${this.uid}/settings/embedders`,body:t})}resetEmbedders(){return this.#h.delete({path:`indexes/${this.uid}/settings/embedders`})}async getSearchCutoffMs(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/search-cutoff-ms`})}updateSearchCutoffMs(t){return this.#h.put({path:`indexes/${this.uid}/settings/search-cutoff-ms`,body:t})}resetSearchCutoffMs(){return this.#h.delete({path:`indexes/${this.uid}/settings/search-cutoff-ms`})}async getLocalizedAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/localized-attributes`})}updateLocalizedAttributes(t){return this.#h.put({path:`indexes/${this.uid}/settings/localized-attributes`,body:t})}resetLocalizedAttributes(){return this.#h.delete({path:`indexes/${this.uid}/settings/localized-attributes`})}async getFacetSearch(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/facet-search`})}updateFacetSearch(t){return this.#h.put({path:`indexes/${this.uid}/settings/facet-search`,body:t})}resetFacetSearch(){return this.#h.delete({path:`indexes/${this.uid}/settings/facet-search`})}async getPrefixSearch(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/prefix-search`})}updatePrefixSearch(t){return this.#h.put({path:`indexes/${this.uid}/settings/prefix-search`,body:t})}resetPrefixSearch(){return this.#h.delete({path:`indexes/${this.uid}/settings/prefix-search`})}async getChat(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/chat`})}updateChat(t){return this.#h.patch({path:`indexes/${this.uid}/settings/chat`,body:t})}}class yt{#l;constructor(t){this.#l=t}async getBatch(t){return await this.#l.get({path:`batches/${t}`})}async getBatches(t){return await this.#l.get({path:"batches",params:t})}}class wt{#l;#p;constructor(t,e){this.#l=t,this.#p=e}async get(){return await this.#l.get({path:`chats/${this.#p}/settings`})}async update(t){return await this.#l.patch({path:`chats/${this.#p}/settings`,body:t})}async reset(){await this.#l.delete({path:`chats/${this.#p}/settings`})}async streamCompletion(t){if(!t.stream)throw new Error("The SDK only supports streaming");return await this.#l.postStream({path:`chats/${this.#p}/chat/completions`,body:t})}}class kt{config;httpRequest;#b;get tasks(){return this.#b}#g;get batches(){return this.#g}#h;constructor(t){this.config=t,this.httpRequest=new bt(t),this.#b=new mt(this.httpRequest,t.defaultWaitOptions),this.#g=new yt(this.httpRequest),this.#h=ft(this.httpRequest,this.tasks)}index(t){return new xt(this.config,t)}async getIndex(t){return new xt(this.config,t).fetchInfo()}async getRawIndex(t){return new xt(this.config,t).getRawInfo()}async getIndexes(t){const e=await this.getRawIndexes(t),s=e.results.map(t=>new xt(this.config,t.uid,t.primaryKey));return{...e,results:s}}async getRawIndexes(t){return await this.httpRequest.get({path:"indexes",params:t})}createIndex(t,e){return xt.create(t,e,this.config)}updateIndex(t,e){return new xt(this.config,t).update(e)}deleteIndex(t){return new xt(this.config,t).delete()}async deleteIndexIfExists(t){try{return await this.deleteIndex(t),!0}catch(e){if(e?.cause?.code===it)return!1;throw e}}swapIndexes(t){return this.#h.post({path:"/swap-indexes",body:t})}async multiSearch(t,e){return await this.httpRequest.post({path:"multi-search",body:t,extraRequestInit:e})}chat(t){return new wt(this.httpRequest,t)}async getChatWorkspaces(){return await this.httpRequest.get({path:"chats"})}async getWebhooks(){return await this.httpRequest.get({path:"webhooks"})}async getWebhook(t){return await this.httpRequest.get({path:`webhooks/${t}`})}async createWebhook(t){return await this.httpRequest.post({path:"webhooks",body:t})}async updateWebhook(t,e){return await this.httpRequest.patch({path:`webhooks/${t}`,body:e})}async deleteWebhook(t){await this.httpRequest.delete({path:`webhooks/${t}`})}async getNetwork(){return await this.httpRequest.get({path:"network"})}async updateNetwork(t){return await this.httpRequest.patch({path:"network",body:t})}async getKeys(t){const e=await this.httpRequest.get({path:"keys",params:t});return e.results=e.results.map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})),e}async getKey(t){return await this.httpRequest.get({path:`keys/${t}`})}async createKey(t){return await this.httpRequest.post({path:"keys",body:t})}async updateKey(t,e){return await this.httpRequest.patch({path:`keys/${t}`,body:e})}async deleteKey(t){await this.httpRequest.delete({path:`keys/${t}`})}async health(){return await this.httpRequest.get({path:"health"})}async isHealthy(){try{const{status:t}=await this.health();return"available"===t}catch{return!1}}async getStats(){return await this.httpRequest.get({path:"stats"})}async getVersion(){return await this.httpRequest.get({path:"version"})}createDump(){return this.#h.post({path:"dumps"})}createSnapshot(){return this.#h.post({path:"snapshots"})}async getExperimentalFeatures(){return await this.httpRequest.get({path:"experimental-features"})}async updateExperimentalFeatures(t){return await this.httpRequest.patch({path:"experimental-features",body:t})}}var qt=S('<p class="text-red-500 text-sm mt-1 flex items-center gap-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> </p>'),Rt=S('<div class="space-y-4"><div><label for="single-link" class="block text-sm font-medium text-gray-700 mb-2">链接地址 *</label> <input id="single-link" type="url" placeholder="https://t.me/example"/> <!></div> <div><label for="link-title" class="block text-sm font-medium text-gray-700 mb-2">标题</label> <input id="link-title" type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors" placeholder="链接标题（可选）"/></div> <div><label for="link-description" class="block text-sm font-medium text-gray-700 mb-2">描述</label> <textarea id="link-description" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors resize-none" rows="3" placeholder="链接描述（可选）"></textarea></div> <div><label for="category" class="block text-sm font-medium text-gray-700 mb-2">分类</label> <select id="category" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"><option>选择分类（可选）</option><option>技术</option><option>新闻</option><option>娱乐</option><option>教育</option><option>商业</option><option>其他</option></select></div></div>'),Tt=S('<p class="text-red-500 text-sm mt-1 flex items-center gap-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> </p>'),$t=S('<p class="text-sm text-gray-500 mt-1">每行输入一个Telegram链接，支持批量收录</p>'),St=S('<div class="space-y-4"><div><label for="multiple-links" class="block text-sm font-medium text-gray-700 mb-2">链接地址 *</label> <textarea id="multiple-links" rows="6" placeholder="每行输入一个链接地址： https://t.me/example1 https://t.me/example2 https://t.me/example3"></textarea> <!></div> <div><label for="batch-category" class="block text-sm font-medium text-gray-700 mb-2">统一分类</label> <select id="batch-category" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"><option>选择分类（可选）</option><option>技术</option><option>新闻</option><option>娱乐</option><option>教育</option><option>商业</option><option>其他</option></select></div></div>'),_t=S('<div class="text-center space-y-6"><div class="bg-blue-50 rounded-xl p-6"><div class="text-6xl mb-4">🤖</div> <h3 class="text-lg font-semibold text-gray-800 mb-2">通过Telegram机器人收录</h3> <p class="text-gray-600 mb-4">点击下方按钮打开Telegram机器人，直接发送链接即可快速收录</p> <button class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-colors inline-flex items-center gap-2"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.374 0 0 5.373 0 12s5.374 12 12 12 12-5.373 12-12S18.626 0 12 0zm5.568 8.16c-.169 1.858-.896 6.728-.896 6.728-.377 2.617-1.407 3.08-2.896 1.596l-2.123-1.596-1.018.684c-.215.145-.395.26-.81.26-.528 0-.434-.2-.612-.706L8.4 13.116l-2.917-.93c-.631-.2-.636-.63.14-.936l11.395-4.29c.523-.2 1.01.12.55 1.2z"></path></svg> 打开收录机器人</button></div> <div class="bg-gray-50 rounded-xl p-4"><h4 class="font-medium text-gray-800 mb-2">使用说明：</h4> <ul class="text-sm text-gray-600 space-y-1 text-left"><li>• 点击按钮打开Telegram机器人</li> <li>• 直接发送链接给机器人</li> <li>• 机器人会自动解析并收录链接</li> <li>• 支持批量发送多个链接</li></ul></div></div>'),Wt=B('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'),Mt=B('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>'),Ct=S('<div><div class="flex items-center gap-2"><!> <span> </span></div></div>'),jt=S('<div class="bg-gray-50 px-6 py-4 flex gap-3 justify-end"><button class="px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors">取消</button> <button class="px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"><!></button> <button class="px-6 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div>'),zt=S('<div class="bg-gray-50 px-6 py-4 flex justify-end"><button class="px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors">关闭</button></div>'),It=S('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4" role="dialog" aria-modal="true" tabindex="-1"><div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden" role="document" tabindex="0"><div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6"><div class="flex items-center justify-between"><h2 class="text-xl font-bold">添加收录</h2> <button class="text-white/80 hover:text-white transition-colors" aria-label="关闭弹窗"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex gap-2 mt-4"><button>单个链接</button> <button>批量链接</button> <button>TG机器人</button></div></div> <div class="p-6 overflow-y-auto max-h-[60vh]"><!> <!></div> <!></div></div>');function At(s,a){w(a,!1);const r=k();let i=Z(a,"show",12,!1),o=j("single"),n=j(""),l=j(""),u=j(""),d=j(""),c=j(""),h=j(!1),p=j(""),b=j(""),g=j(""),v=j("");function m(){i(!1),I(n,""),I(l,""),I(u,""),I(d,""),I(c,""),I(p,""),I(b,""),I(g,""),I(v,""),r("close")}function f(t){return t.trim().startsWith("https://t.me")}function x(){return C(n).trim()?f(C(n))?(I(g,""),!0):(I(g,"只能添加 https://t.me 开头的链接"),!1):(I(g,""),!0)}function y(){if(!C(l).trim())return I(v,""),!0;const t=C(l).split("\n").filter(t=>t.trim()).filter(t=>!f(t));return t.length>0?(I(v,`只能添加 https://t.me 开头的链接，发现 ${t.length} 个无效链接`),!1):(I(v,""),!0)}async function S(t=!1){if(!C(h)){if("single"===C(o)){if(!C(n).trim())return void B("请输入链接地址","error");if(!x())return}if("multiple"===C(o)){if(!C(l).trim())return void B("请输入链接地址","error");if(!y())return}I(h,!0);try{C(o),C(u),C(d),C(c),"single"===C(o)?C(n):C(l).split("\n").filter(t=>t.trim()),(new Date).toISOString();await new Promise(t=>setTimeout(t,1e3));Math.random()>.2?(B("收录成功！","success"),t?(I(n,""),I(l,"")):setTimeout(()=>{m()},1500)):B("收录失败，请重试","error")}catch(e){B("收录失败，请重试","error")}finally{I(h,!1)}}}function B(t,e){I(p,t),I(b,e),setTimeout(()=>{I(p,""),I(b,"")},3e3)}function L(t){I(o,t),I(p,""),I(b,""),I(g,""),I(v,"")}function H(){window.open("https://t.me/your_collection_bot","_blank"),B("请在Telegram中向机器人发送链接进行收录","success")}t();var K=q(),V=R(K),G=t=>{var s=It(),r=_(s),i=_(r),f=_(i),w=W(_(f),2);M(f);var k=W(f,2),$=_(k),j=W($,2),B=W(j,2);M(k),M(i);var K=W(i,2),V=_(K),G=t=>{var s=Rt(),a=_(s),r=W(_(a),2);U(r);var i=W(r,2),o=t=>{var s=qt(),a=W(_(s));M(s),e(()=>P(a,` ${C(g)??""}`)),T(t,s)};O(i,t=>{C(g)&&t(o)}),M(a);var l=W(a,2),h=W(_(l),2);U(h),M(l);var p=W(l,2),b=W(_(p),2);A(b),M(p);var v=W(p,2),m=W(_(v),2);e(()=>{C(c),D(()=>{})});var f=_(m);f.value=f.__value="";var y=W(f);y.value=y.__value="technology";var w=W(y);w.value=w.__value="news";var k=W(w);k.value=k.__value="entertainment";var q=W(k);q.value=q.__value="education";var R=W(q);R.value=R.__value="business";var $=W(R);$.value=$.__value="other",M(m),M(v),M(s),e(()=>N(r,1,"w-full px-4 py-3 border rounded-lg outline-none transition-colors "+(C(g)?"border-red-500 focus:ring-2 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"))),J(r,()=>C(n),t=>I(n,t)),z("input",r,x),z("blur",r,x),J(h,()=>C(u),t=>I(u,t)),J(b,()=>C(d),t=>I(d,t)),et(m,()=>C(c),t=>I(c,t)),T(t,s)},X=t=>{var s=q(),a=R(s),r=t=>{var s=St(),a=_(s),r=W(_(a),2);A(r);var i=W(r,2),o=t=>{var s=Tt(),a=W(_(s));M(s),e(()=>P(a,` ${C(v)??""}`)),T(t,s)},n=t=>{var e=$t();T(t,e)};O(i,t=>{C(v)?t(o):t(n,!1)}),M(a);var u=W(a,2),d=W(_(u),2);e(()=>{C(c),D(()=>{})});var h=_(d);h.value=h.__value="";var p=W(h);p.value=p.__value="technology";var b=W(p);b.value=b.__value="news";var g=W(b);g.value=g.__value="entertainment";var m=W(g);m.value=m.__value="education";var f=W(m);f.value=f.__value="business";var x=W(f);x.value=x.__value="other",M(d),M(u),M(s),e(()=>N(r,1,"w-full px-4 py-3 border rounded-lg outline-none transition-colors resize-none "+(C(v)?"border-red-500 focus:ring-2 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"))),J(r,()=>C(l),t=>I(l,t)),z("input",r,y),z("blur",r,y),et(d,()=>C(c),t=>I(c,t)),T(t,s)},i=t=>{var e=q(),s=R(e),a=t=>{var e=_t(),s=_(e),a=W(_(s),6);M(s),F(2),M(e),z("click",a,H),T(t,e)};O(s,t=>{"telegram"===C(o)&&t(a)},!0),T(t,e)};O(a,t=>{"multiple"===C(o)?t(r):t(i,!1)},!0),T(t,s)};O(V,t=>{"single"===C(o)?t(G):t(X,!1)});var Y=W(V,2),Z=t=>{var s=Ct(),a=_(s),r=_(a),i=t=>{var e=Wt();T(t,e)},o=t=>{var e=Mt();T(t,e)};O(r,t=>{"success"===C(b)?t(i):t(o,!1)});var n=W(r,2),l=_(n,!0);M(n),M(a),M(s),e(()=>{N(s,1,"mt-4 p-3 rounded-lg "+("success"===C(b)?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200")),P(l,C(p))}),T(t,s)};O(Y,t=>{C(p)&&t(Z)}),M(K);var Q=W(K,2),tt=t=>{var s=jt(),a=_(s),r=W(a,2),i=_(r),o=t=>{var e=E("保存中...");T(t,e)},n=t=>{var e=E("保存后继续收录");T(t,e)};O(i,t=>{C(h)?t(o):t(n,!1)}),M(r);var l=W(r,2),u=_(l),d=t=>{var e=E("保存中...");T(t,e)},c=t=>{var e=E("保存");T(t,e)};O(u,t=>{C(h)?t(d):t(c,!1)}),M(l),M(s),e(()=>{a.disabled=C(h),r.disabled=C(h),l.disabled=C(h)}),z("click",a,m),z("click",r,()=>S(!0)),z("click",l,()=>S(!1)),T(t,s)},st=t=>{var e=zt(),s=_(e);M(e),z("click",s,m),T(t,e)};O(Q,t=>{"telegram"!==C(o)?t(tt):t(st,!1)}),M(r),M(s),e(()=>{N($,1,"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("single"===C(o)?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/15")),N(j,1,"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("multiple"===C(o)?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/15")),N(B,1,"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("telegram"===C(o)?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/15"))}),z("click",w,m),z("click",$,()=>L("single")),z("click",j,()=>L("multiple")),z("click",B,()=>L("telegram")),z("click",r,at(function(t){rt.call(this,a,t)})),z("keydown",r,at(function(t){rt.call(this,a,t)})),z("click",s,m),z("keydown",s,t=>"Escape"===t.key&&m()),T(t,s)};O(V,t=>{i()&&t(G)}),T(s,K),$()}var Dt=S('<div class="fixed inset-0 z-50 flex items-center justify-center p-4" aria-modal="true" role="dialog" tabindex="-1"><div class="fixed inset-0 bg-black bg-opacity-50"></div> <div class="relative bg-white rounded-lg shadow-xl max-w-md w-full mx-auto p-6 space-y-4 transform transition-all sm:my-8 sm:w-full sm:max-w-lg svelte-wn6jw9"><h2 class="text-2xl font-bold text-gray-900">法律声明</h2> <div class="prose prose-sm max-w-none text-gray-700"><h3 class="text-lg font-semibold text-gray-800">使用限制</h3> <p>本项目不适用于中国大陆。Telegram 在中国大陆受到政府的访问限制，本项目的数据收集和处理活动可能违反当地法律法规。</p> <h3 class="text-lg font-semibold text-gray-800">免责声明</h3> <p>本项目开发人员对因使用不当、违反当地法律或数据隐私问题而导致的任何后果概不负责。用户应自行评估法律风险，并在必要时咨询法律专业人士。</p> <h3 class="text-lg font-semibold text-gray-800">建议</h3> <p>如果您位于中国大陆，请不要下载、安装或运行本项目。请寻找符合当地法规的替代方案。</p></div> <div class="flex justify-end"><button type="button" class="inline-flex justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">关闭</button></div></div></div>');var Pt=S('<div class="p-4 text-center text-slate-500">正在加载建议...</div>'),Bt=S('<div class="px-4 py-2 cursor-pointer hover:bg-blue-100/50"><!></div>'),Et=S('<div class="px-2 py-1.5 cursor-pointer hover:bg-blue-100/50 rounded-md"> </div>'),Ft=S('<div class="p-2"><div class="flex justify-between items-center px-2 py-1"><span class="text-sm font-semibold text-slate-600">搜索历史</span> <button class="text-xs text-blue-500 hover:underline">清空</button></div> <!></div>'),Lt=S('<div class="absolute top-full mt-2 w-full bg-white/90 backdrop-blur-md border border-blue-200/50 rounded-2xl shadow-lg z-20 overflow-hidden"><!> <!> <!></div>'),Ht=S('<div class="block w-full text-left bg-transparent border-none px-5 py-4 cursor-default text-slate-500 flex items-center gap-3"><div class="w-4 h-4 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin"></div> 加载建议...</div>'),Ot=S('<button type="button" class="block w-full text-left bg-transparent border-none px-5 py-4 cursor-pointer text-slate-700 transition-all duration-200 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-slate-900 focus:outline-none focus:bg-gradient-to-r focus:from-blue-100 focus:to-purple-100"><span class="flex items-center gap-3"><svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg> </span></button>'),Kt=S('<button type="button" class="block w-full text-left bg-transparent border-none px-5 py-4 cursor-pointer text-slate-700 transition-all duration-200 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-slate-900 focus:outline-none focus:bg-gradient-to-r focus:from-blue-100 focus:to-purple-100"><span class="flex items-center gap-3"><svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> </span></button>'),Vt=S('<div class="px-5 py-3 text-sm text-slate-500">搜索历史</div> <!>',1),Nt=S('<div class="absolute left-0 right-0 top-full mt-3 z-20 rounded-2xl overflow-hidden shadow-2xl"><div class="bg-white/95 backdrop-blur-xl rounded-2xl max-h-56 overflow-auto shadow-2xl border border-white/20"><!></div></div>'),Ut=S('<span class="text-black/60 italic">暂无历史记录</span>'),Gt=S('<button class="group relative bg-black/10 border border-black/30 px-4 py-2.5 rounded-full cursor-pointer text-black text-sm font-medium transition-all duration-300 backdrop-blur-md hover:bg-black/20 hover:border-black/50 hover:-translate-y-1 hover:shadow-lg hover:shadow-black/20 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-black/50"><span class="relative z-10"> </span> <div class="absolute inset-0 bg-gradient-to-r from-blue-400/20 to-purple-400/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div></button>'),Jt=S('<!> <button class="bg-transparent border-0 text-black/70 cursor-pointer underline transition-all duration-300 hover:text-black hover:scale-105 font-medium text-sm">清空历史</button>',1),Xt=S('<span class="text-black/60 flex items-center gap-2"><div class="w-3 h-3 border border-black/40 border-t-black rounded-full animate-spin"></div> 加载中...</span>'),Yt=S('<span class="text-black/60 italic">暂无热门内容</span>'),Zt=S('<button><span class="text-base leading-none animate-bounce"> </span> <span class="font-bold relative z-10"> </span> <span class="text-xs opacity-90 font-medium bg-white/20 px-2 py-1 rounded-full"> </span> <div class="absolute inset-0 bg-gradient-to-r from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-full"></div></button>'),Qt=B('<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),te=B('<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),ee=B('<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),se=B('<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),ae=S('<div class="mt-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-100"><div class="flex items-center gap-2 mb-3"><svg class="w-4 h-4 text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path></svg> <span class="text-sm font-semibold text-blue-700">自定义时间范围</span></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3"><label class="block"><span class="block text-xs font-medium text-slate-600 mb-1 flex items-center gap-1"><span class="w-2 h-2 bg-green-400 rounded-full"></span> 开始日期</span> <input type="date" class="w-full px-3 py-2.5 border-2 border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 bg-white hover:border-slate-300 text-sm"/></label> <label class="block"><span class="block text-xs font-medium text-slate-600 mb-1 flex items-center gap-1"><span class="w-2 h-2 bg-red-400 rounded-full"></span> 结束日期</span> <input type="date" class="w-full px-3 py-2.5 border-2 border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 bg-white hover:border-slate-300 text-sm"/></label></div></div>'),re=B('<svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> 应用中...',1),ie=B('<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> 应用',1),oe=S('<section class="mb-6"><div class="bg-white rounded-2xl shadow-lg p-6"><div class="mb-6"><h4 class="text-lg font-semibold text-slate-800 mb-4">来源过滤</h4> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">群组</span> <input placeholder="群组名称" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"/></label> <label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">频道</span> <input placeholder="频道名称" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"/></label> <label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">用户</span> <input placeholder="发送者" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"/></label> <label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">语言</span> <input placeholder="如: zh, en" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"/></label></div></div> <div class="mb-6"><h4 class="text-lg font-semibold text-slate-800 mb-4">质量过滤</h4> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">最小长度</span> <input type="number" min="0" placeholder="字符数" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"/></label> <label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">最小互动</span> <input type="number" min="0" placeholder="点赞/转发数" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"/></label> <label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">最小相关性</span> <input type="number" min="0" max="1" step="0.01" placeholder="0~1" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"/></label></div></div> <div><h4 class="text-lg font-semibold text-slate-800 mb-4">排序与分页</h4> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">排序</span> <select class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"><option>相关性</option><option>时间</option><option>热度</option></select></label> <label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">每页条数</span> <select class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"><option>10</option><option>20</option><option>50</option></select></label></div></div></div></section>'),ne=S('<span class="text-slate-500 text-sm"> </span>'),le=S('<div class="bg-white rounded-2xl shadow-lg p-12 text-center"><div class="text-slate-400 text-lg">暂无数据，请输入关键字进行搜索。</div></div>'),ue=S('<div class="text-slate-600 leading-relaxed my-3 text-sm"><!></div>'),de=S('<span class="inline-flex items-center"><svg class="w-4 h-4 mr-1.5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.124-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.124-1.283.356-1.857m0 0a3.002 3.002 0 012.288-2.542M11 11a4 4 0 11-8 0 4 4 0 018 0z"></path></svg> Group</span>'),ce=S('<span class="inline-flex items-center"><svg class="w-4 h-4 mr-1.5 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.636 18.364a9 9 0 010-12.728m2.828 9.9a5 5 0 010-7.072"></path></svg> Channel</span>'),he=S('<button class="text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors" title="查看群组统计详情">查看详情</button>'),pe=S('<button class="text-slate-400 text-sm font-medium cursor-not-allowed" disabled title="占位">查看详情</button>'),be=S('<article class="bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 flex flex-col h-full"><div class="flex-grow"><a target="_blank" rel="noopener noreferrer" class="text-lg font-semibold text-blue-600 hover:underline"><!></a> <!></div> <div class="flex items-center text-sm text-slate-500 mt-auto pt-4 border-t border-slate-100"><!> <span class="mx-2">·</span> <span class="inline-flex items-center"><svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-1a6 6 0 00-5.197-5.92M9 21v-1a6 6 0 016-6"></path></svg> </span> <div class="flex-grow"></div> <!></div></article>'),ge=S('<div class="w-full p-2 min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/50 relative overflow-hidden"><section class="relative z-10 bg-gradient-to-br from-white/80 via-blue-50/60 to-indigo-100/40 backdrop-blur-xl rounded-3xl md:rounded-[2rem] p-6 md:p-8 lg:p-12 shadow-2xl shadow-blue-500/10 border border-white/20 mb-6 overflow-hidden"><div class="absolute inset-0 pointer-events-none"><div class="absolute top-0 left-0 w-full h-full opacity-40"><div class="absolute top-4 left-0 w-0.5 h-16 bg-gradient-to-b from-transparent via-blue-400/50 to-transparent shadow-md shadow-blue-400/30"></div> <div class="absolute top-8 right-0 w-0.5 h-12 bg-gradient-to-b from-transparent via-purple-400/40 to-transparent shadow-md shadow-purple-400/20"></div> <div class="absolute bottom-8 left-1/4 w-0.5 h-14 bg-gradient-to-b from-transparent via-indigo-400/45 to-transparent shadow-md shadow-indigo-400/25"></div> <div class="absolute top-12 right-1/3 w-0.5 h-10 bg-gradient-to-b from-transparent via-cyan-400/35 to-transparent shadow-sm shadow-cyan-400/15"></div> <div class="absolute bottom-12 left-1/3 w-0.5 h-18 bg-gradient-to-b from-transparent via-rose-400/30 to-transparent shadow-sm shadow-rose-400/10"></div></div></div> <h1 class="text-3xl md:text-4xl font-bold bg-gradient-to-r from-slate-800 via-blue-700 to-indigo-800 bg-clip-text text-transparent mb-2 relative z-10 drop-shadow-sm">Telegram 内容搜索</h1> <p class="text-slate-600/90 text-base md:text-lg mb-6 relative z-10 font-medium">搜索群组、频道和私聊中的消息内容</p> <div class="flex flex-col sm:flex-row gap-4 items-stretch sm:items-center relative z-10"><div class="relative flex-1 group"><div class="absolute inset-0 bg-gradient-to-r from-blue-400/30 via-purple-400/30 to-pink-400/30 rounded-full blur-xl opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 transition-all duration-300"></div> <input class="w-full px-6 py-4 text-base border-2 border-blue-200/50 rounded-full outline-none transition-all duration-300 bg-white/70 backdrop-blur-md text-slate-700 placeholder-slate-400 relative z-10 focus:border-blue-400/80 focus:bg-white/90 focus:shadow-lg hover:border-blue-300/70 hover:bg-white/80" placeholder="请输入搜索关键字（支持多个关键字，以空格分隔）"/> <div class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none transition-colors duration-300 group-focus-within:text-blue-600"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <!></div> <button class="relative bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-600 text-white border-0 px-8 py-4 rounded-full cursor-pointer font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-60 disabled:cursor-not-allowed group"><span class="relative z-10"><!></span></button> <button class="relative bg-gradient-to-r from-green-500 via-emerald-500 to-teal-600 text-white border-0 px-6 py-4 rounded-full cursor-pointer font-semibold transition-all duration-300 shadow-lg hover:shadow-xl group"><span class="relative z-10 flex items-center gap-2"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> 收录</span></button> <button><span class="flex items-center gap-2">高级选项 <span><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></span></span></button></div> <!> <div><div class="flex items-center gap-3 flex-wrap pb-4"><span class="text-black mr-4 font-bold text-sm flex items-center gap-2 flex-shrink-0"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> 历史搜索</span> <!></div> <div class="flex items-center gap-3 flex-wrap pb-4"><span class="text-black mr-4 font-bold text-sm flex items-center gap-2 flex-shrink-0"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg> 热门搜索</span> <!></div></div></section> <div class="md:hidden mb-4"><button class="w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-2xl font-medium hover:bg-blue-700 transition-colors"><span class="text-lg">🔍</span> <span> </span></button></div> <div class="flex flex-col md:flex-row gap-3 w-full px-2"><aside><div class="bg-white rounded-2xl shadow-lg p-6 sticky top-6"><h3 class="text-lg font-bold text-slate-800 mb-4">筛选器</h3> <div class="mb-6"><div class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2"><span class="w-1 h-4 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full"></span> 内容类型</div> <div class="space-y-3"><label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200"><div class="relative"><input type="checkbox" class="sr-only"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors">📱 群组</span></label> <label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200"><div class="relative"><input type="checkbox" class="sr-only"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors">📢 频道</span></label> <label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200"><div class="relative"><input type="checkbox" class="sr-only"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors">🤖 机器人</span></label> <label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200"><div class="relative"><input type="checkbox" class="sr-only"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors">💬 消息</span></label></div></div> <div class="mb-6"><div class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2"><span class="w-1 h-4 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"></span> 时间筛选</div> <label class="block mb-2"><span class="block text-sm font-medium text-slate-700 mb-2 flex items-center gap-1"><svg class="w-4 h-4 text-slate-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path></svg> 预设时间</span> <div class="relative"><select class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 appearance-none cursor-pointer hover:border-slate-300 hover:shadow-sm text-sm font-medium text-slate-700"><option>🌐 不限</option><option>⚡ 最近1小时</option><option>📅 最近24小时</option><option>📊 最近7天</option><option>📈 最近30天</option><option>⚙️ 自定义</option></select> <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"><svg class="w-5 h-5 text-slate-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></div></div></label> <!></div> <div class="flex gap-3 mt-6"><button class="flex-1 px-4 py-3 text-sm font-semibold text-slate-600 bg-gradient-to-r from-slate-100 to-slate-200 rounded-xl hover:from-slate-200 hover:to-slate-300 transition-all duration-200 shadow-sm hover:shadow-md flex items-center justify-center gap-2"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"></path></svg> 重置</button> <button class="flex-1 px-4 py-3 text-sm font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-2"><!></button></div></div></aside> <main class="flex-1 min-w-0"><!> <section><div class="flex flex-wrap sm:flex-nowrap justify-between items-center gap-4 mb-6 bg-white rounded-2xl shadow-lg p-4"><div class="flex items-center gap-4 flex-shrink-0"><span class="text-slate-700">共 <strong class="text-slate-900"> </strong> 条结果</span> <!></div> <div class="w-full sm:w-auto"><div class="flex items-center justify-center sm:justify-end gap-3"><button class="flex-shrink-0 px-4 py-2 text-sm font-medium text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">上一页</button> <span class="flex-shrink-0 text-sm text-slate-600 px-3"> </span> <button class="flex-shrink-0 px-4 py-2 text-sm font-medium text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">下一页</button></div></div></div> <div class="space-y-4 results-container"><!> <!></div></section></main></div></div> <!> <!> <footer class="text-center py-4 text-gray-500 text-sm"><span>© 2024 Telegram搜索平台 - 高效搜索, 精准定位</span> <a href="#" class="hover:underline text-red-500 ml-2">免责声明</a></footer> <!>',1);function ve(s,a){w(a,!1);let r=j(""),i=j([]),o=j([]),n=j([]),l=j([]),u=j(!1),d=j(!1),c=j(!1),h=j(0),p=j(!1),b=j(!1),g=j(!1),v=j(!1),m=j(!1),f=j(null),x=j(1),y=j(10),S=j(0),A=j("relevance"),B=j({types:{group:!0,channel:!0,bot:!0,message:!0},timePreset:"any",timeOrder:"desc",customStart:"",customEnd:"",sourceGroup:"",sourceChannel:"",sourceUser:"",language:"",minLength:"",minInteractions:"",minRelevance:""});function tt(t,e){if(!e.trim())return t;const s=e.trim().split(/\s+/);let a=t;return s.forEach(t=>{const e=new RegExp(`(${t})`,"gi");a=a.replace(e,"<mark>$1</mark>")}),a}function st(){return Math.ceil(C(S)/C(y))}const at=new kt({host:"http://127.0.0.1:7700",apiKey:"timigogogo"}).index("telegram_index");async function rt(){if(!C(r).trim())return I(i,[]),void I(S,0);I(u,!0);try{const t=await at.search(C(r).trim(),{page:C(x),hitsPerPage:C(y),filter:[`TYPE IN [${Object.entries(C(B).types).filter(([t,e])=>e).map(([t,e])=>`'${t}'`).join(", ")}]`]});I(i,t.hits.map(t=>{const e={};for(const s in t)e[s.toLowerCase()]=t[s];return e.link&&"string"==typeof e.link&&(e.link=e.link.replace(/`/g,"").trim()),e})),I(S,t.totalHits??0),I(h,t.processingTimeMs)}catch(t){I(i,[]),I(S,0)}finally{I(u,!1)}}const it=function(t,e){let s;return function(...a){clearTimeout(s),s=setTimeout(()=>{clearTimeout(s),t(...a)},e)}}(async function(t){if(!t||t.length<2)return I(o,[]),void I(p,!0);I(d,!0);try{const e=await fetch(`/api/search/autocomplete?q=${encodeURIComponent(t)}`);if(e.ok){const t=await e.json();I(o,t)}else I(o,[])}catch(e){I(o,[])}finally{I(d,!1),I(p,!0)}},300);function ot(t){I(r,t),I(o,[]),I(p,!1),I(x,1),rt(),lt(C(r))}function nt(t){t<1||t>st()||(I(x,t),rt())}function lt(t){if(!t)return;let e=[];try{e=JSON.parse(localStorage.getItem("searchHistories")||"[]")}catch(s){e=[]}e=e.filter(e=>e!==t),e.unshift(t),e=e.slice(0,10),localStorage.setItem("searchHistories",JSON.stringify(e)),I(l,e)}function ut(t){I(f,function(t){const e="channel"===t.type,s=Math.floor(2e3*Math.random())+500,a=Math.floor(s*(.3+.4*Math.random()));return{id:t.id,name:t.source,type:t.type,description:e?"专业的Telegram机器人开发交流群组，汇聚全球开发者":"专业的Telegram机器人开发交流频道，汇聚全球开发者",username:"@developers_chat",createdAt:"2023-05-15",stats:{totalMembers:s,onlineMembers:Math.floor(.4*a),messages24h:Math.floor(500*Math.random())+100,avgDaily:Math.floor(10*Math.random())+3,activityRate:Math.floor(a/s*100),groupScore:(2*Math.random()+3).toFixed(1)},topUsers:[{username:"@developer_alice",messages:45,activity:92},{username:"@bot_master",messages:38,activity:87},{username:"@api_expert",messages:32,activity:81},{username:"@code_ninja",messages:28,activity:76},{username:"@tech_guru",messages:24,activity:72}],hourlyActivity:Array.from({length:24},(t,e)=>{const s=.5*Math.sin((e-6)*Math.PI/12)+.5,a=.3*Math.random();return Math.max(.1,Math.min(1,s+a))}),lastUpdate:(new Date).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}}(t)),I(v,!0)}function dt(){localStorage.removeItem("searchHistories"),I(l,[])}let ct=j(!1);L(()=>{!function(){try{I(l,JSON.parse(localStorage.getItem("searchHistories")||"[]"))}catch(t){I(l,[])}}(),async function(){I(c,!0);try{const t=[{keyword:"SvelteKit",rank:1,count:120,category:"technology",trend:"up"},{keyword:"Meilisearch",rank:2,count:105,category:"technology",trend:"hot"},{keyword:"TailwindCSS",rank:3,count:98,category:"technology",trend:"stable"}];await new Promise(t=>setTimeout(t,500)),I(n,t)}catch(t){I(n,[])}finally{I(c,!1)}}(),rt()}),t();var ht=ge(),pt=R(ht),bt=_(pt),gt=W(_(bt),6),vt=_(gt),mt=W(_(vt),2);U(mt);var ft=W(mt,4),xt=t=>{var s=Lt(),a=_(s),r=t=>{var e=Pt();T(t,e)};O(a,t=>{C(d)&&t(r)});var i=W(a,2);K(i,1,()=>C(o),V,(t,e)=>{var s=Bt();Q(_(s),()=>C(e).query),M(s),z("mousedown",s,()=>ot(C(e).query)),T(t,s)});var n=W(i,2),u=t=>{var s=Ft(),a=_(s),r=W(_(a),2);M(a);var i=W(a,2);K(i,1,()=>C(l),V,(t,s)=>{var a=Et(),r=_(a,!0);M(a),e(()=>P(r,C(s))),z("mousedown",a,()=>ot(C(s))),T(t,a)}),M(s),z("click",r,dt),T(t,s)};O(n,t=>{!C(d)&&0===C(o).length&&C(l).length>0&&t(u)}),M(s),T(t,s)};O(ft,t=>{C(p)&&(C(o).length>0||C(d)||C(l).length>0)&&t(xt)}),M(vt);var yt=W(vt,2),wt=_(yt),qt=_(wt),Rt=t=>{var e=E("搜索中...");T(t,e)},Tt=t=>{var e=E("搜索");T(t,e)};O(qt,t=>{C(u)?t(Rt):t(Tt,!1)}),M(wt),M(yt);var $t=W(yt,2),St=W($t,2),_t=_(St),Wt=W(_(_t));M(_t),M(St),M(gt);var Mt=W(gt,2),Ct=t=>{var s=Nt(),a=_(s),i=_(a),n=t=>{var e=Ht();T(t,e)},u=t=>{var s=q(),a=R(s),i=t=>{var s=q(),a=R(s);K(a,1,()=>C(o),V,(t,s)=>{var a=Ot(),r=_(a),i=W(_(r));M(r),M(a),e(()=>P(i,` ${C(s)??""}`)),z("click",a,()=>ot(C(s))),T(t,a)}),T(t,s)},n=t=>{var s=q(),a=R(s),i=t=>{var s=Vt(),a=W(R(s),2);K(a,1,()=>C(l),V,(t,s)=>{var a=Kt(),r=_(a),i=W(_(r));M(r),M(a),e(()=>P(i,` ${C(s)??""}`)),z("click",a,()=>ot(C(s))),T(t,a)}),T(t,s)};O(a,t=>{C(r).length>0&&C(l).length>0&&t(i)},!0),T(t,s)};O(a,t=>{C(o).length>0?t(i):t(n,!1)},!0),T(t,s)};O(i,t=>{C(d)?t(n):t(u,!1)}),M(a),M(s),T(t,s)};O(Mt,t=>{C(p)&&(C(o).length>0||C(d)||C(r).length>0&&C(l).length>0)&&t(Ct)});var jt=W(Mt,2),zt=_(jt),It=W(_(zt),2),ve=t=>{var e=Ut();T(t,e)},me=t=>{var s=Jt(),a=R(s);K(a,1,()=>C(l),V,(t,s)=>{var a=Gt(),r=_(a),i=_(r,!0);M(r),F(2),M(a),e(()=>P(i,C(s))),z("click",a,()=>ot(C(s))),T(t,a)});var r=W(a,2);z("click",r,dt),T(t,s)};O(It,t=>{0===C(l).length?t(ve):t(me,!1)}),M(zt);var fe=W(zt,2),xe=W(_(fe),2),ye=t=>{var e=Xt();T(t,e)},we=t=>{var s=q(),a=R(s),r=t=>{var e=Yt();T(t,e)},i=t=>{var s=q(),a=R(s);K(a,1,()=>C(n).slice(0,8),V,(t,s)=>{var a=Zt(),r=_(a),i=_(r,!0);M(r);var o=W(r,2),n=_(o,!0);M(o);var l=W(o,2),u=_(l);M(l),F(2),M(a),e((t,e)=>{N(a,1,"group relative inline-flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-300 backdrop-blur-md border focus:outline-none focus:ring-2 focus:ring-white/50 "+("hot"===C(s).trend?"bg-gradient-to-r from-red-500/80 to-pink-500/80 text-white border-red-400/50 shadow-lg shadow-red-500/30 hover:from-red-400 hover:to-pink-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-red-500/40 hover:scale-105":"up"===C(s).trend?"bg-gradient-to-r from-emerald-500/80 to-green-500/80 text-white border-emerald-400/50 shadow-lg shadow-emerald-500/30 hover:from-emerald-400 hover:to-green-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-emerald-500/40 hover:scale-105":"down"===C(s).trend?"bg-gradient-to-r from-slate-500/80 to-gray-500/80 text-white border-slate-400/50 shadow-lg shadow-slate-500/30 hover:from-slate-400 hover:to-gray-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-slate-500/40 hover:scale-105":"bg-gradient-to-r from-blue-500/80 to-purple-500/80 text-white border-blue-400/50 shadow-lg shadow-blue-500/30 hover:from-blue-400 hover:to-purple-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-105")),G(a,"title",t),P(i,e),P(n,C(s).keyword),P(u,`(${C(s).count??""})`)},[()=>{return`排名: #${C(s).rank} | 搜索次数: ${C(s).count} | 分类: ${e=C(s).category,{technology:"技术",blockchain:"区块链",ai:"人工智能",mobile:"移动开发",devops:"运维开发"}[e]||"其他"} | 趋势: ${t=C(s).trend,{up:"上升",down:"下降",hot:"热门",stable:"稳定"}[t]||"未知"}`;var t,e},()=>({up:"📈",down:"📉",hot:"🔥",stable:"➡️"}[C(s).trend]||"❓")]),z("click",a,()=>ot(C(s).keyword)),T(t,a)}),T(t,s)};O(a,t=>{0===C(n).length?t(r):t(i,!1)},!0),T(t,s)};O(xe,t=>{C(c)?t(ye):t(we,!1)}),M(fe),M(jt),M(bt);var ke=W(bt,2),qe=_(ke),Re=W(_(qe),2),Te=_(Re);M(Re),M(qe),M(ke);var $e=W(ke,2),Se=_($e),_e=_(Se),We=W(_(_e),2),Me=W(_(We),2),Ce=_(Me),je=_(Ce),ze=_(je);U(ze);var Ie=W(ze,2),Ae=_(Ie),De=t=>{var e=Qt();T(t,e)};O(Ae,t=>{C(B).types.group&&t(De)}),M(Ie),M(je),F(2),M(Ce);var Pe=W(Ce,2),Be=_(Pe),Ee=_(Be);U(Ee);var Fe=W(Ee,2),Le=_(Fe),He=t=>{var e=te();T(t,e)};O(Le,t=>{C(B).types.channel&&t(He)}),M(Fe),M(Be),F(2),M(Pe);var Oe=W(Pe,2),Ke=_(Oe),Ve=_(Ke);U(Ve);var Ne=W(Ve,2),Ue=_(Ne),Ge=t=>{var e=ee();T(t,e)};O(Ue,t=>{C(B).types.bot&&t(Ge)}),M(Ne),M(Ke),F(2),M(Oe);var Je=W(Oe,2),Xe=_(Je),Ye=_(Xe);U(Ye);var Ze=W(Ye,2),Qe=_(Ze),ts=t=>{var e=se();T(t,e)};O(Qe,t=>{C(B).types.message&&t(ts)}),M(Ze),M(Xe),F(2),M(Je),M(Me),M(We);var es=W(We,2),ss=W(_(es),2),as=W(_(ss),2),rs=_(as);e(()=>{C(B),D(()=>{})});var is=_(rs);is.value=is.__value="any";var os=W(is);os.value=os.__value="1h";var ns=W(os);ns.value=ns.__value="24h";var ls=W(ns);ls.value=ls.__value="7d";var us=W(ls);us.value=us.__value="30d";var ds=W(us);ds.value=ds.__value="custom",M(rs),F(2),M(as),M(ss);var cs=W(ss,2),hs=t=>{var e=ae(),s=W(_(e),2),a=_(s),r=W(_(a),2);U(r),M(a);var i=W(a,2),o=W(_(i),2);U(o),M(i),M(s),M(e),J(r,()=>C(B).customStart,t=>H(B,C(B).customStart=t)),J(o,()=>C(B).customEnd,t=>H(B,C(B).customEnd=t)),T(t,e)};O(cs,t=>{"custom"===C(B).timePreset&&t(hs)}),M(es);var ps=W(es,2),bs=_(ps),gs=W(bs,2),vs=_(gs),ms=t=>{var e=re();F(),T(t,e)},fs=t=>{var e=ie();F(),T(t,e)};O(vs,t=>{C(u)?t(ms):t(fs,!1)}),M(gs),M(ps),M(_e),M(Se);var xs=W(Se,2),ys=_(xs),ws=t=>{var s=oe(),a=_(s),r=_(a),i=W(_(r),2),o=_(i),n=W(_(o),2);U(n),M(o);var l=W(o,2),u=W(_(l),2);U(u),M(l);var d=W(l,2),c=W(_(d),2);U(c),M(d);var h=W(d,2),p=W(_(h),2);U(p),M(h),M(i),M(r);var b=W(r,2),g=W(_(b),2),v=_(g),m=W(_(v),2);U(m),M(v);var f=W(v,2),x=W(_(f),2);U(x),M(f);var w=W(f,2),k=W(_(w),2);U(k),M(w),M(g),M(b);var q=W(b,2),R=W(_(q),2),$=_(R),S=W(_($),2);e(()=>{C(A),D(()=>{})});var j=_(S);j.value=j.__value="relevance";var z=W(j);z.value=z.__value="time";var P=W(z);P.value=P.__value="heat",M(S),M($);var E=W($,2),F=W(_(E),2);e(()=>{C(y),D(()=>{})});var L=_(F);L.value=L.__value="10";var O=W(L);O.value=O.__value="20";var K=W(O);K.value=K.__value="50",M(F),M(E),M(R),M(q),M(a),M(s),J(n,()=>C(B).sourceGroup,t=>H(B,C(B).sourceGroup=t)),J(u,()=>C(B).sourceChannel,t=>H(B,C(B).sourceChannel=t)),J(c,()=>C(B).sourceUser,t=>H(B,C(B).sourceUser=t)),J(p,()=>C(B).language,t=>H(B,C(B).language=t)),J(m,()=>C(B).minLength,t=>H(B,C(B).minLength=t)),J(x,()=>C(B).minInteractions,t=>H(B,C(B).minInteractions=t)),J(k,()=>C(B).minRelevance,t=>H(B,C(B).minRelevance=t)),et(S,()=>C(A),t=>I(A,t)),et(F,()=>C(y),t=>I(y,t)),T(t,s)};O(ys,t=>{C(b)&&t(ws)});var ks=W(ys,2),qs=_(ks),Rs=_(qs),Ts=_(Rs),$s=W(_(Ts)),Ss=_($s,!0);M($s),F(),M(Ts);var _s=W(Ts,2),Ws=t=>{var s=ne(),a=_(s);M(s),e(()=>P(a,`耗时 ${C(h)??""}ms`)),T(t,s)};O(_s,t=>{C(h)>0&&t(Ws)}),M(Rs);var Ms=W(Rs,2),Cs=_(Ms),js=_(Cs),zs=W(js,2),Is=_(zs);M(zs);var As=W(zs,2);M(Cs),M(Ms),M(qs);var Ds=W(qs,2),Ps=_(Ds),Bs=t=>{var e=le();T(t,e)};O(Ps,t=>{0!==C(i).length||C(u)||t(Bs)});var Es=W(Ps,2);K(Es,1,()=>C(i),V,(t,s)=>{var a=be(),i=_(a),o=_(i);Q(_(o),()=>tt(C(s).title,C(r))),M(o);var n=W(o,2),l=t=>{var e=ue();Q(_(e),()=>tt(C(s).description,C(r))),M(e),T(t,e)};O(n,t=>{C(s).description&&t(l)}),M(i);var u=W(i,2),d=_(u),c=t=>{var e=de();T(t,e)},h=t=>{var e=q(),a=R(e),r=t=>{var e=ce();T(t,e)};O(a,t=>{"channel"===C(s).type&&t(r)},!0),T(t,e)};O(d,t=>{"group"===C(s).type?t(c):t(h,!1)});var p=W(d,4),b=W(_(p));M(p);var g=W(p,4),v=t=>{var e=he();z("click",e,()=>ut(C(s))),T(t,e)},m=t=>{var e=pe();T(t,e)};O(g,t=>{"group"===C(s).type||"channel"===C(s).type?t(v):t(m,!1)}),M(u),M(a),e(()=>{G(o,"href",C(s).link),P(b,` ${C(s).members_count??""} members`)}),T(t,a)}),M(Ds),M(ks),M(xs),M($e),M(pt);var Fs=W(pt,2);Y(Fs,{get show(){return C(v)},get groupData(){return C(f)},$$events:{close:function(){I(v,!1),I(f,null)}}});var Ls=W(Fs,2);At(Ls,{get show(){return C(m)},set show(t){I(m,t)},$$events:{close:()=>I(m,!1)},$$legacy:!0});var Hs,Os=W(Ls,2),Ks=W(_(Os),2);M(Os),function(e,s){w(s,!1);let a=Z(s,"show",12,!1);const r=k();function i(){a(!1),r("close")}function o(t){"Escape"===t.key&&i()}t();var n=q(),l=R(n),u=t=>{var e=Dt(),s=_(e),a=W(s,2),r=W(_(a),4),n=_(r);M(r),M(a),M(e),z("click",s,i),z("click",n,i),z("keydown",e,o),T(t,e)};O(l,t=>{a()&&t(u)}),T(e,n),$()}(W(Os,2),{get show(){return C(ct)},set show(t){I(ct,t)},$$events:{close:function(){I(ct,!1)}},$$legacy:!0}),e((t,e)=>{yt.disabled=C(u),N(St,1,`relative bg-white/60 text-slate-700 border-2 border-blue-200/50 px-6 py-4 rounded-full cursor-pointer transition-all duration-300 backdrop-blur-md hover:bg-white/80 hover:border-blue-300/70 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-400/50 ${0===C(r).length?"hidden":"flex"} md:flex`),N(Wt,1,"transition-transform duration-300 "+(C(b)?"rotate-180":"")),N(jt,1,(0===C(r).length?"hidden":"flex")+" md:flex flex-col gap-6 mt-8 relative z-10"),P(Te,"筛选器 "+(C(g)?"▲":"▼")),N(Se,1,"w-full md:w-64 flex-shrink-0 "+(C(g)?"block":"hidden md:block")),N(Ie,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-blue-400 "+(C(B).types.group?"bg-gradient-to-br from-blue-500 to-blue-600 border-blue-500":"bg-white")),N(Fe,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-green-400 "+(C(B).types.channel?"bg-gradient-to-br from-green-500 to-green-600 border-green-500":"bg-white")),N(Ne,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-purple-400 "+(C(B).types.bot?"bg-gradient-to-br from-purple-500 to-purple-600 border-purple-500":"bg-white")),N(Ze,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-orange-400 "+(C(B).types.message?"bg-gradient-to-br from-orange-500 to-orange-600 border-orange-500":"bg-white")),gs.disabled=C(u),P(Ss,C(S)),js.disabled=C(u)||C(x)<=1,P(Is,`第 ${C(x)??""} / ${t??""} 页`),As.disabled=e},[st,()=>C(u)||C(x)>=st()]),J(mt,()=>C(r),t=>I(r,t)),z("input",mt,function(t){const e=t.target;I(r,e.value),C(r).length>0?(I(p,!0),it(C(r))):I(p,!1)}),z("focus",mt,()=>C(r)&&I(p,!0)),z("blur",mt,()=>setTimeout(()=>I(p,!1),200)),z("keydown",mt,t=>{"Enter"===t.key&&(I(p,!1),rt(),lt(C(r)))}),z("click",yt,()=>(I(x,1),rt())),z("click",$t,()=>I(m,!0)),z("click",St,function(){I(b,!C(b))}),z("click",qe,function(){I(g,!C(g))}),X(ze,()=>C(B).types.group,t=>H(B,C(B).types.group=t)),X(Ee,()=>C(B).types.channel,t=>H(B,C(B).types.channel=t)),X(Ve,()=>C(B).types.bot,t=>H(B,C(B).types.bot=t)),X(Ye,()=>C(B).types.message,t=>H(B,C(B).types.message=t)),et(rs,()=>C(B).timePreset,t=>H(B,C(B).timePreset=t)),z("click",bs,function(){I(B,{types:{group:!0,channel:!0,bot:!0,message:!0},timePreset:"any",timeOrder:"desc",customStart:"",customEnd:"",sourceGroup:"",sourceChannel:"",sourceUser:"",language:"",minLength:"",minInteractions:"",minRelevance:""})}),z("click",gs,()=>(I(x,1),rt())),z("click",js,()=>nt(C(x)-1)),z("click",As,()=>nt(C(x)+1)),z("click",Ks,(Hs=function(){I(ct,!0)},function(...t){return t[0].preventDefault(),Hs?.apply(this,t)})),T(s,ht),$()}export{ve as component};
