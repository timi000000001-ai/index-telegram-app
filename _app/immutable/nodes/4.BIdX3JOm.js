import"../chunks/Cm9PB-7n.js";import{i as e}from"../chunks/oSfBLxa4.js";import{m as s,o as a,a6 as t,a7 as r,n as l,q as o,t as i,r as n,v as d,w as c,a as v,z as p,$ as m,x as u,y as h,s as x,B as b,E as g,F as f,C as w,u as y,A as k,a8 as M,a9 as z,aa as j}from"../chunks/vk1Hrpyt.js";import{i as $}from"../chunks/BGXLXVlW.js";import{e as C,i as B,s as T}from"../chunks/C5uKWiUN.js";import{s as N}from"../chunks/a05Gk8vy.js";var A=l('<meta name="description" content="查看最新收录的Telegram群组、频道和机器人"/>'),S=l('<div class="flex items-center justify-center py-12"><div class="flex items-center gap-3 text-slate-500"><svg class="w-6 h-6 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span>加载中...</span></div></div>'),V=l('<div class="flex flex-col items-center justify-center py-12"><svg class="w-12 h-12 text-red-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-slate-600 mb-4"> </p> <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">重新加载</button></div>'),H=M('<svg class="w-4 h-4 text-blue-500 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'),L=l('<span class="px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full flex-shrink-0">NEW</span>'),D=l('<span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded"> </span>'),E=l('<div class="flex items-start gap-4 p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors"><img class="w-12 h-12 rounded-full flex-shrink-0"/> <div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="font-semibold text-slate-800 truncate"> </h3> <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full flex-shrink-0"> </span> <!> <!></div> <p class="text-slate-600 text-sm mb-2 line-clamp-2 svelte-1watu3b"> </p> <div class="flex items-center gap-4 text-sm text-slate-500 mb-2"><span class="flex items-center gap-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg> </span> <span class="flex items-center gap-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> </span> <span class="flex items-center gap-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg> </span></div> <div class="flex flex-wrap gap-1"></div></div> <div class="flex flex-col gap-2 flex-shrink-0"><button class="px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors">查看详情</button> <button class="px-3 py-1 bg-gray-100 text-gray-600 text-sm rounded hover:bg-gray-200 transition-colors">收藏</button></div></div>'),I=l('<div class="p-6"><div class="grid gap-4"></div></div>'),W=M('<svg class="w-4 h-4 text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'),q=l('<span class="px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full">NEW</span>'),F=l('<div class="flex items-center gap-4 p-4 hover:bg-slate-50 transition-colors"><img class="w-10 h-10 rounded-full"/> <div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1"><h4 class="font-medium text-slate-800 truncate"> </h4> <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full"> </span> <!> <!></div> <div class="flex items-center gap-3 text-sm text-slate-600"><span> </span> <span> </span></div></div> <div class="flex gap-2"><button class="px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors">查看</button></div></div>'),O=l('<div class="border border-slate-200 rounded-lg overflow-hidden"><div class="bg-slate-100 px-4 py-3 border-b border-slate-200"><h3 class="font-semibold text-slate-800 flex items-center gap-2"><span class="w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"></span> </h3></div> <div class="divide-y divide-slate-200"></div></div>'),P=l('<div class="p-6"><div class="grid gap-6"></div></div>'),R=l('<div class="max-w-7xl mx-auto"><div class="mb-8"><h1 class="text-3xl font-bold text-slate-800 mb-2">每日新增</h1> <p class="text-slate-600">发现最新收录的优质群组、频道和机器人</p></div> <div class="bg-white rounded-lg shadow-sm border border-slate-200 mb-6"><div class="flex border-b border-slate-200"><button><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg> 按人数排序</button> <button><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg> 按分类浏览</button></div></div> <div class="bg-white rounded-lg shadow-sm border border-slate-200"><!></div></div>');function U(l,M){s(M,!1);const U=p(),G=p();let J=p("members"),K=p([]),Q=p(!0),X=p("");async function Y(){try{x(Q,!0),x(X,"");const e=await new Promise(e=>{setTimeout(()=>{e({success:!0,data:Z()})},1e3)});e.success?x(K,e.data):x(X,"获取数据失败")}catch(e){x(X,"网络错误，请稍后重试")}finally{x(Q,!1)}}function Z(){const e=["群组","频道","机器人"],s=["科技","娱乐","新闻","教育","游戏","生活","工具","商业"];return Array.from({length:30},(a,t)=>{const r=e[t%3],l=new Date(Date.now()-24*Math.random()*60*60*1e3);return{id:t+1,name:`${r}${t+1}`,type:r,category:s[t%s.length],description:`这是一个关于${s[t%s.length]}的${r}，提供优质内容和服务。`,members:"机器人"===r?0:Math.floor(1e4*Math.random())+100,addedTime:l,addedTimeStr:ee(l),isVerified:Math.random()>.7,isNew:Math.random()>.5,avatar:`https://api.dicebear.com/7.x/initials/svg?seed=${encodeURIComponent(r+(t+1))}`,tags:_(s[t%s.length],r)}}).sort((e,s)=>s.addedTime-e.addedTime)}function _(e,s){const a=({"科技":["AI","编程","开发","技术"],"娱乐":["音乐","电影","游戏","综艺"],"新闻":["时事","财经","国际","本地"],"教育":["学习","考试","培训","知识"],"游戏":["手游","端游","攻略","竞技"],"生活":["美食","旅行","健康","购物"],"工具":["效率","实用","办公","助手"],"商业":["创业","投资","营销","管理"]}[e]||["其他"]).slice(0,Math.floor(3*Math.random())+1);return"机器人"===s&&a.push("自动化"),a}function ee(e){const s=new Date-e,a=Math.floor(s/36e5),t=Math.floor(s/6e4);return a<1?`${t}分钟前`:a<24?`${a}小时前`:e.toLocaleDateString("zh-CN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function se(e){x(J,e)}a(()=>{Y()}),t(()=>v(K),()=>{x(U,v(K).reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{}))}),t(()=>v(K),()=>{var e;x(G,(e=v(K),[...e].sort((e,s)=>Number(s.members)-Number(e.members))))}),r(),e();var ae=R();o(e=>{var s=A();m.title="每日新增 - Telegram搜索平台",d(e,s)});var te=u(h(ae),2),re=h(te),le=h(re),oe=u(le,2);b(re),b(te);var ie=u(te,2),ne=h(ie),de=e=>{var s=S();d(e,s)},ce=e=>{var s=g(),a=f(s),t=e=>{var s=V(),a=u(h(s),2),t=h(a,!0);b(a);var r=u(a,2);b(s),i(()=>w(t,v(X))),n("click",r,Y),d(e,s)},r=e=>{var s=g(),a=f(s),t=e=>{var s=I(),a=h(s);C(a,5,()=>v(G),B,(e,s)=>{var a=E(),t=h(a),r=u(t,2),l=h(r),o=h(l),n=h(o,!0);b(o);var c=u(o,2),p=h(c,!0);b(c);var m=u(c,2),x=e=>{var s=H();d(e,s)};$(m,e=>{v(s),y(()=>v(s).isVerified)&&e(x)});var g=u(m,2),f=e=>{var s=L();d(e,s)};$(g,e=>{v(s),y(()=>v(s).isNew)&&e(f)}),b(l);var M=u(l,2),z=h(M,!0);b(M);var j=u(M,2),N=h(j),A=u(h(N));b(N);var S=u(N,2),V=u(h(S));b(S);var I=u(S,2),W=u(h(I));b(I),b(j);var q=u(j,2);C(q,5,()=>(v(s),y(()=>v(s).tags)),B,(e,s)=>{var a=D(),t=h(a,!0);b(a),i(()=>w(t,v(s))),d(e,a)}),b(q),b(r),k(2),b(a),i(e=>{T(t,"src",(v(s),y(()=>v(s).avatar))),T(t,"alt",(v(s),y(()=>v(s).name))),w(n,(v(s),y(()=>v(s).name))),w(p,(v(s),y(()=>v(s).type))),w(z,(v(s),y(()=>v(s).description))),w(A,` ${e??""}`),w(V,` ${v(s),y(()=>v(s).addedTimeStr)??""}`),w(W,` ${v(s),y(()=>v(s).category)??""}`)},[()=>(v(s),y(()=>"机器人"===v(s).type?"机器人":`${v(s).members.toLocaleString()} 成员`))]),d(e,a)}),b(a),b(s),d(e,s)},r=e=>{var s=P(),a=h(s);C(a,5,()=>(v(U),y(()=>Object.entries(v(U)))),B,(e,s)=>{var a=z(()=>j(v(s),2));let t=()=>v(a)[1];var r=O(),l=h(r),o=h(l),n=u(h(o));b(o),b(l);var c=u(l,2);C(c,5,t,B,(e,s)=>{var a=F(),t=h(a),r=u(t,2),l=h(r),o=h(l),n=h(o,!0);b(o);var c=u(o,2),p=h(c,!0);b(c);var m=u(c,2),x=e=>{var s=W();d(e,s)};$(m,e=>{v(s),y(()=>v(s).isVerified)&&e(x)});var g=u(m,2),f=e=>{var s=q();d(e,s)};$(g,e=>{v(s),y(()=>v(s).isNew)&&e(f)}),b(l);var M=u(l,2),z=h(M),j=h(z,!0);b(z);var C=u(z,2),B=h(C,!0);b(C),b(M),b(r),k(2),b(a),i(e=>{T(t,"src",(v(s),y(()=>v(s).avatar))),T(t,"alt",(v(s),y(()=>v(s).name))),w(n,(v(s),y(()=>v(s).name))),w(p,(v(s),y(()=>v(s).type))),w(j,e),w(B,(v(s),y(()=>v(s).addedTimeStr)))},[()=>(v(s),y(()=>"机器人"===v(s).type?"机器人":`${v(s).members.toLocaleString()} 成员`))]),d(e,a)}),b(c),b(r),i(()=>w(n,` ${v(a)[0]??""} (${t(),y(()=>t().length)??""})`)),d(e,r)}),b(a),b(s),d(e,s)};$(a,e=>{"members"===v(J)?e(t):e(r,!1)}),d(e,s)};$(a,e=>{v(X)?e(t):e(r,!1)},!0),d(e,s)};$(ne,e=>{v(Q)?e(de):e(ce,!1)}),b(ie),b(ae),i(()=>{N(le,1,"tab-button "+("members"===v(J)?"tab-active":""),"svelte-1watu3b"),N(oe,1,"tab-button "+("category"===v(J)?"tab-active":""),"svelte-1watu3b")}),n("click",le,()=>se("members")),n("click",oe,()=>se("category")),d(l,ae),c()}export{U as component};
