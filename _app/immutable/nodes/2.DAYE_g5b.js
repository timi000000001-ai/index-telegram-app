import"../chunks/Cm9PB-7n.js";import{i as e}from"../chunks/B4uayAjW.js";import{t,J as l,W as o,z as a,aS as r,a1 as s,a2 as n,ai as i,aT as d,aU as c,aV as u,_ as p,aW as v,am as b,K as m,aM as g,R as f,aa as h,aX as x,aY as w,p as y,l as k,j as _,k as z,a as M,b as j,f as $,c as C,s as B,r as S,g as L,m as T,e as H,d as V,aZ as E,a_ as I,i as P,au as A,aF as D,n as R,o as U,a$ as G}from"../chunks/xBOr3W9n.js";import{i as q}from"../chunks/Bh45ghMz.js";import{e as O,i as F}from"../chunks/C4k8IS-J.js";import{s as W,r as J,a as N}from"../chunks/CyQ_zrDl.js";import{b as K,a as X}from"../chunks/BmroUAtx.js";import{s as Y}from"../chunks/DKlC9YCX.js";import{G as Z}from"../chunks/TX7Lo303.js";import{p as Q}from"../chunks/CyY8kpE4.js";function ee(e,t,l=!1){if(e.multiple){if(null==t)return;if(!h(t))return x();for(var o of e.options)o.selected=t.includes(le(o))}else{for(o of e.options){var a=le(o);if(w(a,t))return void(o.selected=!0)}l&&void 0===t||(e.selectedIndex=-1)}}function te(e,t,l=t){var o=!0;m(e,"change",t=>{var o,a=t?"[selected]":":checked";if(e.multiple)o=[].map.call(e.querySelectorAll(a),le);else{var r=e.querySelector(a)??e.querySelector("option:not([disabled])");o=r&&le(r)}l(o)}),g(()=>{var a=t();if(ee(e,a,o),o&&void 0===a){var r=e.querySelector(":checked");null!==r&&(a=le(r),l(a))}e.__value=a,o=!1}),function(e){var t=new MutationObserver(()=>{ee(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),f(()=>{t.disconnect()})}(e)}function le(e){return"__value"in e?e.__value:e.value}function oe(e){return function(...t){return t[0].stopPropagation(),e?.apply(this,t)}}function ae(e,t){var l=e.$$events?.[t.type],o=h(l)?l.slice():null==l?[]:[l];for(var a of o)a.call(this,t)}var re=$('<p class="text-red-500 text-sm mt-1 flex items-center gap-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> </p>'),se=$('<div class="space-y-4"><div><label for="single-link" class="block text-sm font-medium text-gray-700 mb-2">链接地址 *</label> <input id="single-link" type="url" placeholder="https://t.me/example"/> <!></div> <div><label for="link-title" class="block text-sm font-medium text-gray-700 mb-2">标题</label> <input id="link-title" type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors" placeholder="链接标题（可选）"/></div> <div><label for="link-description" class="block text-sm font-medium text-gray-700 mb-2">描述</label> <textarea id="link-description" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors resize-none" rows="3" placeholder="链接描述（可选）"></textarea></div> <div><label for="category" class="block text-sm font-medium text-gray-700 mb-2">分类</label> <select id="category" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"><option>选择分类（可选）</option><option>技术</option><option>新闻</option><option>娱乐</option><option>教育</option><option>商业</option><option>其他</option></select></div></div>'),ne=$('<p class="text-red-500 text-sm mt-1 flex items-center gap-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> </p>'),ie=$('<p class="text-sm text-gray-500 mt-1">每行输入一个Telegram链接，支持批量收录</p>'),de=$('<div class="space-y-4"><div><label for="multiple-links" class="block text-sm font-medium text-gray-700 mb-2">链接地址 *</label> <textarea id="multiple-links" rows="6" placeholder="每行输入一个链接地址： https://t.me/example1 https://t.me/example2 https://t.me/example3"></textarea> <!></div> <div><label for="batch-category" class="block text-sm font-medium text-gray-700 mb-2">统一分类</label> <select id="batch-category" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"><option>选择分类（可选）</option><option>技术</option><option>新闻</option><option>娱乐</option><option>教育</option><option>商业</option><option>其他</option></select></div></div>'),ce=$('<div class="text-center space-y-6"><div class="bg-blue-50 rounded-xl p-6"><div class="text-6xl mb-4">🤖</div> <h3 class="text-lg font-semibold text-gray-800 mb-2">通过Telegram机器人收录</h3> <p class="text-gray-600 mb-4">点击下方按钮打开Telegram机器人，直接发送链接即可快速收录</p> <button class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-colors inline-flex items-center gap-2"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.374 0 0 5.373 0 12s5.374 12 12 12 12-5.373 12-12S18.626 0 12 0zm5.568 8.16c-.169 1.858-.896 6.728-.896 6.728-.377 2.617-1.407 3.08-2.896 1.596l-2.123-1.596-1.018.684c-.215.145-.395.26-.81.26-.528 0-.434-.2-.612-.706L8.4 13.116l-2.917-.93c-.631-.2-.636-.63.14-.936l11.395-4.29c.523-.2 1.01.12.55 1.2z"></path></svg> 打开收录机器人</button></div> <div class="bg-gray-50 rounded-xl p-4"><h4 class="font-medium text-gray-800 mb-2">使用说明：</h4> <ul class="text-sm text-gray-600 space-y-1 text-left"><li>• 点击按钮打开Telegram机器人</li> <li>• 直接发送链接给机器人</li> <li>• 机器人会自动解析并收录链接</li> <li>• 支持批量发送多个链接</li></ul></div></div>'),ue=A('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'),pe=A('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>'),ve=$('<div><div class="flex items-center gap-2"><!> <span> </span></div></div>'),be=$('<div class="bg-gray-50 px-6 py-4 flex gap-3 justify-end"><button class="px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors">取消</button> <button class="px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"><!></button> <button class="px-6 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div>'),me=$('<div class="bg-gray-50 px-6 py-4 flex justify-end"><button class="px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors">关闭</button></div>'),ge=$('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4" role="dialog" aria-modal="true" tabindex="-1"><div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden" role="document" tabindex="0"><div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6"><div class="flex items-center justify-between"><h2 class="text-xl font-bold">添加收录</h2> <button class="text-white/80 hover:text-white transition-colors" aria-label="关闭弹窗"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex gap-2 mt-4"><button>单个链接</button> <button>批量链接</button> <button>TG机器人</button></div></div> <div class="p-6 overflow-y-auto max-h-[60vh]"><!> <!></div> <!></div></div>');function fe(l,o){y(o,!1);const a=k();let r=Q(o,"show",12,!1),s=T("single"),n=T(""),i=T(""),d=T(""),c=T(""),u=T(""),p=T(!1),v=T(""),b=T(""),m=T(""),g=T("");function f(){r(!1),V(n,""),V(i,""),V(d,""),V(c,""),V(u,""),V(v,""),V(b,""),V(m,""),V(g,""),a("close")}function h(e){return e.trim().startsWith("https://t.me")}function x(){return L(n).trim()?h(L(n))?(V(m,""),!0):(V(m,"只能添加 https://t.me 开头的链接"),!1):(V(m,""),!0)}function w(){if(!L(i).trim())return V(g,""),!0;const e=L(i).split("\n").filter(e=>e.trim()).filter(e=>!h(e));return e.length>0?(V(g,`只能添加 https://t.me 开头的链接，发现 ${e.length} 个无效链接`),!1):(V(g,""),!0)}async function $(e=!1){if(!L(p)){if("single"===L(s)){if(!L(n).trim())return void A("请输入链接地址","error");if(!x())return}if("multiple"===L(s)){if(!L(i).trim())return void A("请输入链接地址","error");if(!w())return}V(p,!0);try{L(s),L(d),L(c),L(u),"single"===L(s)?L(n):L(i).split("\n").filter(e=>e.trim()),(new Date).toISOString();await new Promise(e=>setTimeout(e,1e3));Math.random()>.2?(A("收录成功！","success"),e?(V(n,""),V(i,"")):setTimeout(()=>{f()},1500)):A("收录失败，请重试","error")}catch(t){A("收录失败，请重试","error")}finally{V(p,!1)}}}function A(e,t){V(v,e),V(b,t),setTimeout(()=>{V(v,""),V(b,"")},3e3)}function U(e){V(s,e),V(v,""),V(b,""),V(m,""),V(g,"")}function G(){window.open("https://t.me/your_collection_bot","_blank"),A("请在Telegram中向机器人发送链接进行收录","success")}e();var O=_(),F=z(O),N=e=>{var l=ge(),a=C(l),r=C(a),h=C(r),y=B(C(h),2);S(h);var k=B(h,2),j=C(k),T=B(j,2),A=B(T,2);S(k),S(r);var O=B(r,2),F=C(O),N=e=>{var l=se(),o=C(l),a=B(C(o),2);J(a);var r=B(a,2),s=e=>{var l=re(),o=B(C(l));S(l),t(()=>P(o,` ${L(m)??""}`)),M(e,l)};q(r,e=>{L(m)&&e(s)}),S(o);var i=B(o,2),p=B(C(i),2);J(p),S(i);var v=B(i,2),b=B(C(v),2);E(b),S(v);var g=B(v,2),f=B(C(g),2);t(()=>{L(u),I(()=>{})});var h=C(f);h.value=h.__value="";var w=B(h);w.value=w.__value="technology";var y=B(w);y.value=y.__value="news";var k=B(y);k.value=k.__value="entertainment";var _=B(k);_.value=_.__value="education";var z=B(_);z.value=z.__value="business";var j=B(z);j.value=j.__value="other",S(f),S(g),S(l),t(()=>W(a,1,"w-full px-4 py-3 border rounded-lg outline-none transition-colors "+(L(m)?"border-red-500 focus:ring-2 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"))),K(a,()=>L(n),e=>V(n,e)),H("input",a,x),H("blur",a,x),K(p,()=>L(d),e=>V(d,e)),K(b,()=>L(c),e=>V(c,e)),te(f,()=>L(u),e=>V(u,e)),M(e,l)},X=e=>{var l=_(),o=z(l),a=e=>{var l=de(),o=C(l),a=B(C(o),2);E(a);var r=B(a,2),s=e=>{var l=ne(),o=B(C(l));S(l),t(()=>P(o,` ${L(g)??""}`)),M(e,l)},n=e=>{var t=ie();M(e,t)};q(r,e=>{L(g)?e(s):e(n,!1)}),S(o);var d=B(o,2),c=B(C(d),2);t(()=>{L(u),I(()=>{})});var p=C(c);p.value=p.__value="";var v=B(p);v.value=v.__value="technology";var b=B(v);b.value=b.__value="news";var m=B(b);m.value=m.__value="entertainment";var f=B(m);f.value=f.__value="education";var h=B(f);h.value=h.__value="business";var x=B(h);x.value=x.__value="other",S(c),S(d),S(l),t(()=>W(a,1,"w-full px-4 py-3 border rounded-lg outline-none transition-colors resize-none "+(L(g)?"border-red-500 focus:ring-2 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"))),K(a,()=>L(i),e=>V(i,e)),H("input",a,w),H("blur",a,w),te(c,()=>L(u),e=>V(u,e)),M(e,l)},r=e=>{var t=_(),l=z(t),o=e=>{var t=ce(),l=C(t),o=B(C(l),6);S(l),R(2),S(t),H("click",o,G),M(e,t)};q(l,e=>{"telegram"===L(s)&&e(o)},!0),M(e,t)};q(o,e=>{"multiple"===L(s)?e(a):e(r,!1)},!0),M(e,l)};q(F,e=>{"single"===L(s)?e(N):e(X,!1)});var Y=B(F,2),Z=e=>{var l=ve(),o=C(l),a=C(o),r=e=>{var t=ue();M(e,t)},s=e=>{var t=pe();M(e,t)};q(a,e=>{"success"===L(b)?e(r):e(s,!1)});var n=B(a,2),i=C(n,!0);S(n),S(o),S(l),t(()=>{W(l,1,"mt-4 p-3 rounded-lg "+("success"===L(b)?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200")),P(i,L(v))}),M(e,l)};q(Y,e=>{L(v)&&e(Z)}),S(O);var Q=B(O,2),ee=e=>{var l=be(),o=C(l),a=B(o,2),r=C(a),s=e=>{var t=D("保存中...");M(e,t)},n=e=>{var t=D("保存后继续收录");M(e,t)};q(r,e=>{L(p)?e(s):e(n,!1)}),S(a);var i=B(a,2),d=C(i),c=e=>{var t=D("保存中...");M(e,t)},u=e=>{var t=D("保存");M(e,t)};q(d,e=>{L(p)?e(c):e(u,!1)}),S(i),S(l),t(()=>{o.disabled=L(p),a.disabled=L(p),i.disabled=L(p)}),H("click",o,f),H("click",a,()=>$(!0)),H("click",i,()=>$(!1)),M(e,l)},le=e=>{var t=me(),l=C(t);S(t),H("click",l,f),M(e,t)};q(Q,e=>{"telegram"!==L(s)?e(ee):e(le,!1)}),S(a),S(l),t(()=>{W(j,1,"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("single"===L(s)?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/15")),W(T,1,"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("multiple"===L(s)?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/15")),W(A,1,"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("telegram"===L(s)?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/15"))}),H("click",y,f),H("click",j,()=>U("single")),H("click",T,()=>U("multiple")),H("click",A,()=>U("telegram")),H("click",a,oe(function(e){ae.call(this,o,e)})),H("keydown",a,oe(function(e){ae.call(this,o,e)})),H("click",l,f),H("keydown",l,e=>"Escape"===e.key&&f()),M(e,l)};q(F,e=>{r()&&e(N)}),M(l,O),j()}var he=$('<div class="fixed inset-0 z-50 flex items-center justify-center p-4" aria-modal="true" role="dialog" tabindex="-1"><div class="fixed inset-0 bg-black bg-opacity-50"></div> <div class="relative bg-white rounded-lg shadow-xl max-w-md w-full mx-auto p-6 space-y-4 transform transition-all sm:my-8 sm:w-full sm:max-w-lg svelte-wn6jw9"><h2 class="text-2xl font-bold text-gray-900">法律声明</h2> <div class="prose prose-sm max-w-none text-gray-700"><h3 class="text-lg font-semibold text-gray-800">使用限制</h3> <p>本项目不适用于中国大陆。Telegram 在中国大陆受到政府的访问限制，本项目的数据收集和处理活动可能违反当地法律法规。</p> <h3 class="text-lg font-semibold text-gray-800">免责声明</h3> <p>本项目开发人员对因使用不当、违反当地法律或数据隐私问题而导致的任何后果概不负责。用户应自行评估法律风险，并在必要时咨询法律专业人士。</p> <h3 class="text-lg font-semibold text-gray-800">建议</h3> <p>如果您位于中国大陆，请不要下载、安装或运行本项目。请寻找符合当地法规的替代方案。</p></div> <div class="flex justify-end"><button type="button" class="inline-flex justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">关闭</button></div></div></div>');var xe=$('<div class="block w-full text-left bg-transparent border-none px-5 py-4 cursor-default text-slate-500 flex items-center gap-3"><div class="w-4 h-4 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin"></div> 加载建议...</div>'),we=$('<button type="button" class="block w-full text-left bg-transparent border-none px-5 py-4 cursor-pointer text-slate-700 transition-all duration-200 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-slate-900 focus:outline-none focus:bg-gradient-to-r focus:from-blue-100 focus:to-purple-100"><span class="flex items-center gap-3"><svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg> </span></button>'),ye=$('<div class="absolute left-0 right-0 top-full mt-3 z-20 rounded-2xl overflow-hidden shadow-2xl"><div class="bg-white/95 backdrop-blur-xl rounded-2xl max-h-56 overflow-auto shadow-2xl border border-white/20"><!> <!></div></div>'),ke=$('<span class="text-black/60 italic">暂无历史记录</span>'),_e=$('<button class="group relative bg-black/10 border border-black/30 px-4 py-2.5 rounded-full cursor-pointer text-black text-sm font-medium transition-all duration-300 backdrop-blur-md hover:bg-black/20 hover:border-black/50 hover:-translate-y-1 hover:shadow-lg hover:shadow-black/20 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-black/50"><span class="relative z-10"> </span> <div class="absolute inset-0 bg-gradient-to-r from-blue-400/20 to-purple-400/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div></button>'),ze=$('<!> <button class="bg-transparent border-0 text-black/70 cursor-pointer underline transition-all duration-300 hover:text-black hover:scale-105 font-medium text-sm">清空历史</button>',1),Me=$('<span class="text-black/60 flex items-center gap-2"><div class="w-3 h-3 border border-black/40 border-t-black rounded-full animate-spin"></div> 加载中...</span>'),je=$('<span class="text-black/60 italic">暂无热门内容</span>'),$e=$('<button><span class="text-base leading-none animate-bounce"> </span> <span class="font-bold relative z-10"> </span> <span class="text-xs opacity-90 font-medium bg-white/20 px-2 py-1 rounded-full"> </span> <div class="absolute inset-0 bg-gradient-to-r from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-full"></div></button>'),Ce=A('<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),Be=A('<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),Se=A('<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),Le=A('<svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),Te=$('<div class="mt-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-100"><div class="flex items-center gap-2 mb-3"><svg class="w-4 h-4 text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path></svg> <span class="text-sm font-semibold text-blue-700">自定义时间范围</span></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3"><label class="block"><span class="block text-xs font-medium text-slate-600 mb-1 flex items-center gap-1"><span class="w-2 h-2 bg-green-400 rounded-full"></span> 开始日期</span> <input type="date" class="w-full px-3 py-2.5 border-2 border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 bg-white hover:border-slate-300 text-sm"/></label> <label class="block"><span class="block text-xs font-medium text-slate-600 mb-1 flex items-center gap-1"><span class="w-2 h-2 bg-red-400 rounded-full"></span> 结束日期</span> <input type="date" class="w-full px-3 py-2.5 border-2 border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 bg-white hover:border-slate-300 text-sm"/></label></div></div>'),He=A('<svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> 应用中...',1),Ve=A('<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> 应用',1),Ee=$('<section class="mb-6"><div class="bg-white rounded-2xl shadow-lg p-6"><div class="mb-6"><h4 class="text-lg font-semibold text-slate-800 mb-4">来源过滤</h4> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">群组</span> <input placeholder="群组名称" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"/></label> <label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">频道</span> <input placeholder="频道名称" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"/></label> <label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">用户</span> <input placeholder="发送者" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"/></label> <label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">语言</span> <input placeholder="如: zh, en" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"/></label></div></div> <div class="mb-6"><h4 class="text-lg font-semibold text-slate-800 mb-4">质量过滤</h4> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">最小长度</span> <input type="number" min="0" placeholder="字符数" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"/></label> <label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">最小互动</span> <input type="number" min="0" placeholder="点赞/转发数" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"/></label> <label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">最小相关性</span> <input type="number" min="0" max="1" step="0.01" placeholder="0~1" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"/></label></div></div> <div><h4 class="text-lg font-semibold text-slate-800 mb-4">排序与分页</h4> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">排序</span> <select class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"><option>相关性</option><option>时间</option><option>热度</option></select></label> <label class="block"><span class="block text-sm font-medium text-slate-700 mb-1">每页条数</span> <select class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"><option>10</option><option>20</option><option>50</option></select></label></div></div></div></section>'),Ie=$('<span class="text-slate-500 text-sm"> </span>'),Pe=$('<div class="bg-white rounded-2xl shadow-lg p-12 text-center"><div class="text-slate-400 text-lg">暂无数据，请输入关键字进行搜索。</div></div>'),Ae=$('<span class="text-sm text-slate-500"> </span>'),De=$('<button class="text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors" title="查看群组统计详情">查看详情</button>'),Re=$('<button class="text-slate-400 text-sm font-medium cursor-not-allowed" disabled title="占位">查看详情</button>'),Ue=$('<article class="bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300"><div class="flex flex-wrap items-center gap-3 mb-4"><span> </span> <span class="text-sm text-slate-600"> </span> <span class="text-sm text-slate-500"> </span> <!></div> <div class="text-slate-700 leading-relaxed mb-4" aria-label="消息内容"><!></div> <div class="flex flex-wrap gap-3"><!> <button class="text-slate-400 text-sm font-medium cursor-not-allowed" disabled title="占位">来源跳转</button> <button class="text-slate-400 text-sm font-medium cursor-not-allowed" disabled title="占位">收藏</button> <button class="text-slate-400 text-sm font-medium cursor-not-allowed" disabled title="占位">分享</button></div></article>'),Ge=$('<div class="w-full p-2 min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/50 relative overflow-hidden"><section class="relative z-10 bg-gradient-to-br from-white/80 via-blue-50/60 to-indigo-100/40 backdrop-blur-xl rounded-3xl md:rounded-[2rem] p-6 md:p-8 lg:p-12 shadow-2xl shadow-blue-500/10 border border-white/20 mb-6 overflow-hidden"><div class="absolute inset-0 pointer-events-none"><div class="absolute top-0 left-0 w-full h-full opacity-40"><div class="absolute top-4 left-0 w-0.5 h-16 bg-gradient-to-b from-transparent via-blue-400/50 to-transparent shadow-md shadow-blue-400/30"></div> <div class="absolute top-8 right-0 w-0.5 h-12 bg-gradient-to-b from-transparent via-purple-400/40 to-transparent shadow-md shadow-purple-400/20"></div> <div class="absolute bottom-8 left-1/4 w-0.5 h-14 bg-gradient-to-b from-transparent via-indigo-400/45 to-transparent shadow-md shadow-indigo-400/25"></div> <div class="absolute top-12 right-1/3 w-0.5 h-10 bg-gradient-to-b from-transparent via-cyan-400/35 to-transparent shadow-sm shadow-cyan-400/15"></div> <div class="absolute bottom-12 left-1/3 w-0.5 h-18 bg-gradient-to-b from-transparent via-rose-400/30 to-transparent shadow-sm shadow-rose-400/10"></div></div></div> <h1 class="text-3xl md:text-4xl font-bold bg-gradient-to-r from-slate-800 via-blue-700 to-indigo-800 bg-clip-text text-transparent mb-2 relative z-10 drop-shadow-sm">Telegram 内容搜索</h1> <p class="text-slate-600/90 text-base md:text-lg mb-6 relative z-10 font-medium">搜索群组、频道和私聊中的消息内容</p> <div class="flex flex-col sm:flex-row gap-4 items-stretch sm:items-center relative z-10"><div class="relative flex-1 group"><div class="absolute inset-0 bg-gradient-to-r from-blue-400/30 via-purple-400/30 to-pink-400/30 rounded-full blur-xl opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 transition-all duration-300"></div> <input class="w-full px-6 py-4 text-base border-2 border-blue-200/50 rounded-full outline-none transition-all duration-300 bg-white/70 backdrop-blur-md text-slate-700 placeholder-slate-400 relative z-10 focus:border-blue-400/80 focus:bg-white/90 focus:shadow-lg hover:border-blue-300/70 hover:bg-white/80" placeholder="请输入搜索关键字（支持多个关键字，以空格分隔）"/> <div class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none transition-colors duration-300 group-focus-within:text-blue-600"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div></div> <button class="relative bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-600 text-white border-0 px-8 py-4 rounded-full cursor-pointer font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-60 disabled:cursor-not-allowed group"><span class="relative z-10"><!></span></button> <button class="relative bg-gradient-to-r from-green-500 via-emerald-500 to-teal-600 text-white border-0 px-6 py-4 rounded-full cursor-pointer font-semibold transition-all duration-300 shadow-lg hover:shadow-xl group"><span class="relative z-10 flex items-center gap-2"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> 收录</span></button> <button><span class="flex items-center gap-2">高级选项 <span><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></span></span></button></div> <!> <div><div class="flex items-center gap-3 flex-wrap pb-4"><span class="text-black mr-4 font-bold text-sm flex items-center gap-2 flex-shrink-0"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> 历史搜索</span> <!></div> <div class="flex items-center gap-3 flex-wrap pb-4"><span class="text-black mr-4 font-bold text-sm flex items-center gap-2 flex-shrink-0"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg> 热门搜索</span> <!></div></div></section> <div class="md:hidden mb-4"><button class="w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-2xl font-medium hover:bg-blue-700 transition-colors"><span class="text-lg">🔍</span> <span> </span></button></div> <div class="flex flex-col md:flex-row gap-3 w-full px-2"><aside><div class="bg-white rounded-2xl shadow-lg p-6 sticky top-6"><h3 class="text-lg font-bold text-slate-800 mb-4">筛选器</h3> <div class="mb-6"><div class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2"><span class="w-1 h-4 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full"></span> 内容类型</div> <div class="space-y-3"><label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200"><div class="relative"><input type="checkbox" class="sr-only"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors">📱 群组</span></label> <label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200"><div class="relative"><input type="checkbox" class="sr-only"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors">📢 频道</span></label> <label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200"><div class="relative"><input type="checkbox" class="sr-only"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors">🤖 机器人</span></label> <label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200"><div class="relative"><input type="checkbox" class="sr-only"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors">💬 消息</span></label></div></div> <div class="mb-6"><div class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2"><span class="w-1 h-4 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"></span> 时间筛选</div> <label class="block mb-2"><span class="block text-sm font-medium text-slate-700 mb-2 flex items-center gap-1"><svg class="w-4 h-4 text-slate-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path></svg> 预设时间</span> <div class="relative"><select class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 appearance-none cursor-pointer hover:border-slate-300 hover:shadow-sm text-sm font-medium text-slate-700"><option>🌐 不限</option><option>⚡ 最近1小时</option><option>📅 最近24小时</option><option>📊 最近7天</option><option>📈 最近30天</option><option>⚙️ 自定义</option></select> <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"><svg class="w-5 h-5 text-slate-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></div></div></label> <!></div> <div class="flex gap-3 mt-6"><button class="flex-1 px-4 py-3 text-sm font-semibold text-slate-600 bg-gradient-to-r from-slate-100 to-slate-200 rounded-xl hover:from-slate-200 hover:to-slate-300 transition-all duration-200 shadow-sm hover:shadow-md flex items-center justify-center gap-2"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"></path></svg> 重置</button> <button class="flex-1 px-4 py-3 text-sm font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-2"><!></button></div></div></aside> <main class="flex-1 min-w-0"><!> <section><div class="flex flex-wrap sm:flex-nowrap justify-between items-center gap-4 mb-6 bg-white rounded-2xl shadow-lg p-4"><div class="flex items-center gap-4 flex-shrink-0"><span class="text-slate-700">共 <strong class="text-slate-900"> </strong> 条结果</span> <!></div> <div class="w-full sm:w-auto"><div class="flex items-center justify-center sm:justify-end gap-3"><button class="flex-shrink-0 px-4 py-2 text-sm font-medium text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">上一页</button> <span class="flex-shrink-0 text-sm text-slate-600 px-3"> </span> <button class="flex-shrink-0 px-4 py-2 text-sm font-medium text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">下一页</button></div></div></div> <div class="space-y-4 results-container"><!> <!></div></section></main></div></div> <!> <!> <!>',1);function qe(m,g){y(g,!1);let f=T(""),h=T([]),x=T([]),w=T([]),$=T([]),E=T(!1),A=T(!1),ee=T(!1),le=T(0),oe=T(!1),ae=T(!1),re=T(!1),se=T(!1),ne=T(!1),ie=T(null),de=T(1),ce=T(10),ue=T(0),pe=T("relevance"),ve=T({types:{group:!0,channel:!0,bot:!0,message:!0},timePreset:"any",timeOrder:"desc",customStart:"",customEnd:"",sourceGroup:"",sourceChannel:"",sourceUser:"",language:"",minLength:"",minInteractions:"",minRelevance:""});function be(){return Math.ceil(L(ue)/L(ce))}async function me(){if(!L(f).trim())return V(h,[]),void V(ue,0);V(E,!0);const e=Date.now();try{const t={q:L(f).trim(),page:String(L(de)),limit:String(L(ce)),sort:L(pe),filter:L(ve).type||"all"},l=await Y.search(t);V(h,l.results||[]),V(ue,l.total||0),V(le,Date.now()-e)}catch(t){V(h,[]),V(ue,0)}finally{V(E,!1)}}const ge=function(e,t){let l;return function(...o){clearTimeout(l),l=setTimeout(()=>{clearTimeout(l),e(...o)},t)}}(async e=>{if(!e.trim()||e.length<2)V(x,[]);else{V(A,!0);try{V(x,await Y.getSuggestions(e))}catch(t){V(x,[])}finally{V(A,!1)}}});function qe(e){V(f,e),V(x,[]),V(oe,!1),V(de,1),me()}function Oe(e){e<1||e>be()||(V(de,e),me())}function Fe(e){V(ie,function(e){const t="channel"===e.type,l=Math.floor(2e3*Math.random())+500,o=Math.floor(l*(.3+.4*Math.random()));return{id:e.id,name:e.source,type:e.type,description:t?"专业的Telegram机器人开发交流群组，汇聚全球开发者":"专业的Telegram机器人开发交流频道，汇聚全球开发者",username:"@developers_chat",createdAt:"2023-05-15",stats:{totalMembers:l,onlineMembers:Math.floor(.4*o),messages24h:Math.floor(500*Math.random())+100,avgDaily:Math.floor(10*Math.random())+3,activityRate:Math.floor(o/l*100),groupScore:(2*Math.random()+3).toFixed(1)},topUsers:[{username:"@developer_alice",messages:45,activity:92},{username:"@bot_master",messages:38,activity:87},{username:"@api_expert",messages:32,activity:81},{username:"@code_ninja",messages:28,activity:76},{username:"@tech_guru",messages:24,activity:72}],hourlyActivity:Array.from({length:24},(e,t)=>{const l=.5*Math.sin((t-6)*Math.PI/12)+.5,o=.3*Math.random();return Math.max(.1,Math.min(1,l+o))}),lastUpdate:(new Date).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}}(e)),V(se,!0)}function We(){localStorage.removeItem("searchHistories"),V($,[])}let Je=T(!1);U(()=>{!function(){try{V($,JSON.parse(localStorage.getItem("searchHistories")||"[]"))}catch(e){V($,[])}}(),async function(){V(ee,!0);try{V(w,await Y.getTrending())}catch(e){V(w,[])}finally{V(ee,!1)}}(),me()}),e();var Ne=Ge(),Ke=z(Ne),Xe=C(Ke),Ye=B(C(Xe),6),Ze=C(Ye),Qe=B(C(Ze),2);J(Qe),R(2),S(Ze);var et=B(Ze,2),tt=C(et),lt=C(tt),ot=e=>{var t=D("搜索中...");M(e,t)},at=e=>{var t=D("搜索");M(e,t)};q(lt,e=>{L(E)?e(ot):e(at,!1)}),S(tt),S(et);var rt=B(et,2),st=B(rt,2),nt=C(st),it=B(C(nt));S(nt),S(st),S(Ye);var dt=B(Ye,2),ct=e=>{var l=ye(),o=C(l),a=C(o),r=e=>{var t=xe();M(e,t)};q(a,e=>{L(A)&&e(r)});var s=B(a,2);O(s,1,()=>L(x),F,(e,l)=>{var o=we(),a=C(o),r=B(C(a));S(a),S(o),t(()=>P(r,` ${L(l)??""}`)),H("click",o,()=>qe(L(l))),M(e,o)}),S(o),S(l),M(e,l)};q(dt,e=>{L(oe)&&(L(x).length>0||L(A))&&e(ct)});var ut=B(dt,2),pt=C(ut),vt=B(C(pt),2),bt=e=>{var t=ke();M(e,t)},mt=e=>{var l=ze(),o=z(l);O(o,1,()=>L($),F,(e,l)=>{var o=_e(),a=C(o),r=C(a,!0);S(a),R(2),S(o),t(()=>P(r,L(l))),H("click",o,()=>qe(L(l))),M(e,o)});var a=B(o,2);H("click",a,We),M(e,l)};q(vt,e=>{0===L($).length?e(bt):e(mt,!1)}),S(pt);var gt=B(pt,2),ft=B(C(gt),2),ht=e=>{var t=Me();M(e,t)},xt=e=>{var l=_(),o=z(l),a=e=>{var t=je();M(e,t)},r=e=>{var l=_(),o=z(l);O(o,1,()=>L(w).slice(0,8),F,(e,l)=>{var o=$e(),a=C(o),r=C(a,!0);S(a);var s=B(a,2),n=C(s,!0);S(s);var i=B(s,2),d=C(i);S(i),R(2),S(o),t((e,t)=>{W(o,1,"group relative inline-flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-300 backdrop-blur-md border focus:outline-none focus:ring-2 focus:ring-white/50 "+("hot"===L(l).trend?"bg-gradient-to-r from-red-500/80 to-pink-500/80 text-white border-red-400/50 shadow-lg shadow-red-500/30 hover:from-red-400 hover:to-pink-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-red-500/40 hover:scale-105":"up"===L(l).trend?"bg-gradient-to-r from-emerald-500/80 to-green-500/80 text-white border-emerald-400/50 shadow-lg shadow-emerald-500/30 hover:from-emerald-400 hover:to-green-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-emerald-500/40 hover:scale-105":"down"===L(l).trend?"bg-gradient-to-r from-slate-500/80 to-gray-500/80 text-white border-slate-400/50 shadow-lg shadow-slate-500/30 hover:from-slate-400 hover:to-gray-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-slate-500/40 hover:scale-105":"bg-gradient-to-r from-blue-500/80 to-purple-500/80 text-white border-blue-400/50 shadow-lg shadow-blue-500/30 hover:from-blue-400 hover:to-purple-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-105")),N(o,"title",e),P(r,t),P(n,L(l).keyword),P(d,`(${L(l).count??""})`)},[()=>{return`排名: #${L(l).rank} | 搜索次数: ${L(l).count} | 分类: ${t=L(l).category,{technology:"技术",blockchain:"区块链",ai:"人工智能",mobile:"移动开发",devops:"运维开发"}[t]||"其他"} | 趋势: ${e=L(l).trend,{up:"上升",down:"下降",hot:"热门",stable:"稳定"}[e]||"未知"}`;var e,t},()=>({up:"📈",down:"📉",hot:"🔥",stable:"➡️"}[L(l).trend]||"❓")]),H("click",o,()=>qe(L(l).keyword)),M(e,o)}),M(e,l)};q(o,e=>{0===L(w).length?e(a):e(r,!1)},!0),M(e,l)};q(ft,e=>{L(ee)?e(ht):e(xt,!1)}),S(gt),S(ut),S(Xe);var wt=B(Xe,2),yt=C(wt),kt=B(C(yt),2),_t=C(kt);S(kt),S(yt),S(wt);var zt=B(wt,2),Mt=C(zt),jt=C(Mt),$t=B(C(jt),2),Ct=B(C($t),2),Bt=C(Ct),St=C(Bt),Lt=C(St);J(Lt);var Tt=B(Lt,2),Ht=C(Tt),Vt=e=>{var t=Ce();M(e,t)};q(Ht,e=>{L(ve).types.group&&e(Vt)}),S(Tt),S(St),R(2),S(Bt);var Et=B(Bt,2),It=C(Et),Pt=C(It);J(Pt);var At=B(Pt,2),Dt=C(At),Rt=e=>{var t=Be();M(e,t)};q(Dt,e=>{L(ve).types.channel&&e(Rt)}),S(At),S(It),R(2),S(Et);var Ut=B(Et,2),Gt=C(Ut),qt=C(Gt);J(qt);var Ot=B(qt,2),Ft=C(Ot),Wt=e=>{var t=Se();M(e,t)};q(Ft,e=>{L(ve).types.bot&&e(Wt)}),S(Ot),S(Gt),R(2),S(Ut);var Jt=B(Ut,2),Nt=C(Jt),Kt=C(Nt);J(Kt);var Xt=B(Kt,2),Yt=C(Xt),Zt=e=>{var t=Le();M(e,t)};q(Yt,e=>{L(ve).types.message&&e(Zt)}),S(Xt),S(Nt),R(2),S(Jt),S(Ct),S($t);var Qt=B($t,2),el=B(C(Qt),2),tl=B(C(el),2),ll=C(tl);t(()=>{L(ve),I(()=>{})});var ol=C(ll);ol.value=ol.__value="any";var al=B(ol);al.value=al.__value="1h";var rl=B(al);rl.value=rl.__value="24h";var sl=B(rl);sl.value=sl.__value="7d";var nl=B(sl);nl.value=nl.__value="30d";var il=B(nl);il.value=il.__value="custom",S(ll),R(2),S(tl),S(el);var dl=B(el,2),cl=e=>{var t=Te(),l=B(C(t),2),o=C(l),a=B(C(o),2);J(a),S(o);var r=B(o,2),s=B(C(r),2);J(s),S(r),S(l),S(t),K(a,()=>L(ve).customStart,e=>G(ve,L(ve).customStart=e)),K(s,()=>L(ve).customEnd,e=>G(ve,L(ve).customEnd=e)),M(e,t)};q(dl,e=>{"custom"===L(ve).timePreset&&e(cl)}),S(Qt);var ul=B(Qt,2),pl=C(ul),vl=B(pl,2),bl=C(vl),ml=e=>{var t=He();R(),M(e,t)},gl=e=>{var t=Ve();R(),M(e,t)};q(bl,e=>{L(E)?e(ml):e(gl,!1)}),S(vl),S(ul),S(jt),S(Mt);var fl=B(Mt,2),hl=C(fl),xl=e=>{var l=Ee(),o=C(l),a=C(o),r=B(C(a),2),s=C(r),n=B(C(s),2);J(n),S(s);var i=B(s,2),d=B(C(i),2);J(d),S(i);var c=B(i,2),u=B(C(c),2);J(u),S(c);var p=B(c,2),v=B(C(p),2);J(v),S(p),S(r),S(a);var b=B(a,2),m=B(C(b),2),g=C(m),f=B(C(g),2);J(f),S(g);var h=B(g,2),x=B(C(h),2);J(x),S(h);var w=B(h,2),y=B(C(w),2);J(y),S(w),S(m),S(b);var k=B(b,2),_=B(C(k),2),z=C(_),j=B(C(z),2);t(()=>{L(pe),I(()=>{})});var $=C(j);$.value=$.__value="relevance";var T=B($);T.value=T.__value="time";var H=B(T);H.value=H.__value="heat",S(j),S(z);var E=B(z,2),P=B(C(E),2);t(()=>{L(ce),I(()=>{})});var A=C(P);A.value=A.__value="10";var D=B(A);D.value=D.__value="20";var R=B(D);R.value=R.__value="50",S(P),S(E),S(_),S(k),S(o),S(l),K(n,()=>L(ve).sourceGroup,e=>G(ve,L(ve).sourceGroup=e)),K(d,()=>L(ve).sourceChannel,e=>G(ve,L(ve).sourceChannel=e)),K(u,()=>L(ve).sourceUser,e=>G(ve,L(ve).sourceUser=e)),K(v,()=>L(ve).language,e=>G(ve,L(ve).language=e)),K(f,()=>L(ve).minLength,e=>G(ve,L(ve).minLength=e)),K(x,()=>L(ve).minInteractions,e=>G(ve,L(ve).minInteractions=e)),K(y,()=>L(ve).minRelevance,e=>G(ve,L(ve).minRelevance=e)),te(j,()=>L(pe),e=>V(pe,e)),te(P,()=>L(ce),e=>V(ce,e)),M(e,l)};q(hl,e=>{L(ae)&&e(xl)});var wl=B(hl,2),yl=C(wl),kl=C(yl),_l=C(kl),zl=B(C(_l)),Ml=C(zl,!0);S(zl),R(),S(_l);var jl=B(_l,2),$l=e=>{var l=Ie(),o=C(l);S(l),t(()=>P(o,`耗时 ${L(le)??""}ms`)),M(e,l)};q(jl,e=>{L(le)>0&&e($l)}),S(kl);var Cl=B(kl,2),Bl=C(Cl),Sl=C(Bl),Ll=B(Sl,2),Tl=C(Ll);S(Ll);var Hl=B(Ll,2);S(Bl),S(Cl),S(yl);var Vl=B(yl,2),El=C(Vl),Il=e=>{var t=Pe();M(e,t)};q(El,e=>{0!==L(h).length||L(E)||e(Il)});var Pl=B(El,2);O(Pl,1,()=>L(h),F,(e,m)=>{var g=Ue(),h=C(g),x=C(h),w=C(x,!0);S(x);var y=B(x,2),k=C(y);S(y);var _=B(y,2),z=C(_);S(_);var j=B(_,2),$=e=>{var l=Ae(),o=C(l);S(l),t(()=>P(o,`相关性：${L(m).relevance??""}`)),M(e,l)};q(j,e=>{null!=L(m).relevance&&e($)}),S(h);var T=B(h,2);!function(e,m,g=!1,f=!1){var h=e,x="";t(()=>{var e=a;if(x!==(x=m()??"")){if(null!==e.nodes_start&&(r(e.nodes_start,e.nodes_end),e.nodes_start=e.nodes_end=null),""!==x){if(l){s.data;for(var t=o(),w=t;null!==t&&(t.nodeType!==n||""!==t.data);)w=t,t=i(t);if(null===t)throw d(),c;return u(s,w),void(h=p(t))}var y=x+"";g?y=`<svg>${y}</svg>`:f&&(y=`<math>${y}</math>`);var k=v(y);if((g||f)&&(k=b(k)),u(b(k),k.lastChild),g||f)for(;b(k);)h.before(b(k));else h.before(k)}}else l&&o()})}(C(T),()=>function(e,t){if(!t.trim())return e;const l=t.trim().split(/\s+/);let o=e;return l.forEach(e=>{const t=new RegExp(`(${e})`,"gi");o=o.replace(t,"<mark>$1</mark>")}),o}(L(m).content,L(f))),S(T);var V=B(T,2),E=C(V),I=e=>{var t=De();H("click",t,()=>Fe(L(m))),M(e,t)},A=e=>{var t=Re();M(e,t)};q(E,e=>{"group"===L(m).type||"channel"===L(m).type?e(I):e(A,!1)}),R(6),S(V),S(g),t(e=>{W(x,1,"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium "+("group"===L(m).type?"bg-blue-100 text-blue-800":"channel"===L(m).type?"bg-green-100 text-green-800":"bot"===L(m).type?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800")),P(w,L(m).type),P(k,`来源：${L(m).source??""}`),P(z,`时间：${e??""}`)},[()=>new Date(L(m).timestamp).toLocaleString()]),M(e,g)}),S(Vl),S(wl),S(fl),S(zt),S(Ke);var Al=B(Ke,2);Z(Al,{get show(){return L(se)},get groupData(){return L(ie)},$$events:{close:function(){V(se,!1),V(ie,null)}}});var Dl=B(Al,2);fe(Dl,{get show(){return L(ne)},set show(e){V(ne,e)},$$events:{close:()=>V(ne,!1)},$$legacy:!0}),function(t,l){y(l,!1);let o=Q(l,"show",12,!1);const a=k();function r(){o(!1),a("close")}function s(e){"Escape"===e.key&&r()}e();var n=_(),i=z(n),d=e=>{var t=he(),l=C(t),o=B(l,2),a=B(C(o),4),n=C(a);S(a),S(o),S(t),H("click",l,r),H("click",n,r),H("keydown",t,s),M(e,t)};q(i,e=>{o()&&e(d)}),M(t,n),j()}(B(Dl,2),{get show(){return L(Je)},set show(e){V(Je,e)},$$events:{close:function(){V(Je,!1)}},$$legacy:!0}),t((e,t)=>{et.disabled=L(E),W(st,1,`relative bg-white/60 text-slate-700 border-2 border-blue-200/50 px-6 py-4 rounded-full cursor-pointer transition-all duration-300 backdrop-blur-md hover:bg-white/80 hover:border-blue-300/70 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-400/50 ${0===L(f).length?"hidden":"flex"} md:flex`),W(it,1,"transition-transform duration-300 "+(L(ae)?"rotate-180":"")),W(ut,1,(0===L(f).length?"hidden":"flex")+" md:flex flex-col gap-6 mt-8 relative z-10"),P(_t,"筛选器 "+(L(re)?"▲":"▼")),W(Mt,1,"w-full md:w-64 flex-shrink-0 "+(L(re)?"block":"hidden md:block")),W(Tt,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-blue-400 "+(L(ve).types.group?"bg-gradient-to-br from-blue-500 to-blue-600 border-blue-500":"bg-white")),W(At,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-green-400 "+(L(ve).types.channel?"bg-gradient-to-br from-green-500 to-green-600 border-green-500":"bg-white")),W(Ot,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-purple-400 "+(L(ve).types.bot?"bg-gradient-to-br from-purple-500 to-purple-600 border-purple-500":"bg-white")),W(Xt,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-orange-400 "+(L(ve).types.message?"bg-gradient-to-br from-orange-500 to-orange-600 border-orange-500":"bg-white")),vl.disabled=L(E),P(Ml,L(ue)),Sl.disabled=L(E)||L(de)<=1,P(Tl,`第 ${L(de)??""} / ${e??""} 页`),Hl.disabled=t},[be,()=>L(E)||L(de)>=be()]),K(Qe,()=>L(f),e=>V(f,e)),H("input",Qe,function(e){const t=e.target;V(f,t.value),ge(L(f))}),H("focus",Qe,()=>V(oe,!0)),H("blur",Qe,()=>setTimeout(()=>V(oe,!1),150)),H("keydown",Qe,e=>"Enter"===e.key&&(V(de,1),me())),H("click",et,()=>(V(de,1),me())),H("click",rt,()=>V(ne,!0)),H("click",st,function(){V(ae,!L(ae))}),H("click",yt,function(){V(re,!L(re))}),X(Lt,()=>L(ve).types.group,e=>G(ve,L(ve).types.group=e)),X(Pt,()=>L(ve).types.channel,e=>G(ve,L(ve).types.channel=e)),X(qt,()=>L(ve).types.bot,e=>G(ve,L(ve).types.bot=e)),X(Kt,()=>L(ve).types.message,e=>G(ve,L(ve).types.message=e)),te(ll,()=>L(ve).timePreset,e=>G(ve,L(ve).timePreset=e)),H("click",pl,function(){V(ve,{types:{group:!0,channel:!0,private:!0,media:!0,link:!0},timePreset:"any",timeOrder:"desc",customStart:"",customEnd:"",sourceGroup:"",sourceChannel:"",sourceUser:"",language:"",minLength:"",minInteractions:"",minRelevance:""})}),H("click",vl,()=>(V(de,1),me())),H("click",Sl,()=>Oe(L(de)-1)),H("click",Hl,()=>Oe(L(de)+1)),M(m,Ne),j()}export{qe as component};
