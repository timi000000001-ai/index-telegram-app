import"../chunks/Cm9PB-7n.js";import{i as e}from"../chunks/DFBz0S0b.js";import{t,J as l,W as r,z as s,aM as a,a1 as o,a2 as n,ai as i,aN as u,aO as d,aP as c,_ as v,aQ as p,am as b,K as x,aR as m,R as g,aa as h,aS as f,aT as w,p as z,l as y,j as k,k as _,a as M,b as j,f as C,c as $,s as B,r as L,g as S,m as T,e as H,d as V,aU as I,aV as P,i as E,au as R,aF as A,n as D,o as U,aW as G}from"../chunks/6uhRKxPH.js";import{i as O}from"../chunks/D_b1VRPc.js";import{e as q,i as F}from"../chunks/C21DuIeM.js";import{s as N,r as W,a as J}from"../chunks/DZ6dnG6Z.js";import{b as K,a as Q}from"../chunks/Bnb9pUCh.js";import{s as X}from"../chunks/DKlC9YCX.js";import{G as Y}from"../chunks/lSU4bb64.js";import{p as Z}from"../chunks/FE7EiTEg.js";function ee(e,t,l=!1){if(e.multiple){if(null==t)return;if(!h(t))return f();for(var r of e.options)r.selected=t.includes(le(r))}else{for(r of e.options){var s=le(r);if(w(s,t))return void(r.selected=!0)}l&&void 0===t||(e.selectedIndex=-1)}}function te(e,t,l=t){var r=!0;x(e,"change",t=>{var r,s=t?"[selected]":":checked";if(e.multiple)r=[].map.call(e.querySelectorAll(s),le);else{var a=e.querySelector(s)??e.querySelector("option:not([disabled])");r=a&&le(a)}l(r)}),m(()=>{var s=t();if(ee(e,s,r),r&&void 0===s){var a=e.querySelector(":checked");null!==a&&(s=le(a),l(s))}e.__value=s,r=!1}),function(e){var t=new MutationObserver(()=>{ee(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),g(()=>{t.disconnect()})}(e)}function le(e){return"__value"in e?e.__value:e.value}function re(e){return function(...t){return t[0].stopPropagation(),e?.apply(this,t)}}function se(e,t){var l=e.$$events?.[t.type],r=h(l)?l.slice():null==l?[]:[l];for(var s of r)s.call(this,t)}var ae=C('<p class="text-red-500 text-sm mt-1 flex items-center gap-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> </p>'),oe=C('<div class="space-y-4"><div><label for="single-link" class="block text-sm font-medium text-gray-700 mb-2">链接地址 *</label> <input id="single-link" type="url" placeholder="https://t.me/example"/> <!></div> <div><label for="link-title" class="block text-sm font-medium text-gray-700 mb-2">标题</label> <input id="link-title" type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors" placeholder="链接标题（可选）"/></div> <div><label for="link-description" class="block text-sm font-medium text-gray-700 mb-2">描述</label> <textarea id="link-description" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors resize-none" rows="3" placeholder="链接描述（可选）"></textarea></div> <div><label for="category" class="block text-sm font-medium text-gray-700 mb-2">分类</label> <select id="category" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"><option>选择分类（可选）</option><option>技术</option><option>新闻</option><option>娱乐</option><option>教育</option><option>商业</option><option>其他</option></select></div></div>'),ne=C('<p class="text-red-500 text-sm mt-1 flex items-center gap-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> </p>'),ie=C('<p class="text-sm text-gray-500 mt-1">每行输入一个Telegram链接，支持批量收录</p>'),ue=C('<div class="space-y-4"><div><label for="multiple-links" class="block text-sm font-medium text-gray-700 mb-2">链接地址 *</label> <textarea id="multiple-links" rows="6" placeholder="每行输入一个链接地址： https://t.me/example1 https://t.me/example2 https://t.me/example3"></textarea> <!></div> <div><label for="batch-category" class="block text-sm font-medium text-gray-700 mb-2">统一分类</label> <select id="batch-category" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"><option>选择分类（可选）</option><option>技术</option><option>新闻</option><option>娱乐</option><option>教育</option><option>商业</option><option>其他</option></select></div></div>'),de=C('<div class="text-center space-y-6"><div class="bg-blue-50 rounded-xl p-6"><div class="text-6xl mb-4">🤖</div> <h3 class="text-lg font-semibold text-gray-800 mb-2">通过Telegram机器人收录</h3> <p class="text-gray-600 mb-4">点击下方按钮打开Telegram机器人，直接发送链接即可快速收录</p> <button class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-colors inline-flex items-center gap-2"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.374 0 0 5.373 0 12s5.374 12 12 12 12-5.373 12-12S18.626 0 12 0zm5.568 8.16c-.169 1.858-.896 6.728-.896 6.728-.377 2.617-1.407 3.08-2.896 1.596l-2.123-1.596-1.018.684c-.215.145-.395.26-.81.26-.528 0-.434-.2-.612-.706L8.4 13.116l-2.917-.93c-.631-.2-.636-.63.14-.936l11.395-4.29c.523-.2 1.01.12.55 1.2z"></path></svg> 打开收录机器人</button></div> <div class="bg-gray-50 rounded-xl p-4"><h4 class="font-medium text-gray-800 mb-2">使用说明：</h4> <ul class="text-sm text-gray-600 space-y-1 text-left"><li>• 点击按钮打开Telegram机器人</li> <li>• 直接发送链接给机器人</li> <li>• 机器人会自动解析并收录链接</li> <li>• 支持批量发送多个链接</li></ul></div></div>'),ce=R('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'),ve=R('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>'),pe=C('<div><div class="flex items-center gap-2"><!> <span> </span></div></div>'),be=C('<div class="bg-gray-50 px-6 py-4 flex gap-3 justify-end"><button class="px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors">取消</button> <button class="px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"><!></button> <button class="px-6 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div>'),xe=C('<div class="bg-gray-50 px-6 py-4 flex justify-end"><button class="px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors">关闭</button></div>'),me=C('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4" role="dialog" aria-modal="true" tabindex="-1"><div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden" role="document" tabindex="0"><div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6"><div class="flex items-center justify-between"><h2 class="text-xl font-bold">添加收录</h2> <button class="text-white/80 hover:text-white transition-colors" aria-label="关闭弹窗"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex gap-2 mt-4"><button>单个链接</button> <button>批量链接</button> <button>TG机器人</button></div></div> <div class="p-6 overflow-y-auto max-h-[60vh]"><!> <!></div> <!></div></div>');function ge(l,r){z(r,!1);const s=y();let a=Z(r,"show",12,!1),o=T("single"),n=T(""),i=T(""),u=T(""),d=T(""),c=T(""),v=T(!1),p=T(""),b=T(""),x=T(""),m=T("");function g(){a(!1),V(n,""),V(i,""),V(u,""),V(d,""),V(c,""),V(p,""),V(b,""),V(x,""),V(m,""),s("close")}function h(e){return e.trim().startsWith("https://t.me")}function f(){return S(n).trim()?h(S(n))?(V(x,""),!0):(V(x,"只能添加 https://t.me 开头的链接"),!1):(V(x,""),!0)}function w(){if(!S(i).trim())return V(m,""),!0;const e=S(i).split("\n").filter(e=>e.trim()).filter(e=>!h(e));return e.length>0?(V(m,`只能添加 https://t.me 开头的链接，发现 ${e.length} 个无效链接`),!1):(V(m,""),!0)}async function C(e=!1){if(!S(v)){if("single"===S(o)){if(!S(n).trim())return void R("请输入链接地址","error");if(!f())return}if("multiple"===S(o)){if(!S(i).trim())return void R("请输入链接地址","error");if(!w())return}V(v,!0);try{S(o),S(u),S(d),S(c),"single"===S(o)?S(n):S(i).split("\n").filter(e=>e.trim()),(new Date).toISOString();await new Promise(e=>setTimeout(e,1e3));Math.random()>.2?(R("收录成功！","success"),e?(V(n,""),V(i,"")):setTimeout(()=>{g()},1500)):R("收录失败，请重试","error")}catch(t){R("收录失败，请重试","error")}finally{V(v,!1)}}}function R(e,t){V(p,e),V(b,t),setTimeout(()=>{V(p,""),V(b,"")},3e3)}function U(e){V(o,e),V(p,""),V(b,""),V(x,""),V(m,"")}function G(){window.open("https://t.me/your_collection_bot","_blank"),R("请在Telegram中向机器人发送链接进行收录","success")}e();var q=k(),F=_(q),J=e=>{var l=me(),s=$(l),a=$(s),h=$(a),z=B($(h),2);L(h);var y=B(h,2),j=$(y),T=B(j,2),R=B(T,2);L(y),L(a);var q=B(a,2),F=$(q),J=e=>{var l=oe(),r=$(l),s=B($(r),2);W(s);var a=B(s,2),o=e=>{var l=ae(),r=B($(l));L(l),t(()=>E(r,` ${S(x)??""}`)),M(e,l)};O(a,e=>{S(x)&&e(o)}),L(r);var i=B(r,2),v=B($(i),2);W(v),L(i);var p=B(i,2),b=B($(p),2);I(b),L(p);var m=B(p,2),g=B($(m),2);t(()=>{S(c),P(()=>{})});var h=$(g);h.value=h.__value="";var w=B(h);w.value=w.__value="technology";var z=B(w);z.value=z.__value="news";var y=B(z);y.value=y.__value="entertainment";var k=B(y);k.value=k.__value="education";var _=B(k);_.value=_.__value="business";var j=B(_);j.value=j.__value="other",L(g),L(m),L(l),t(()=>N(s,1,"w-full px-4 py-3 border rounded-lg outline-none transition-colors "+(S(x)?"border-red-500 focus:ring-2 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"))),K(s,()=>S(n),e=>V(n,e)),H("input",s,f),H("blur",s,f),K(v,()=>S(u),e=>V(u,e)),K(b,()=>S(d),e=>V(d,e)),te(g,()=>S(c),e=>V(c,e)),M(e,l)},Q=e=>{var l=k(),r=_(l),s=e=>{var l=ue(),r=$(l),s=B($(r),2);I(s);var a=B(s,2),o=e=>{var l=ne(),r=B($(l));L(l),t(()=>E(r,` ${S(m)??""}`)),M(e,l)},n=e=>{var t=ie();M(e,t)};O(a,e=>{S(m)?e(o):e(n,!1)}),L(r);var u=B(r,2),d=B($(u),2);t(()=>{S(c),P(()=>{})});var v=$(d);v.value=v.__value="";var p=B(v);p.value=p.__value="technology";var b=B(p);b.value=b.__value="news";var x=B(b);x.value=x.__value="entertainment";var g=B(x);g.value=g.__value="education";var h=B(g);h.value=h.__value="business";var f=B(h);f.value=f.__value="other",L(d),L(u),L(l),t(()=>N(s,1,"w-full px-4 py-3 border rounded-lg outline-none transition-colors resize-none "+(S(m)?"border-red-500 focus:ring-2 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"))),K(s,()=>S(i),e=>V(i,e)),H("input",s,w),H("blur",s,w),te(d,()=>S(c),e=>V(c,e)),M(e,l)},a=e=>{var t=k(),l=_(t),r=e=>{var t=de(),l=$(t),r=B($(l),6);L(l),D(2),L(t),H("click",r,G),M(e,t)};O(l,e=>{"telegram"===S(o)&&e(r)},!0),M(e,t)};O(r,e=>{"multiple"===S(o)?e(s):e(a,!1)},!0),M(e,l)};O(F,e=>{"single"===S(o)?e(J):e(Q,!1)});var X=B(F,2),Y=e=>{var l=pe(),r=$(l),s=$(r),a=e=>{var t=ce();M(e,t)},o=e=>{var t=ve();M(e,t)};O(s,e=>{"success"===S(b)?e(a):e(o,!1)});var n=B(s,2),i=$(n,!0);L(n),L(r),L(l),t(()=>{N(l,1,"mt-4 p-3 rounded-lg "+("success"===S(b)?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200")),E(i,S(p))}),M(e,l)};O(X,e=>{S(p)&&e(Y)}),L(q);var Z=B(q,2),ee=e=>{var l=be(),r=$(l),s=B(r,2),a=$(s),o=e=>{var t=A("保存中...");M(e,t)},n=e=>{var t=A("保存后继续收录");M(e,t)};O(a,e=>{S(v)?e(o):e(n,!1)}),L(s);var i=B(s,2),u=$(i),d=e=>{var t=A("保存中...");M(e,t)},c=e=>{var t=A("保存");M(e,t)};O(u,e=>{S(v)?e(d):e(c,!1)}),L(i),L(l),t(()=>{r.disabled=S(v),s.disabled=S(v),i.disabled=S(v)}),H("click",r,g),H("click",s,()=>C(!0)),H("click",i,()=>C(!1)),M(e,l)},le=e=>{var t=xe(),l=$(t);L(t),H("click",l,g),M(e,t)};O(Z,e=>{"telegram"!==S(o)?e(ee):e(le,!1)}),L(s),L(l),t(()=>{N(j,1,"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("single"===S(o)?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/15")),N(T,1,"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("multiple"===S(o)?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/15")),N(R,1,"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("telegram"===S(o)?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/15"))}),H("click",z,g),H("click",j,()=>U("single")),H("click",T,()=>U("multiple")),H("click",R,()=>U("telegram")),H("click",s,re(function(e){se.call(this,r,e)})),H("keydown",s,re(function(e){se.call(this,r,e)})),H("click",l,g),H("keydown",l,e=>"Escape"===e.key&&g()),M(e,l)};O(F,e=>{a()&&e(J)}),M(l,q),j()}var he=C('<div class="block w-full text-left bg-transparent border-none px-5 py-4 cursor-default text-slate-500 flex items-center gap-3 svelte-1xzueer"><div class="w-4 h-4 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin svelte-1xzueer"></div> 加载建议...</div>'),fe=C('<button type="button" class="block w-full text-left bg-transparent border-none px-5 py-4 cursor-pointer text-slate-700 transition-all duration-200 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-slate-900 focus:outline-none focus:bg-gradient-to-r focus:from-blue-100 focus:to-purple-100 svelte-1xzueer"><span class="flex items-center gap-3 svelte-1xzueer"><svg class="w-4 h-4 text-slate-400 svelte-1xzueer" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" class="svelte-1xzueer"></path></svg> </span></button>'),we=C('<div class="absolute left-0 right-0 top-full mt-3 z-20 rounded-2xl overflow-hidden shadow-2xl svelte-1xzueer"><div class="bg-white/95 backdrop-blur-xl rounded-2xl max-h-56 overflow-auto shadow-2xl border border-white/20 svelte-1xzueer"><!> <!></div></div>'),ze=C('<span class="text-black/60 italic svelte-1xzueer">暂无历史记录</span>'),ye=C('<button class="group relative bg-black/10 border border-black/30 px-4 py-2.5 rounded-full cursor-pointer text-black text-sm font-medium transition-all duration-300 backdrop-blur-md hover:bg-black/20 hover:border-black/50 hover:-translate-y-1 hover:shadow-lg hover:shadow-black/20 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-black/50 svelte-1xzueer"><span class="relative z-10 svelte-1xzueer"> </span> <div class="absolute inset-0 bg-gradient-to-r from-blue-400/20 to-purple-400/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 svelte-1xzueer"></div></button>'),ke=C('<!> <button class="bg-transparent border-0 text-black/70 cursor-pointer underline transition-all duration-300 hover:text-black hover:scale-105 font-medium text-sm svelte-1xzueer">清空历史</button>',1),_e=C('<span class="text-black/60 flex items-center gap-2 svelte-1xzueer"><div class="w-3 h-3 border border-black/40 border-t-black rounded-full animate-spin svelte-1xzueer"></div> 加载中...</span>'),Me=C('<span class="text-black/60 italic svelte-1xzueer">暂无热门内容</span>'),je=C('<button><span class="text-base leading-none animate-bounce svelte-1xzueer"> </span> <span class="font-bold relative z-10 svelte-1xzueer"> </span> <span class="text-xs opacity-90 font-medium bg-white/20 px-2 py-1 rounded-full svelte-1xzueer"> </span> <div class="absolute inset-0 bg-gradient-to-r from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-full svelte-1xzueer"></div></button>'),Ce=R('<svg class="w-3 h-3 text-white svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg>'),$e=R('<svg class="w-3 h-3 text-white svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg>'),Be=R('<svg class="w-3 h-3 text-white svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg>'),Le=R('<svg class="w-3 h-3 text-white svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg>'),Se=C('<div class="mt-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-100 svelte-1xzueer"><div class="flex items-center gap-2 mb-3 svelte-1xzueer"><svg class="w-4 h-4 text-blue-500 svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg> <span class="text-sm font-semibold text-blue-700 svelte-1xzueer">自定义时间范围</span></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 svelte-1xzueer"><label class="block svelte-1xzueer"><span class="block text-xs font-medium text-slate-600 mb-1 flex items-center gap-1 svelte-1xzueer"><span class="w-2 h-2 bg-green-400 rounded-full svelte-1xzueer"></span> 开始日期</span> <input type="date" class="w-full px-3 py-2.5 border-2 border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 bg-white hover:border-slate-300 text-sm svelte-1xzueer"/></label> <label class="block svelte-1xzueer"><span class="block text-xs font-medium text-slate-600 mb-1 flex items-center gap-1 svelte-1xzueer"><span class="w-2 h-2 bg-red-400 rounded-full svelte-1xzueer"></span> 结束日期</span> <input type="date" class="w-full px-3 py-2.5 border-2 border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 bg-white hover:border-slate-300 text-sm svelte-1xzueer"/></label></div></div>'),Te=R('<svg class="w-4 h-4 animate-spin svelte-1xzueer" fill="none" viewBox="0 0 24 24"><circle class="opacity-25 svelte-1xzueer" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75 svelte-1xzueer" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> 应用中...',1),He=R('<svg class="w-4 h-4 svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg> 应用',1),Ve=C('<section class="mb-6 svelte-1xzueer"><div class="bg-white rounded-2xl shadow-lg p-6 svelte-1xzueer"><div class="mb-6 svelte-1xzueer"><h4 class="text-lg font-semibold text-slate-800 mb-4 svelte-1xzueer">来源过滤</h4> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 svelte-1xzueer"><label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">群组</span> <input placeholder="群组名称" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"/></label> <label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">频道</span> <input placeholder="频道名称" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"/></label> <label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">用户</span> <input placeholder="发送者" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"/></label> <label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">语言</span> <input placeholder="如: zh, en" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"/></label></div></div> <div class="mb-6 svelte-1xzueer"><h4 class="text-lg font-semibold text-slate-800 mb-4 svelte-1xzueer">质量过滤</h4> <div class="grid grid-cols-1 md:grid-cols-3 gap-4 svelte-1xzueer"><label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">最小长度</span> <input type="number" min="0" placeholder="字符数" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"/></label> <label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">最小互动</span> <input type="number" min="0" placeholder="点赞/转发数" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"/></label> <label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">最小相关性</span> <input type="number" min="0" max="1" step="0.01" placeholder="0~1" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"/></label></div></div> <div class="svelte-1xzueer"><h4 class="text-lg font-semibold text-slate-800 mb-4 svelte-1xzueer">排序与分页</h4> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 svelte-1xzueer"><label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">排序</span> <select class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"><option class="svelte-1xzueer">相关性</option><option class="svelte-1xzueer">时间</option><option class="svelte-1xzueer">热度</option></select></label> <label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">每页条数</span> <select class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"><option class="svelte-1xzueer">10</option><option class="svelte-1xzueer">20</option><option class="svelte-1xzueer">50</option></select></label></div></div></div></section>'),Ie=C('<span class="text-slate-500 text-sm svelte-1xzueer"> </span>'),Pe=C('<div class="bg-white rounded-2xl shadow-lg p-12 text-center svelte-1xzueer"><div class="text-slate-400 text-lg svelte-1xzueer">暂无数据，请输入关键字进行搜索。</div></div>'),Ee=C('<span class="text-sm text-slate-500 svelte-1xzueer"> </span>'),Re=C('<button class="text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors svelte-1xzueer" title="查看群组统计详情">查看详情</button>'),Ae=C('<button class="text-slate-400 text-sm font-medium cursor-not-allowed svelte-1xzueer" disabled title="占位">查看详情</button>'),De=C('<article class="bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 svelte-1xzueer"><div class="flex flex-wrap items-center gap-3 mb-4 svelte-1xzueer"><span> </span> <span class="text-sm text-slate-600 svelte-1xzueer"> </span> <span class="text-sm text-slate-500 svelte-1xzueer"> </span> <!></div> <div class="text-slate-700 leading-relaxed mb-4 svelte-1xzueer" aria-label="消息内容"><!></div> <div class="flex flex-wrap gap-3 svelte-1xzueer"><!> <button class="text-slate-400 text-sm font-medium cursor-not-allowed svelte-1xzueer" disabled title="占位">来源跳转</button> <button class="text-slate-400 text-sm font-medium cursor-not-allowed svelte-1xzueer" disabled title="占位">收藏</button> <button class="text-slate-400 text-sm font-medium cursor-not-allowed svelte-1xzueer" disabled title="占位">分享</button></div></article>'),Ue=C('<div class="w-full p-2 min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/50 relative overflow-hidden svelte-1xzueer"><section class="relative z-10 bg-gradient-to-br from-white/80 via-blue-50/60 to-indigo-100/40 backdrop-blur-xl rounded-3xl md:rounded-[2rem] p-6 md:p-8 lg:p-12 shadow-2xl shadow-blue-500/10 border border-white/20 mb-6 overflow-hidden svelte-1xzueer"><div class="absolute inset-0 pointer-events-none svelte-1xzueer"><div class="absolute top-0 left-0 w-full h-full opacity-40 svelte-1xzueer"><div class="absolute top-4 left-0 w-0.5 h-16 bg-gradient-to-b from-transparent via-blue-400/50 to-transparent shadow-md shadow-blue-400/30 svelte-1xzueer"></div> <div class="absolute top-8 right-0 w-0.5 h-12 bg-gradient-to-b from-transparent via-purple-400/40 to-transparent shadow-md shadow-purple-400/20 svelte-1xzueer"></div> <div class="absolute bottom-8 left-1/4 w-0.5 h-14 bg-gradient-to-b from-transparent via-indigo-400/45 to-transparent shadow-md shadow-indigo-400/25 svelte-1xzueer"></div> <div class="absolute top-12 right-1/3 w-0.5 h-10 bg-gradient-to-b from-transparent via-cyan-400/35 to-transparent shadow-sm shadow-cyan-400/15 svelte-1xzueer"></div> <div class="absolute bottom-12 left-1/3 w-0.5 h-18 bg-gradient-to-b from-transparent via-rose-400/30 to-transparent shadow-sm shadow-rose-400/10 svelte-1xzueer"></div></div></div> <h1 class="text-3xl md:text-4xl font-bold bg-gradient-to-r from-slate-800 via-blue-700 to-indigo-800 bg-clip-text text-transparent mb-2 relative z-10 drop-shadow-sm svelte-1xzueer">Telegram 内容搜索</h1> <p class="text-slate-600/90 text-base md:text-lg mb-6 relative z-10 font-medium svelte-1xzueer">搜索群组、频道和私聊中的消息内容</p> <div class="flex flex-col sm:flex-row gap-4 items-stretch sm:items-center relative z-10 svelte-1xzueer"><div class="relative flex-1 group svelte-1xzueer"><div class="absolute inset-0 bg-gradient-to-r from-blue-400/30 via-purple-400/30 to-pink-400/30 rounded-full blur-xl opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 transition-all duration-300 svelte-1xzueer"></div> <input class="w-full px-6 py-4 text-base border-2 border-blue-200/50 rounded-full outline-none transition-all duration-300 bg-white/70 backdrop-blur-md text-slate-700 placeholder-slate-400 relative z-10 focus:border-blue-400/80 focus:bg-white/90 focus:shadow-lg hover:border-blue-300/70 hover:bg-white/80 svelte-1xzueer" placeholder="请输入搜索关键字（支持多个关键字，以空格分隔）"/> <div class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none transition-colors duration-300 group-focus-within:text-blue-600 svelte-1xzueer"><svg class="w-5 h-5 svelte-1xzueer" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" class="svelte-1xzueer"></path></svg></div></div> <button class="relative bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-600 text-white border-0 px-8 py-4 rounded-full cursor-pointer font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-60 disabled:cursor-not-allowed group svelte-1xzueer"><span class="relative z-10 svelte-1xzueer"><!></span></button> <button class="relative bg-gradient-to-r from-green-500 via-emerald-500 to-teal-600 text-white border-0 px-6 py-4 rounded-full cursor-pointer font-semibold transition-all duration-300 shadow-lg hover:shadow-xl group svelte-1xzueer"><span class="relative z-10 flex items-center gap-2 svelte-1xzueer"><svg class="w-5 h-5 svelte-1xzueer" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" class="svelte-1xzueer"></path></svg> 收录</span></button> <button><span class="flex items-center gap-2 svelte-1xzueer">高级选项 <span><svg class="w-4 h-4 svelte-1xzueer" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" class="svelte-1xzueer"></path></svg></span></span></button></div> <!> <div><div class="flex items-center gap-3 flex-wrap pb-4 svelte-1xzueer"><span class="text-black mr-4 font-bold text-sm flex items-center gap-2 flex-shrink-0 svelte-1xzueer"><svg class="w-4 h-4 svelte-1xzueer" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-1xzueer"></path></svg> 历史搜索</span> <!></div> <div class="flex items-center gap-3 flex-wrap pb-4 svelte-1xzueer"><span class="text-black mr-4 font-bold text-sm flex items-center gap-2 flex-shrink-0 svelte-1xzueer"><svg class="w-4 h-4 svelte-1xzueer" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" class="svelte-1xzueer"></path></svg> 热门搜索</span> <!></div></div></section> <div class="md:hidden mb-4 svelte-1xzueer"><button class="w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-2xl font-medium hover:bg-blue-700 transition-colors svelte-1xzueer"><span class="text-lg svelte-1xzueer">🔍</span> <span class="svelte-1xzueer"> </span></button></div> <div class="flex flex-col md:flex-row gap-3 w-full px-2 svelte-1xzueer"><aside><div class="bg-white rounded-2xl shadow-lg p-6 sticky top-6 svelte-1xzueer"><h3 class="text-lg font-bold text-slate-800 mb-4 svelte-1xzueer">筛选器</h3> <div class="mb-6 svelte-1xzueer"><div class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2 svelte-1xzueer"><span class="w-1 h-4 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full svelte-1xzueer"></span> 内容类型</div> <div class="space-y-3 svelte-1xzueer"><label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200 svelte-1xzueer"><div class="relative svelte-1xzueer"><input type="checkbox" class="sr-only svelte-1xzueer"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors svelte-1xzueer">📱 群组</span></label> <label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200 svelte-1xzueer"><div class="relative svelte-1xzueer"><input type="checkbox" class="sr-only svelte-1xzueer"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors svelte-1xzueer">📢 频道</span></label> <label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200 svelte-1xzueer"><div class="relative svelte-1xzueer"><input type="checkbox" class="sr-only svelte-1xzueer"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors svelte-1xzueer">🤖 机器人</span></label> <label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200 svelte-1xzueer"><div class="relative svelte-1xzueer"><input type="checkbox" class="sr-only svelte-1xzueer"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors svelte-1xzueer">💬 消息</span></label></div></div> <div class="mb-6 svelte-1xzueer"><div class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2 svelte-1xzueer"><span class="w-1 h-4 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full svelte-1xzueer"></span> 时间筛选</div> <label class="block mb-2 svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-2 flex items-center gap-1 svelte-1xzueer"><svg class="w-4 h-4 text-slate-500 svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg> 预设时间</span> <div class="relative svelte-1xzueer"><select class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 appearance-none cursor-pointer hover:border-slate-300 hover:shadow-sm text-sm font-medium text-slate-700 svelte-1xzueer"><option class="svelte-1xzueer">🌐 不限</option><option class="svelte-1xzueer">⚡ 最近1小时</option><option class="svelte-1xzueer">📅 最近24小时</option><option class="svelte-1xzueer">📊 最近7天</option><option class="svelte-1xzueer">📈 最近30天</option><option class="svelte-1xzueer">⚙️ 自定义</option></select> <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none svelte-1xzueer"><svg class="w-5 h-5 text-slate-400 svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg></div></div></label> <!></div> <div class="flex gap-3 mt-6 svelte-1xzueer"><button class="flex-1 px-4 py-3 text-sm font-semibold text-slate-600 bg-gradient-to-r from-slate-100 to-slate-200 rounded-xl hover:from-slate-200 hover:to-slate-300 transition-all duration-200 shadow-sm hover:shadow-md flex items-center justify-center gap-2 svelte-1xzueer"><svg class="w-4 h-4 svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg> 重置</button> <button class="flex-1 px-4 py-3 text-sm font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-2 svelte-1xzueer"><!></button></div></div></aside> <main class="flex-1 min-w-0 svelte-1xzueer"><!> <section class="svelte-1xzueer"><div class="flex flex-wrap sm:flex-nowrap justify-between items-center gap-4 mb-6 bg-white rounded-2xl shadow-lg p-4 svelte-1xzueer"><div class="flex items-center gap-4 flex-shrink-0 svelte-1xzueer"><span class="text-slate-700 svelte-1xzueer">共 <strong class="text-slate-900 svelte-1xzueer"> </strong> 条结果</span> <!></div> <div class="w-full sm:w-auto svelte-1xzueer"><div class="flex items-center justify-center sm:justify-end gap-3 svelte-1xzueer"><button class="flex-shrink-0 px-4 py-2 text-sm font-medium text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors svelte-1xzueer">上一页</button> <span class="flex-shrink-0 text-sm text-slate-600 px-3 svelte-1xzueer"> </span> <button class="flex-shrink-0 px-4 py-2 text-sm font-medium text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors svelte-1xzueer">下一页</button></div></div></div> <div class="space-y-4 results-container svelte-1xzueer"><!> <!></div></section></main></div></div> <!> <!>',1);function Ge(x,m){z(m,!1);let g=T(""),h=T([]),f=T([]),w=T([]),y=T([]),C=T(!1),I=T(!1),R=T(!1),Z=T(0),ee=T(!1),le=T(!1),re=T(!1),se=T(!1),ae=T(!1),oe=T(null),ne=T(1),ie=T(10),ue=T(0),de=T("relevance"),ce=T({types:{group:!0,channel:!0,bot:!0,message:!0},timePreset:"any",timeOrder:"desc",customStart:"",customEnd:"",sourceGroup:"",sourceChannel:"",sourceUser:"",language:"",minLength:"",minInteractions:"",minRelevance:""});function ve(){return Math.ceil(S(ue)/S(ie))}async function pe(){if(!S(g).trim())return V(h,[]),void V(ue,0);V(C,!0);const e=Date.now();try{const t={q:S(g).trim(),page:S(ne),limit:S(ie),sort:S(de),filter:S(ce).type||"all"},l=await X.search(t);V(h,l.results||[]),V(ue,l.total||0),V(Z,Date.now()-e)}catch(t){V(h,[]),V(ue,0)}finally{V(C,!1)}}const be=function(e,t){let l;return function(...r){clearTimeout(l),l=setTimeout(()=>{clearTimeout(l),e(...r)},t)}}(async e=>{if(!e.trim()||e.length<2)V(f,[]);else{V(I,!0);try{V(f,await X.getSuggestions(e))}catch(t){V(f,[])}finally{V(I,!1)}}});function xe(e){V(g,e),V(f,[]),V(ee,!1),V(ne,1),pe()}function me(e){e<1||e>ve()||(V(ne,e),pe())}function Ge(e){V(oe,function(e){const t="channel"===e.type,l=Math.floor(2e3*Math.random())+500,r=Math.floor(l*(.3+.4*Math.random()));return{id:e.id,name:e.source,type:e.type,description:t?"专业的Telegram机器人开发交流群组，汇聚全球开发者":"专业的Telegram机器人开发交流频道，汇聚全球开发者",username:"@developers_chat",createdAt:"2023-05-15",stats:{totalMembers:l,onlineMembers:Math.floor(.4*r),messages24h:Math.floor(500*Math.random())+100,avgDaily:Math.floor(10*Math.random())+3,activityRate:Math.floor(r/l*100),groupScore:(2*Math.random()+3).toFixed(1)},topUsers:[{username:"@developer_alice",messages:45,activity:92},{username:"@bot_master",messages:38,activity:87},{username:"@api_expert",messages:32,activity:81},{username:"@code_ninja",messages:28,activity:76},{username:"@tech_guru",messages:24,activity:72}],hourlyActivity:Array.from({length:24},(e,t)=>{const l=.5*Math.sin((t-6)*Math.PI/12)+.5,r=.3*Math.random();return Math.max(.1,Math.min(1,l+r))}),lastUpdate:(new Date).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}}(e)),V(se,!0)}function Oe(){localStorage.removeItem("searchHistories"),V(y,[])}U(()=>{!function(){try{V(y,JSON.parse(localStorage.getItem("searchHistories")||"[]"))}catch(e){V(y,[])}}(),async function(){V(R,!0);try{V(w,await X.getTrending())}catch(e){V(w,[])}finally{V(R,!1)}}(),pe()}),e();var qe=Ue(),Fe=_(qe),Ne=$(Fe),We=B($(Ne),6),Je=$(We),Ke=B($(Je),2);W(Ke),D(2),L(Je);var Qe=B(Je,2),Xe=$(Qe),Ye=$(Xe),Ze=e=>{var t=A("搜索中...");M(e,t)},et=e=>{var t=A("搜索");M(e,t)};O(Ye,e=>{S(C)?e(Ze):e(et,!1)}),L(Xe),L(Qe);var tt=B(Qe,2),lt=B(tt,2),rt=$(lt),st=B($(rt));L(rt),L(lt),L(We);var at=B(We,2),ot=e=>{var l=we(),r=$(l),s=$(r),a=e=>{var t=he();M(e,t)};O(s,e=>{S(I)&&e(a)});var o=B(s,2);q(o,1,()=>S(f),F,(e,l)=>{var r=fe(),s=$(r),a=B($(s));L(s),L(r),t(()=>E(a,` ${S(l)??""}`)),H("click",r,()=>xe(S(l))),M(e,r)}),L(r),L(l),M(e,l)};O(at,e=>{S(ee)&&(S(f).length>0||S(I))&&e(ot)});var nt=B(at,2),it=$(nt),ut=B($(it),2),dt=e=>{var t=ze();M(e,t)},ct=e=>{var l=ke(),r=_(l);q(r,1,()=>S(y),F,(e,l)=>{var r=ye(),s=$(r),a=$(s,!0);L(s),D(2),L(r),t(()=>E(a,S(l))),H("click",r,()=>xe(S(l))),M(e,r)});var s=B(r,2);H("click",s,Oe),M(e,l)};O(ut,e=>{0===S(y).length?e(dt):e(ct,!1)}),L(it);var vt=B(it,2),pt=B($(vt),2),bt=e=>{var t=_e();M(e,t)},xt=e=>{var l=k(),r=_(l),s=e=>{var t=Me();M(e,t)},a=e=>{var l=k(),r=_(l);q(r,1,()=>S(w).slice(0,8),F,(e,l)=>{var r=je(),s=$(r),a=$(s,!0);L(s);var o=B(s,2),n=$(o,!0);L(o);var i=B(o,2),u=$(i);L(i),D(2),L(r),t((e,t)=>{N(r,1,"group relative inline-flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-300 backdrop-blur-md border focus:outline-none focus:ring-2 focus:ring-white/50 "+("hot"===S(l).trend?"bg-gradient-to-r from-red-500/80 to-pink-500/80 text-white border-red-400/50 shadow-lg shadow-red-500/30 hover:from-red-400 hover:to-pink-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-red-500/40 hover:scale-105":"up"===S(l).trend?"bg-gradient-to-r from-emerald-500/80 to-green-500/80 text-white border-emerald-400/50 shadow-lg shadow-emerald-500/30 hover:from-emerald-400 hover:to-green-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-emerald-500/40 hover:scale-105":"down"===S(l).trend?"bg-gradient-to-r from-slate-500/80 to-gray-500/80 text-white border-slate-400/50 shadow-lg shadow-slate-500/30 hover:from-slate-400 hover:to-gray-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-slate-500/40 hover:scale-105":"bg-gradient-to-r from-blue-500/80 to-purple-500/80 text-white border-blue-400/50 shadow-lg shadow-blue-500/30 hover:from-blue-400 hover:to-purple-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-105"),"svelte-1xzueer"),J(r,"title",e),E(a,t),E(n,S(l).keyword),E(u,`(${S(l).count??""})`)},[()=>{return`排名: #${S(l).rank} | 搜索次数: ${S(l).count} | 分类: ${t=S(l).category,{technology:"技术",blockchain:"区块链",ai:"人工智能",mobile:"移动开发",devops:"运维开发"}[t]||"其他"} | 趋势: ${e=S(l).trend,{up:"上升",down:"下降",hot:"热门",stable:"稳定"}[e]||"未知"}`;var e,t},()=>({up:"📈",down:"📉",hot:"🔥",stable:"➡️"}[S(l).trend]||"❓")]),H("click",r,()=>xe(S(l).keyword)),M(e,r)}),M(e,l)};O(r,e=>{0===S(w).length?e(s):e(a,!1)},!0),M(e,l)};O(pt,e=>{S(R)?e(bt):e(xt,!1)}),L(vt),L(nt),L(Ne);var mt=B(Ne,2),gt=$(mt),ht=B($(gt),2),ft=$(ht);L(ht),L(gt),L(mt);var wt=B(mt,2),zt=$(wt),yt=$(zt),kt=B($(yt),2),_t=B($(kt),2),Mt=$(_t),jt=$(Mt),Ct=$(jt);W(Ct);var $t=B(Ct,2),Bt=$($t),Lt=e=>{var t=Ce();M(e,t)};O(Bt,e=>{S(ce).types.group&&e(Lt)}),L($t),L(jt),D(2),L(Mt);var St=B(Mt,2),Tt=$(St),Ht=$(Tt);W(Ht);var Vt=B(Ht,2),It=$(Vt),Pt=e=>{var t=$e();M(e,t)};O(It,e=>{S(ce).types.channel&&e(Pt)}),L(Vt),L(Tt),D(2),L(St);var Et=B(St,2),Rt=$(Et),At=$(Rt);W(At);var Dt=B(At,2),Ut=$(Dt),Gt=e=>{var t=Be();M(e,t)};O(Ut,e=>{S(ce).types.bot&&e(Gt)}),L(Dt),L(Rt),D(2),L(Et);var Ot=B(Et,2),qt=$(Ot),Ft=$(qt);W(Ft);var Nt=B(Ft,2),Wt=$(Nt),Jt=e=>{var t=Le();M(e,t)};O(Wt,e=>{S(ce).types.message&&e(Jt)}),L(Nt),L(qt),D(2),L(Ot),L(_t),L(kt);var Kt=B(kt,2),Qt=B($(Kt),2),Xt=B($(Qt),2),Yt=$(Xt);t(()=>{S(ce),P(()=>{})});var Zt=$(Yt);Zt.value=Zt.__value="any";var el=B(Zt);el.value=el.__value="1h";var tl=B(el);tl.value=tl.__value="24h";var ll=B(tl);ll.value=ll.__value="7d";var rl=B(ll);rl.value=rl.__value="30d";var sl=B(rl);sl.value=sl.__value="custom",L(Yt),D(2),L(Xt),L(Qt);var al=B(Qt,2),ol=e=>{var t=Se(),l=B($(t),2),r=$(l),s=B($(r),2);W(s),L(r);var a=B(r,2),o=B($(a),2);W(o),L(a),L(l),L(t),K(s,()=>S(ce).customStart,e=>G(ce,S(ce).customStart=e)),K(o,()=>S(ce).customEnd,e=>G(ce,S(ce).customEnd=e)),M(e,t)};O(al,e=>{"custom"===S(ce).timePreset&&e(ol)}),L(Kt);var nl=B(Kt,2),il=$(nl),ul=B(il,2),dl=$(ul),cl=e=>{var t=Te();D(),M(e,t)},vl=e=>{var t=He();D(),M(e,t)};O(dl,e=>{S(C)?e(cl):e(vl,!1)}),L(ul),L(nl),L(yt),L(zt);var pl=B(zt,2),bl=$(pl),xl=e=>{var l=Ve(),r=$(l),s=$(r),a=B($(s),2),o=$(a),n=B($(o),2);W(n),L(o);var i=B(o,2),u=B($(i),2);W(u),L(i);var d=B(i,2),c=B($(d),2);W(c),L(d);var v=B(d,2),p=B($(v),2);W(p),L(v),L(a),L(s);var b=B(s,2),x=B($(b),2),m=$(x),g=B($(m),2);W(g),L(m);var h=B(m,2),f=B($(h),2);W(f),L(h);var w=B(h,2),z=B($(w),2);W(z),L(w),L(x),L(b);var y=B(b,2),k=B($(y),2),_=$(k),j=B($(_),2);t(()=>{S(de),P(()=>{})});var C=$(j);C.value=C.__value="relevance";var T=B(C);T.value=T.__value="time";var H=B(T);H.value=H.__value="heat",L(j),L(_);var I=B(_,2),E=B($(I),2);t(()=>{S(ie),P(()=>{})});var R=$(E);R.value=R.__value="10";var A=B(R);A.value=A.__value="20";var D=B(A);D.value=D.__value="50",L(E),L(I),L(k),L(y),L(r),L(l),K(n,()=>S(ce).sourceGroup,e=>G(ce,S(ce).sourceGroup=e)),K(u,()=>S(ce).sourceChannel,e=>G(ce,S(ce).sourceChannel=e)),K(c,()=>S(ce).sourceUser,e=>G(ce,S(ce).sourceUser=e)),K(p,()=>S(ce).language,e=>G(ce,S(ce).language=e)),K(g,()=>S(ce).minLength,e=>G(ce,S(ce).minLength=e)),K(f,()=>S(ce).minInteractions,e=>G(ce,S(ce).minInteractions=e)),K(z,()=>S(ce).minRelevance,e=>G(ce,S(ce).minRelevance=e)),te(j,()=>S(de),e=>V(de,e)),te(E,()=>S(ie),e=>V(ie,e)),M(e,l)};O(bl,e=>{S(le)&&e(xl)});var ml=B(bl,2),gl=$(ml),hl=$(gl),fl=$(hl),wl=B($(fl)),zl=$(wl,!0);L(wl),D(),L(fl);var yl=B(fl,2),kl=e=>{var l=Ie(),r=$(l);L(l),t(()=>E(r,`耗时 ${S(Z)??""}ms`)),M(e,l)};O(yl,e=>{S(Z)>0&&e(kl)}),L(hl);var _l=B(hl,2),Ml=$(_l),jl=$(Ml),Cl=B(jl,2),$l=$(Cl);L(Cl);var Bl=B(Cl,2);L(Ml),L(_l),L(gl);var Ll=B(gl,2),Sl=$(Ll),Tl=e=>{var t=Pe();M(e,t)};O(Sl,e=>{0!==S(h).length||S(C)||e(Tl)});var Hl=B(Sl,2);q(Hl,1,()=>S(h),F,(e,x)=>{var m=De(),h=$(m),f=$(h),w=$(f,!0);L(f);var z=B(f,2),y=$(z);L(z);var k=B(z,2),_=$(k);L(k);var j=B(k,2),C=e=>{var l=Ee(),r=$(l);L(l),t(()=>E(r,`相关性：${S(x).relevance??""}`)),M(e,l)};O(j,e=>{null!=S(x).relevance&&e(C)}),L(h);var T=B(h,2);!function(e,x,m=!1,g=!1){var h=e,f="";t(()=>{var e=s;if(f!==(f=x()??"")){if(null!==e.nodes_start&&(a(e.nodes_start,e.nodes_end),e.nodes_start=e.nodes_end=null),""!==f){if(l){o.data;for(var t=r(),w=t;null!==t&&(t.nodeType!==n||""!==t.data);)w=t,t=i(t);if(null===t)throw u(),d;return c(o,w),void(h=v(t))}var z=f+"";m?z=`<svg>${z}</svg>`:g&&(z=`<math>${z}</math>`);var y=p(z);if((m||g)&&(y=b(y)),c(b(y),y.lastChild),m||g)for(;b(y);)h.before(b(y));else h.before(y)}}else l&&r()})}($(T),()=>function(e,t){if(!t.trim())return e;const l=t.trim().split(/\s+/);let r=e;return l.forEach(e=>{const t=new RegExp(`(${e})`,"gi");r=r.replace(t,"<mark>$1</mark>")}),r}(S(x).content,S(g))),L(T);var V=B(T,2),I=$(V),P=e=>{var t=Re();H("click",t,()=>Ge(S(x))),M(e,t)},R=e=>{var t=Ae();M(e,t)};O(I,e=>{"group"===S(x).type||"channel"===S(x).type?e(P):e(R,!1)}),D(6),L(V),L(m),t(e=>{N(f,1,"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium "+("group"===S(x).type?"bg-blue-100 text-blue-800":"channel"===S(x).type?"bg-green-100 text-green-800":"bot"===S(x).type?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),"svelte-1xzueer"),E(w,S(x).type),E(y,`来源：${S(x).source??""}`),E(_,`时间：${e??""}`)},[()=>new Date(S(x).timestamp).toLocaleString()]),M(e,m)}),L(Ll),L(ml),L(pl),L(wt),L(Fe);var Vl=B(Fe,2);Y(Vl,{get show(){return S(se)},get groupData(){return S(oe)},$$events:{close:function(){V(se,!1),V(oe,null)}}}),ge(B(Vl,2),{get show(){return S(ae)},set show(e){V(ae,e)},$$events:{close:()=>V(ae,!1)},$$legacy:!0}),t((e,t)=>{Qe.disabled=S(C),N(lt,1,`relative bg-white/60 text-slate-700 border-2 border-blue-200/50 px-6 py-4 rounded-full cursor-pointer transition-all duration-300 backdrop-blur-md hover:bg-white/80 hover:border-blue-300/70 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-400/50 ${0===S(g).length?"hidden":"flex"} md:flex`,"svelte-1xzueer"),N(st,1,"transition-transform duration-300 "+(S(le)?"rotate-180":""),"svelte-1xzueer"),N(nt,1,(0===S(g).length?"hidden":"flex")+" md:flex flex-col gap-6 mt-8 relative z-10","svelte-1xzueer"),E(ft,"筛选器 "+(S(re)?"▲":"▼")),N(zt,1,"w-full md:w-64 flex-shrink-0 "+(S(re)?"block":"hidden md:block"),"svelte-1xzueer"),N($t,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-blue-400 "+(S(ce).types.group?"bg-gradient-to-br from-blue-500 to-blue-600 border-blue-500":"bg-white"),"svelte-1xzueer"),N(Vt,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-green-400 "+(S(ce).types.channel?"bg-gradient-to-br from-green-500 to-green-600 border-green-500":"bg-white"),"svelte-1xzueer"),N(Dt,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-purple-400 "+(S(ce).types.bot?"bg-gradient-to-br from-purple-500 to-purple-600 border-purple-500":"bg-white"),"svelte-1xzueer"),N(Nt,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-orange-400 "+(S(ce).types.message?"bg-gradient-to-br from-orange-500 to-orange-600 border-orange-500":"bg-white"),"svelte-1xzueer"),ul.disabled=S(C),E(zl,S(ue)),jl.disabled=S(C)||S(ne)<=1,E($l,`第 ${S(ne)??""} / ${e??""} 页`),Bl.disabled=t},[ve,()=>S(C)||S(ne)>=ve()]),K(Ke,()=>S(g),e=>V(g,e)),H("input",Ke,function(e){const t=e.target;V(g,t.value),be(S(g))}),H("focus",Ke,()=>V(ee,!0)),H("blur",Ke,()=>setTimeout(()=>V(ee,!1),150)),H("keydown",Ke,e=>"Enter"===e.key&&(V(ne,1),pe())),H("click",Qe,()=>(V(ne,1),pe())),H("click",tt,()=>V(ae,!0)),H("click",lt,function(){V(le,!S(le))}),H("click",gt,function(){V(re,!S(re))}),Q(Ct,()=>S(ce).types.group,e=>G(ce,S(ce).types.group=e)),Q(Ht,()=>S(ce).types.channel,e=>G(ce,S(ce).types.channel=e)),Q(At,()=>S(ce).types.bot,e=>G(ce,S(ce).types.bot=e)),Q(Ft,()=>S(ce).types.message,e=>G(ce,S(ce).types.message=e)),te(Yt,()=>S(ce).timePreset,e=>G(ce,S(ce).timePreset=e)),H("click",il,function(){V(ce,{types:{group:!0,channel:!0,private:!0,media:!0,link:!0},timePreset:"any",timeOrder:"desc",customStart:"",customEnd:"",sourceGroup:"",sourceChannel:"",sourceUser:"",language:"",minLength:"",minInteractions:"",minRelevance:""})}),H("click",ul,()=>(V(ne,1),pe())),H("click",jl,()=>me(S(ne)-1)),H("click",Bl,()=>me(S(ne)+1)),M(x,qe),j()}export{Ge as component};
