import"../chunks/Cm9PB-7n.js";import{i as e}from"../chunks/BV4TV12-.js";import{t,J as r,W as l,z as s,aR as o,a1 as a,a2 as n,ai as i,aS as u,aT as d,aU as c,_ as v,aV as p,am as b,K as x,aL as m,R as g,aa as h,aW as f,aX as w,p as z,l as y,j as k,k as _,a as M,b as C,f as j,c as S,s as $,r as L,g as B,m as T,e as I,d as V,aY as H,aZ as A,i as D,aA as R,aK as O,n as P,o as E,a_ as N}from"../chunks/Dcj_b-T1.js";import{i as U}from"../chunks/np65tVUW.js";import{e as G,i as J}from"../chunks/xCKIWgcL.js";import{r as q,s as F}from"../chunks/BA91tbR7.js";import{s as W}from"../chunks/ChOSHGqm.js";import{b as K,a as X}from"../chunks/Cu2qomNb.js";import{a as Y}from"../chunks/DQxsrG8e.js";import{G as Z}from"../chunks/ChpogyAE.js";import{p as Q}from"../chunks/WoxEDqqS.js";function ee(e,t,r=!1){if(e.multiple){if(null==t)return;if(!h(t))return f();for(var l of e.options)l.selected=t.includes(re(l))}else{for(l of e.options){var s=re(l);if(w(s,t))return void(l.selected=!0)}r&&void 0===t||(e.selectedIndex=-1)}}function te(e,t,r=t){var l=!0;x(e,"change",t=>{var l,s=t?"[selected]":":checked";if(e.multiple)l=[].map.call(e.querySelectorAll(s),re);else{var o=e.querySelector(s)??e.querySelector("option:not([disabled])");l=o&&re(o)}r(l)}),m(()=>{var s=t();if(ee(e,s,l),l&&void 0===s){var o=e.querySelector(":checked");null!==o&&(s=re(o),r(s))}e.__value=s,l=!1}),function(e){var t=new MutationObserver(()=>{ee(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),g(()=>{t.disconnect()})}(e)}function re(e){return"__value"in e?e.__value:e.value}function le(e){return function(...t){return t[0].stopPropagation(),e?.apply(this,t)}}function se(e,t){var r=e.$$events?.[t.type],l=h(r)?r.slice():null==r?[]:[r];for(var s of l)s.call(this,t)}function oe(){const e=[];return Object.entries({technology:[{keyword:"Vue3 Composition API",count:2340,trend:"up"},{keyword:"React Server Components",count:1980,trend:"hot"},{keyword:"TypeScript 5.0新特性",count:1756,trend:"up"},{keyword:"Vite 4.0构建优化",count:1542,trend:"stable"},{keyword:"Next.js 13 App Router",count:1423,trend:"up"}],blockchain:[{keyword:"以太坊2.0升级",count:1890,trend:"hot"},{keyword:"Web3开发入门",count:1654,trend:"up"},{keyword:"NFT智能合约",count:1234,trend:"stable"},{keyword:"DeFi协议分析",count:987,trend:"down"}],ai:[{keyword:"机器学习算法",count:2156,trend:"hot"},{keyword:"深度学习框架",count:1876,trend:"up"},{keyword:"自然语言处理",count:1543,trend:"stable"},{keyword:"计算机视觉",count:1321,trend:"up"}],mobile:[{keyword:"Flutter跨平台开发",count:1678,trend:"up"},{keyword:"React Native性能优化",count:1456,trend:"stable"},{keyword:"iOS SwiftUI",count:1234,trend:"up"},{keyword:"Android Jetpack Compose",count:1123,trend:"hot"}],devops:[{keyword:"Docker容器化部署",count:1789,trend:"stable"},{keyword:"Kubernetes集群管理",count:1567,trend:"up"},{keyword:"CI/CD自动化流程",count:1345,trend:"stable"},{keyword:"微服务架构设计",count:1234,trend:"up"}]}).forEach(([t,r])=>{r.forEach(r=>{e.push({...r,category:t})})}),e.sort((e,t)=>t.count-e.count).slice(0,20).map((e,t)=>({...e,rank:t+1,count:e.count+Math.floor(100*Math.random())-50}))}var ae=j('<p class="text-red-500 text-sm mt-1 flex items-center gap-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> </p>'),ne=j('<div class="space-y-4"><div><label for="single-link" class="block text-sm font-medium text-gray-700 mb-2">链接地址 *</label> <input id="single-link" type="url" placeholder="https://t.me/example"/> <!></div> <div><label for="link-title" class="block text-sm font-medium text-gray-700 mb-2">标题</label> <input id="link-title" type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors" placeholder="链接标题（可选）"/></div> <div><label for="link-description" class="block text-sm font-medium text-gray-700 mb-2">描述</label> <textarea id="link-description" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors resize-none" rows="3" placeholder="链接描述（可选）"></textarea></div> <div><label for="category" class="block text-sm font-medium text-gray-700 mb-2">分类</label> <select id="category" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"><option>选择分类（可选）</option><option>技术</option><option>新闻</option><option>娱乐</option><option>教育</option><option>商业</option><option>其他</option></select></div></div>'),ie=j('<p class="text-red-500 text-sm mt-1 flex items-center gap-1"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> </p>'),ue=j('<p class="text-sm text-gray-500 mt-1">每行输入一个Telegram链接，支持批量收录</p>'),de=j('<div class="space-y-4"><div><label for="multiple-links" class="block text-sm font-medium text-gray-700 mb-2">链接地址 *</label> <textarea id="multiple-links" rows="6" placeholder="每行输入一个链接地址： https://t.me/example1 https://t.me/example2 https://t.me/example3"></textarea> <!></div> <div><label for="batch-category" class="block text-sm font-medium text-gray-700 mb-2">统一分类</label> <select id="batch-category" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"><option>选择分类（可选）</option><option>技术</option><option>新闻</option><option>娱乐</option><option>教育</option><option>商业</option><option>其他</option></select></div></div>'),ce=j('<div class="text-center space-y-6"><div class="bg-blue-50 rounded-xl p-6"><div class="text-6xl mb-4">🤖</div> <h3 class="text-lg font-semibold text-gray-800 mb-2">通过Telegram机器人收录</h3> <p class="text-gray-600 mb-4">点击下方按钮打开Telegram机器人，直接发送链接即可快速收录</p> <button class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-colors inline-flex items-center gap-2"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.374 0 0 5.373 0 12s5.374 12 12 12 12-5.373 12-12S18.626 0 12 0zm5.568 8.16c-.169 1.858-.896 6.728-.896 6.728-.377 2.617-1.407 3.08-2.896 1.596l-2.123-1.596-1.018.684c-.215.145-.395.26-.81.26-.528 0-.434-.2-.612-.706L8.4 13.116l-2.917-.93c-.631-.2-.636-.63.14-.936l11.395-4.29c.523-.2 1.01.12.55 1.2z"></path></svg> 打开收录机器人</button></div> <div class="bg-gray-50 rounded-xl p-4"><h4 class="font-medium text-gray-800 mb-2">使用说明：</h4> <ul class="text-sm text-gray-600 space-y-1 text-left"><li>• 点击按钮打开Telegram机器人</li> <li>• 直接发送链接给机器人</li> <li>• 机器人会自动解析并收录链接</li> <li>• 支持批量发送多个链接</li></ul></div></div>'),ve=R('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'),pe=R('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>'),be=j('<div><div class="flex items-center gap-2"><!> <span> </span></div></div>'),xe=j('<div class="bg-gray-50 px-6 py-4 flex gap-3 justify-end"><button class="px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors">取消</button> <button class="px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"><!></button> <button class="px-6 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div>'),me=j('<div class="bg-gray-50 px-6 py-4 flex justify-end"><button class="px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors">关闭</button></div>'),ge=j('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4" role="dialog" aria-modal="true" tabindex="-1"><div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden" role="document" tabindex="0"><div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6"><div class="flex items-center justify-between"><h2 class="text-xl font-bold">添加收录</h2> <button class="text-white/80 hover:text-white transition-colors" aria-label="关闭弹窗"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex gap-2 mt-4"><button>单个链接</button> <button>批量链接</button> <button>TG机器人</button></div></div> <div class="p-6 overflow-y-auto max-h-[60vh]"><!> <!></div> <!></div></div>');function he(r,l){z(l,!1);const s=y();let o=Q(l,"show",12,!1),a=T("single"),n=T(""),i=T(""),u=T(""),d=T(""),c=T(""),v=T(!1),p=T(""),b=T(""),x=T(""),m=T("");function g(){o(!1),V(n,""),V(i,""),V(u,""),V(d,""),V(c,""),V(p,""),V(b,""),V(x,""),V(m,""),s("close")}function h(e){return e.trim().startsWith("https://t.me")}function f(){return B(n).trim()?h(B(n))?(V(x,""),!0):(V(x,"只能添加 https://t.me 开头的链接"),!1):(V(x,""),!0)}function w(){if(!B(i).trim())return V(m,""),!0;const e=B(i).split("\n").filter(e=>e.trim()).filter(e=>!h(e));return e.length>0?(V(m,`只能添加 https://t.me 开头的链接，发现 ${e.length} 个无效链接`),!1):(V(m,""),!0)}async function j(e=!1){if(!B(v)){if("single"===B(a)){if(!B(n).trim())return void R("请输入链接地址","error");if(!f())return}if("multiple"===B(a)){if(!B(i).trim())return void R("请输入链接地址","error");if(!w())return}V(v,!0);try{B(a),B(u),B(d),B(c),"single"===B(a)?B(n):B(i).split("\n").filter(e=>e.trim()),(new Date).toISOString();await new Promise(e=>setTimeout(e,1e3));Math.random()>.2?(R("收录成功！","success"),e?(V(n,""),V(i,"")):setTimeout(()=>{g()},1500)):R("收录失败，请重试","error")}catch(t){R("收录失败，请重试","error")}finally{V(v,!1)}}}function R(e,t){V(p,e),V(b,t),setTimeout(()=>{V(p,""),V(b,"")},3e3)}function E(e){V(a,e),V(p,""),V(b,""),V(x,""),V(m,"")}function N(){window.open("https://t.me/your_collection_bot","_blank"),R("请在Telegram中向机器人发送链接进行收录","success")}e();var G=k(),J=_(G),F=e=>{var r=ge(),s=S(r),o=S(s),h=S(o),z=$(S(h),2);L(h);var y=$(h,2),C=S(y),T=$(C,2),R=$(T,2);L(y),L(o);var G=$(o,2),J=S(G),F=e=>{var r=ne(),l=S(r),s=$(S(l),2);q(s);var o=$(s,2),a=e=>{var r=ae(),l=$(S(r));L(r),t(()=>D(l,` ${B(x)??""}`)),M(e,r)};U(o,e=>{B(x)&&e(a)}),L(l);var i=$(l,2),v=$(S(i),2);q(v),L(i);var p=$(i,2),b=$(S(p),2);H(b),L(p);var m=$(p,2),g=$(S(m),2);t(()=>{B(c),A(()=>{})});var h=S(g);h.value=h.__value="";var w=$(h);w.value=w.__value="technology";var z=$(w);z.value=z.__value="news";var y=$(z);y.value=y.__value="entertainment";var k=$(y);k.value=k.__value="education";var _=$(k);_.value=_.__value="business";var C=$(_);C.value=C.__value="other",L(g),L(m),L(r),t(()=>W(s,1,"w-full px-4 py-3 border rounded-lg outline-none transition-colors "+(B(x)?"border-red-500 focus:ring-2 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"))),K(s,()=>B(n),e=>V(n,e)),I("input",s,f),I("blur",s,f),K(v,()=>B(u),e=>V(u,e)),K(b,()=>B(d),e=>V(d,e)),te(g,()=>B(c),e=>V(c,e)),M(e,r)},X=e=>{var r=k(),l=_(r),s=e=>{var r=de(),l=S(r),s=$(S(l),2);H(s);var o=$(s,2),a=e=>{var r=ie(),l=$(S(r));L(r),t(()=>D(l,` ${B(m)??""}`)),M(e,r)},n=e=>{var t=ue();M(e,t)};U(o,e=>{B(m)?e(a):e(n,!1)}),L(l);var u=$(l,2),d=$(S(u),2);t(()=>{B(c),A(()=>{})});var v=S(d);v.value=v.__value="";var p=$(v);p.value=p.__value="technology";var b=$(p);b.value=b.__value="news";var x=$(b);x.value=x.__value="entertainment";var g=$(x);g.value=g.__value="education";var h=$(g);h.value=h.__value="business";var f=$(h);f.value=f.__value="other",L(d),L(u),L(r),t(()=>W(s,1,"w-full px-4 py-3 border rounded-lg outline-none transition-colors resize-none "+(B(m)?"border-red-500 focus:ring-2 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"))),K(s,()=>B(i),e=>V(i,e)),I("input",s,w),I("blur",s,w),te(d,()=>B(c),e=>V(c,e)),M(e,r)},o=e=>{var t=k(),r=_(t),l=e=>{var t=ce(),r=S(t),l=$(S(r),6);L(r),P(2),L(t),I("click",l,N),M(e,t)};U(r,e=>{"telegram"===B(a)&&e(l)},!0),M(e,t)};U(l,e=>{"multiple"===B(a)?e(s):e(o,!1)},!0),M(e,r)};U(J,e=>{"single"===B(a)?e(F):e(X,!1)});var Y=$(J,2),Z=e=>{var r=be(),l=S(r),s=S(l),o=e=>{var t=ve();M(e,t)},a=e=>{var t=pe();M(e,t)};U(s,e=>{"success"===B(b)?e(o):e(a,!1)});var n=$(s,2),i=S(n,!0);L(n),L(l),L(r),t(()=>{W(r,1,"mt-4 p-3 rounded-lg "+("success"===B(b)?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200")),D(i,B(p))}),M(e,r)};U(Y,e=>{B(p)&&e(Z)}),L(G);var Q=$(G,2),ee=e=>{var r=xe(),l=S(r),s=$(l,2),o=S(s),a=e=>{var t=O("保存中...");M(e,t)},n=e=>{var t=O("保存后继续收录");M(e,t)};U(o,e=>{B(v)?e(a):e(n,!1)}),L(s);var i=$(s,2),u=S(i),d=e=>{var t=O("保存中...");M(e,t)},c=e=>{var t=O("保存");M(e,t)};U(u,e=>{B(v)?e(d):e(c,!1)}),L(i),L(r),t(()=>{l.disabled=B(v),s.disabled=B(v),i.disabled=B(v)}),I("click",l,g),I("click",s,()=>j(!0)),I("click",i,()=>j(!1)),M(e,r)},re=e=>{var t=me(),r=S(t);L(t),I("click",r,g),M(e,t)};U(Q,e=>{"telegram"!==B(a)?e(ee):e(re,!1)}),L(s),L(r),t(()=>{W(C,1,"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("single"===B(a)?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/15")),W(T,1,"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("multiple"===B(a)?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/15")),W(R,1,"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("telegram"===B(a)?"bg-white/20 text-white":"bg-white/10 text-white/70 hover:bg-white/15"))}),I("click",z,g),I("click",C,()=>E("single")),I("click",T,()=>E("multiple")),I("click",R,()=>E("telegram")),I("click",s,le(function(e){se.call(this,l,e)})),I("keydown",s,le(function(e){se.call(this,l,e)})),I("click",r,g),I("keydown",r,e=>"Escape"===e.key&&g()),M(e,r)};U(J,e=>{o()&&e(F)}),M(r,G),C()}var fe=j('<div class="block w-full text-left bg-transparent border-none px-5 py-4 cursor-default text-slate-500 flex items-center gap-3 svelte-1xzueer"><div class="w-4 h-4 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin svelte-1xzueer"></div> 加载建议...</div>'),we=j('<button type="button" class="block w-full text-left bg-transparent border-none px-5 py-4 cursor-pointer text-slate-700 transition-all duration-200 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-slate-900 focus:outline-none focus:bg-gradient-to-r focus:from-blue-100 focus:to-purple-100 svelte-1xzueer"><span class="flex items-center gap-3 svelte-1xzueer"><svg class="w-4 h-4 text-slate-400 svelte-1xzueer" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" class="svelte-1xzueer"></path></svg> </span></button>'),ze=j('<div class="absolute left-0 right-0 top-full mt-3 z-20 rounded-2xl overflow-hidden shadow-2xl svelte-1xzueer"><div class="bg-white/95 backdrop-blur-xl rounded-2xl max-h-56 overflow-auto shadow-2xl border border-white/20 svelte-1xzueer"><!> <!></div></div>'),ye=j('<span class="text-black/60 italic svelte-1xzueer">暂无历史记录</span>'),ke=j('<button class="group relative bg-black/10 border border-black/30 px-4 py-2.5 rounded-full cursor-pointer text-black text-sm font-medium transition-all duration-300 backdrop-blur-md hover:bg-black/20 hover:border-black/50 hover:-translate-y-1 hover:shadow-lg hover:shadow-black/20 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-black/50 svelte-1xzueer"><span class="relative z-10 svelte-1xzueer"> </span> <div class="absolute inset-0 bg-gradient-to-r from-blue-400/20 to-purple-400/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 svelte-1xzueer"></div></button>'),_e=j('<!> <button class="bg-transparent border-0 text-black/70 cursor-pointer underline transition-all duration-300 hover:text-black hover:scale-105 font-medium text-sm svelte-1xzueer">清空历史</button>',1),Me=j('<span class="text-black/60 flex items-center gap-2 svelte-1xzueer"><div class="w-3 h-3 border border-black/40 border-t-black rounded-full animate-spin svelte-1xzueer"></div> 加载中...</span>'),Ce=j('<span class="text-black/60 italic svelte-1xzueer">暂无热门内容</span>'),je=j('<button><span class="text-base leading-none animate-bounce svelte-1xzueer"> </span> <span class="font-bold relative z-10 svelte-1xzueer"> </span> <span class="text-xs opacity-90 font-medium bg-white/20 px-2 py-1 rounded-full svelte-1xzueer"> </span> <div class="absolute inset-0 bg-gradient-to-r from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-full svelte-1xzueer"></div></button>'),Se=R('<svg class="w-3 h-3 text-white svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg>'),$e=R('<svg class="w-3 h-3 text-white svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg>'),Le=R('<svg class="w-3 h-3 text-white svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg>'),Be=R('<svg class="w-3 h-3 text-white svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg>'),Te=j('<div class="mt-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-100 svelte-1xzueer"><div class="flex items-center gap-2 mb-3 svelte-1xzueer"><svg class="w-4 h-4 text-blue-500 svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg> <span class="text-sm font-semibold text-blue-700 svelte-1xzueer">自定义时间范围</span></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 svelte-1xzueer"><label class="block svelte-1xzueer"><span class="block text-xs font-medium text-slate-600 mb-1 flex items-center gap-1 svelte-1xzueer"><span class="w-2 h-2 bg-green-400 rounded-full svelte-1xzueer"></span> 开始日期</span> <input type="date" class="w-full px-3 py-2.5 border-2 border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 bg-white hover:border-slate-300 text-sm svelte-1xzueer"/></label> <label class="block svelte-1xzueer"><span class="block text-xs font-medium text-slate-600 mb-1 flex items-center gap-1 svelte-1xzueer"><span class="w-2 h-2 bg-red-400 rounded-full svelte-1xzueer"></span> 结束日期</span> <input type="date" class="w-full px-3 py-2.5 border-2 border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 bg-white hover:border-slate-300 text-sm svelte-1xzueer"/></label></div></div>'),Ie=R('<svg class="w-4 h-4 animate-spin svelte-1xzueer" fill="none" viewBox="0 0 24 24"><circle class="opacity-25 svelte-1xzueer" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75 svelte-1xzueer" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> 应用中...',1),Ve=R('<svg class="w-4 h-4 svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg> 应用',1),He=j('<section class="mb-6 svelte-1xzueer"><div class="bg-white rounded-2xl shadow-lg p-6 svelte-1xzueer"><div class="mb-6 svelte-1xzueer"><h4 class="text-lg font-semibold text-slate-800 mb-4 svelte-1xzueer">来源过滤</h4> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 svelte-1xzueer"><label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">群组</span> <input placeholder="群组名称" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"/></label> <label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">频道</span> <input placeholder="频道名称" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"/></label> <label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">用户</span> <input placeholder="发送者" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"/></label> <label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">语言</span> <input placeholder="如: zh, en" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"/></label></div></div> <div class="mb-6 svelte-1xzueer"><h4 class="text-lg font-semibold text-slate-800 mb-4 svelte-1xzueer">质量过滤</h4> <div class="grid grid-cols-1 md:grid-cols-3 gap-4 svelte-1xzueer"><label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">最小长度</span> <input type="number" min="0" placeholder="字符数" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"/></label> <label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">最小互动</span> <input type="number" min="0" placeholder="点赞/转发数" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"/></label> <label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">最小相关性</span> <input type="number" min="0" max="1" step="0.01" placeholder="0~1" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"/></label></div></div> <div class="svelte-1xzueer"><h4 class="text-lg font-semibold text-slate-800 mb-4 svelte-1xzueer">排序与分页</h4> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 svelte-1xzueer"><label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">排序</span> <select class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"><option class="svelte-1xzueer">相关性</option><option class="svelte-1xzueer">时间</option><option class="svelte-1xzueer">热度</option></select></label> <label class="block svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-1 svelte-1xzueer">每页条数</span> <select class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors svelte-1xzueer"><option class="svelte-1xzueer">10</option><option class="svelte-1xzueer">20</option><option class="svelte-1xzueer">50</option></select></label></div></div></div></section>'),Ae=j('<span class="text-slate-500 text-sm svelte-1xzueer"> </span>'),De=j('<div class="bg-white rounded-2xl shadow-lg p-12 text-center svelte-1xzueer"><div class="text-slate-400 text-lg svelte-1xzueer">暂无数据，请输入关键字进行搜索。</div></div>'),Re=j('<span class="text-sm text-slate-500 svelte-1xzueer"> </span>'),Oe=j('<button class="text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors svelte-1xzueer" title="查看群组统计详情">查看详情</button>'),Pe=j('<button class="text-slate-400 text-sm font-medium cursor-not-allowed svelte-1xzueer" disabled title="占位">查看详情</button>'),Ee=j('<article class="bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 svelte-1xzueer"><div class="flex flex-wrap items-center gap-3 mb-4 svelte-1xzueer"><span> </span> <span class="text-sm text-slate-600 svelte-1xzueer"> </span> <span class="text-sm text-slate-500 svelte-1xzueer"> </span> <!></div> <div class="text-slate-700 leading-relaxed mb-4 svelte-1xzueer" aria-label="消息内容"><!></div> <div class="flex flex-wrap gap-3 svelte-1xzueer"><!> <button class="text-slate-400 text-sm font-medium cursor-not-allowed svelte-1xzueer" disabled title="占位">来源跳转</button> <button class="text-slate-400 text-sm font-medium cursor-not-allowed svelte-1xzueer" disabled title="占位">收藏</button> <button class="text-slate-400 text-sm font-medium cursor-not-allowed svelte-1xzueer" disabled title="占位">分享</button></div></article>'),Ne=j('<div class="w-full p-2 min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/50 relative overflow-hidden svelte-1xzueer"><section class="relative z-10 bg-gradient-to-br from-white/80 via-blue-50/60 to-indigo-100/40 backdrop-blur-xl rounded-3xl md:rounded-[2rem] p-6 md:p-8 lg:p-12 shadow-2xl shadow-blue-500/10 border border-white/20 mb-6 overflow-hidden svelte-1xzueer"><div class="absolute inset-0 pointer-events-none svelte-1xzueer"><div class="absolute top-0 left-0 w-full h-full opacity-40 svelte-1xzueer"><div class="absolute top-4 left-0 w-0.5 h-16 bg-gradient-to-b from-transparent via-blue-400/50 to-transparent shadow-md shadow-blue-400/30 svelte-1xzueer"></div> <div class="absolute top-8 right-0 w-0.5 h-12 bg-gradient-to-b from-transparent via-purple-400/40 to-transparent shadow-md shadow-purple-400/20 svelte-1xzueer"></div> <div class="absolute bottom-8 left-1/4 w-0.5 h-14 bg-gradient-to-b from-transparent via-indigo-400/45 to-transparent shadow-md shadow-indigo-400/25 svelte-1xzueer"></div> <div class="absolute top-12 right-1/3 w-0.5 h-10 bg-gradient-to-b from-transparent via-cyan-400/35 to-transparent shadow-sm shadow-cyan-400/15 svelte-1xzueer"></div> <div class="absolute bottom-12 left-1/3 w-0.5 h-18 bg-gradient-to-b from-transparent via-rose-400/30 to-transparent shadow-sm shadow-rose-400/10 svelte-1xzueer"></div></div></div> <h1 class="text-3xl md:text-4xl font-bold bg-gradient-to-r from-slate-800 via-blue-700 to-indigo-800 bg-clip-text text-transparent mb-2 relative z-10 drop-shadow-sm svelte-1xzueer">Telegram 内容搜索</h1> <p class="text-slate-600/90 text-base md:text-lg mb-6 relative z-10 font-medium svelte-1xzueer">搜索群组、频道和私聊中的消息内容</p> <div class="flex flex-col sm:flex-row gap-4 items-stretch sm:items-center relative z-10 svelte-1xzueer"><div class="relative flex-1 group svelte-1xzueer"><div class="absolute inset-0 bg-gradient-to-r from-blue-400/30 via-purple-400/30 to-pink-400/30 rounded-full blur-xl opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 transition-all duration-300 svelte-1xzueer"></div> <input class="w-full px-6 py-4 text-base border-2 border-blue-200/50 rounded-full outline-none transition-all duration-300 bg-white/70 backdrop-blur-md text-slate-700 placeholder-slate-400 relative z-10 focus:border-blue-400/80 focus:bg-white/90 focus:shadow-lg hover:border-blue-300/70 hover:bg-white/80 svelte-1xzueer" placeholder="请输入搜索关键字（支持多个关键字，以空格分隔）"/> <div class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none transition-colors duration-300 group-focus-within:text-blue-600 svelte-1xzueer"><svg class="w-5 h-5 svelte-1xzueer" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" class="svelte-1xzueer"></path></svg></div></div> <button class="relative bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-600 text-white border-0 px-8 py-4 rounded-full cursor-pointer font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-60 disabled:cursor-not-allowed group svelte-1xzueer"><span class="relative z-10 svelte-1xzueer"><!></span></button> <button class="relative bg-gradient-to-r from-green-500 via-emerald-500 to-teal-600 text-white border-0 px-6 py-4 rounded-full cursor-pointer font-semibold transition-all duration-300 shadow-lg hover:shadow-xl group svelte-1xzueer"><span class="relative z-10 flex items-center gap-2 svelte-1xzueer"><svg class="w-5 h-5 svelte-1xzueer" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" class="svelte-1xzueer"></path></svg> 收录</span></button> <button><span class="flex items-center gap-2 svelte-1xzueer">高级选项 <span><svg class="w-4 h-4 svelte-1xzueer" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" class="svelte-1xzueer"></path></svg></span></span></button></div> <!> <div><div class="flex items-center gap-3 flex-wrap pb-4 svelte-1xzueer"><span class="text-black mr-4 font-bold text-sm flex items-center gap-2 flex-shrink-0 svelte-1xzueer"><svg class="w-4 h-4 svelte-1xzueer" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-1xzueer"></path></svg> 历史搜索</span> <!></div> <div class="flex items-center gap-3 flex-wrap pb-4 svelte-1xzueer"><span class="text-black mr-4 font-bold text-sm flex items-center gap-2 flex-shrink-0 svelte-1xzueer"><svg class="w-4 h-4 svelte-1xzueer" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" class="svelte-1xzueer"></path></svg> 热门搜索</span> <!></div></div></section> <div class="md:hidden mb-4 svelte-1xzueer"><button class="w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-2xl font-medium hover:bg-blue-700 transition-colors svelte-1xzueer"><span class="text-lg svelte-1xzueer">🔍</span> <span class="svelte-1xzueer"> </span></button></div> <div class="flex flex-col md:flex-row gap-3 w-full px-2 svelte-1xzueer"><aside><div class="bg-white rounded-2xl shadow-lg p-6 sticky top-6 svelte-1xzueer"><h3 class="text-lg font-bold text-slate-800 mb-4 svelte-1xzueer">筛选器</h3> <div class="mb-6 svelte-1xzueer"><div class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2 svelte-1xzueer"><span class="w-1 h-4 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full svelte-1xzueer"></span> 内容类型</div> <div class="space-y-3 svelte-1xzueer"><label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200 svelte-1xzueer"><div class="relative svelte-1xzueer"><input type="checkbox" class="sr-only svelte-1xzueer"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors svelte-1xzueer">📱 群组</span></label> <label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200 svelte-1xzueer"><div class="relative svelte-1xzueer"><input type="checkbox" class="sr-only svelte-1xzueer"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors svelte-1xzueer">📢 频道</span></label> <label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200 svelte-1xzueer"><div class="relative svelte-1xzueer"><input type="checkbox" class="sr-only svelte-1xzueer"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors svelte-1xzueer">🤖 机器人</span></label> <label class="flex items-center gap-3 cursor-pointer group p-2 rounded-lg hover:bg-slate-50 transition-all duration-200 svelte-1xzueer"><div class="relative svelte-1xzueer"><input type="checkbox" class="sr-only svelte-1xzueer"/> <div><!></div></div> <span class="text-sm text-slate-700 font-medium group-hover:text-slate-900 transition-colors svelte-1xzueer">💬 消息</span></label></div></div> <div class="mb-6 svelte-1xzueer"><div class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2 svelte-1xzueer"><span class="w-1 h-4 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full svelte-1xzueer"></span> 时间筛选</div> <label class="block mb-2 svelte-1xzueer"><span class="block text-sm font-medium text-slate-700 mb-2 flex items-center gap-1 svelte-1xzueer"><svg class="w-4 h-4 text-slate-500 svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg> 预设时间</span> <div class="relative svelte-1xzueer"><select class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 appearance-none cursor-pointer hover:border-slate-300 hover:shadow-sm text-sm font-medium text-slate-700 svelte-1xzueer"><option class="svelte-1xzueer">🌐 不限</option><option class="svelte-1xzueer">⚡ 最近1小时</option><option class="svelte-1xzueer">📅 最近24小时</option><option class="svelte-1xzueer">📊 最近7天</option><option class="svelte-1xzueer">📈 最近30天</option><option class="svelte-1xzueer">⚙️ 自定义</option></select> <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none svelte-1xzueer"><svg class="w-5 h-5 text-slate-400 svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg></div></div></label> <!></div> <div class="flex gap-3 mt-6 svelte-1xzueer"><button class="flex-1 px-4 py-3 text-sm font-semibold text-slate-600 bg-gradient-to-r from-slate-100 to-slate-200 rounded-xl hover:from-slate-200 hover:to-slate-300 transition-all duration-200 shadow-sm hover:shadow-md flex items-center justify-center gap-2 svelte-1xzueer"><svg class="w-4 h-4 svelte-1xzueer" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd" class="svelte-1xzueer"></path></svg> 重置</button> <button class="flex-1 px-4 py-3 text-sm font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-2 svelte-1xzueer"><!></button></div></div></aside> <main class="flex-1 min-w-0 svelte-1xzueer"><!> <section class="svelte-1xzueer"><div class="flex flex-wrap sm:flex-nowrap justify-between items-center gap-4 mb-6 bg-white rounded-2xl shadow-lg p-4 svelte-1xzueer"><div class="flex items-center gap-4 flex-shrink-0 svelte-1xzueer"><span class="text-slate-700 svelte-1xzueer">共 <strong class="text-slate-900 svelte-1xzueer"> </strong> 条结果</span> <!></div> <div class="flex items-center gap-3 overflow-x-auto w-full sm:w-auto justify-end svelte-1xzueer"><button class="flex-shrink-0 px-4 py-2 text-sm font-medium text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors svelte-1xzueer">上一页</button> <span class="flex-shrink-0 text-sm text-slate-600 px-3 svelte-1xzueer"> </span> <button class="flex-shrink-0 px-4 py-2 text-sm font-medium text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors svelte-1xzueer">下一页</button></div></div> <div class="space-y-4 results-container svelte-1xzueer"><!> <!></div></section></main></div></div> <!> <!>',1);function Ue(x,m){z(m,!1);let g=T(""),h=T([]),f=T([]),w=T([]),y=T([]),j=T(!1),H=T(!1),R=T(!1),Q=T(0),ee=T(!1),re=T(!1),le=T(!1),se=T(!1),ae=T(!1),ne=T(null),ie=T(1),ue=T(10),de=T(0),ce=T("relevance"),ve=T({types:{group:!0,channel:!0,bot:!0,message:!0},timePreset:"any",timeOrder:"desc",customStart:"",customEnd:"",sourceGroup:"",sourceChannel:"",sourceUser:"",language:"",minLength:"",minInteractions:"",minRelevance:""});function pe(){return Math.ceil(B(de)/B(ue))}async function be(){if(!B(g).trim())return V(h,[]),void V(de,0);V(j,!0);const e=Date.now();try{const r={q:B(g).trim(),page:B(ie),size:B(ue),sort:B(ce),...B(ve)};try{const e=await Y("/api/search",{method:"POST",body:JSON.stringify(r)});V(h,e.results||[]),V(de,e.total||0)}catch(t){const e=function(e,t,r){const l=[],s=(t-1)*r,o=s+r;for(let a=s;a<o&&a<100;a++)l.push({id:a+1,title:`关于“${e}”的模拟结果 ${a+1}`,content:`这是关于“${e}”的第 ${a+1} 条模拟搜索结果的详细内容。此内容由模拟数据生成器提供，用于在API不可用时提供前端页面测试和展示。`,source:"模拟来源 "+(a%5+1),type:["group","channel","private","media","link"][a%5],timestamp:new Date(Date.now()-1e9*Math.random()).toISOString(),relevance:Math.random(),interactions:Math.floor(1e3*Math.random())});return{results:l,total:100}}(B(g).trim(),B(ie),B(ue));V(h,e.results),V(de,e.total)}V(Q,Date.now()-e),function(e){if(!e)return;let t=[];try{t=JSON.parse(localStorage.getItem("searchHistories")||"[]")}catch(r){t=[]}t=t.filter(t=>t!==e),t.unshift(e),t=t.slice(0,10),localStorage.setItem("searchHistories",JSON.stringify(t)),V(y,t)}(B(g).trim())}catch(r){V(h,[]),V(de,0)}finally{V(j,!1)}}const xe=function(e,t){let r;return function(...l){clearTimeout(r),r=setTimeout(()=>{clearTimeout(r),e(...l)},t)}}(async e=>{if(!e.trim()||e.length<2)V(f,[]);else{V(H,!0);try{try{const t=await Y(`/api/suggestions?q=${encodeURIComponent(e)}`);V(f,t.suggestions||[])}catch(t){V(f,function(e){return["Vue.js开发技巧","React组件设计","JavaScript异步编程","CSS布局方案","Node.js后端开发","TypeScript类型系统","Webpack配置优化","Git版本控制","Docker容器化","API接口设计"].filter(t=>t.toLowerCase().includes(e.toLowerCase())).slice(0,5)}(e))}}catch(r){V(f,[])}finally{V(H,!1)}}});function me(e){V(g,e),V(f,[]),V(ee,!1),V(ie,1),be()}function ge(e){e<1||e>pe()||(V(ie,e),be())}function Ue(e){V(ne,function(e){const t="channel"===e.type,r=Math.floor(2e3*Math.random())+500,l=Math.floor(r*(.3+.4*Math.random()));return{id:e.id,name:e.source,type:e.type,description:t?"专业的Telegram机器人开发交流群组，汇聚全球开发者":"专业的Telegram机器人开发交流频道，汇聚全球开发者",username:"@developers_chat",createdAt:"2023-05-15",stats:{totalMembers:r,onlineMembers:Math.floor(.4*l),messages24h:Math.floor(500*Math.random())+100,avgDaily:Math.floor(10*Math.random())+3,activityRate:Math.floor(l/r*100),groupScore:(2*Math.random()+3).toFixed(1)},topUsers:[{username:"@developer_alice",messages:45,activity:92},{username:"@bot_master",messages:38,activity:87},{username:"@api_expert",messages:32,activity:81},{username:"@code_ninja",messages:28,activity:76},{username:"@tech_guru",messages:24,activity:72}],hourlyActivity:Array.from({length:24},(e,t)=>{const r=.5*Math.sin((t-6)*Math.PI/12)+.5,l=.3*Math.random();return Math.max(.1,Math.min(1,r+l))}),lastUpdate:(new Date).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}}(e)),V(se,!0)}function Ge(){localStorage.removeItem("searchHistories"),V(y,[])}E(()=>{!function(){try{V(y,JSON.parse(localStorage.getItem("searchHistories")||"[]"))}catch(e){V(y,[])}}(),async function(){V(R,!0);try{try{const e=await Y("/api/trending");V(w,e.data?.trending||[])}catch(e){V(w,oe())}}catch(t){V(w,oe())}finally{V(R,!1)}}()}),e();var Je=Ne(),qe=_(Je),Fe=S(qe),We=$(S(Fe),6),Ke=S(We),Xe=$(S(Ke),2);q(Xe),P(2),L(Ke);var Ye=$(Ke,2),Ze=S(Ye),Qe=S(Ze),et=e=>{var t=O("搜索中...");M(e,t)},tt=e=>{var t=O("搜索");M(e,t)};U(Qe,e=>{B(j)?e(et):e(tt,!1)}),L(Ze),L(Ye);var rt=$(Ye,2),lt=$(rt,2),st=S(lt),ot=$(S(st));L(st),L(lt),L(We);var at=$(We,2),nt=e=>{var r=ze(),l=S(r),s=S(l),o=e=>{var t=fe();M(e,t)};U(s,e=>{B(H)&&e(o)});var a=$(s,2);G(a,1,()=>B(f),J,(e,r)=>{var l=we(),s=S(l),o=$(S(s));L(s),L(l),t(()=>D(o,` ${B(r)??""}`)),I("click",l,()=>me(B(r))),M(e,l)}),L(l),L(r),M(e,r)};U(at,e=>{B(ee)&&(B(f).length>0||B(H))&&e(nt)});var it=$(at,2),ut=S(it),dt=$(S(ut),2),ct=e=>{var t=ye();M(e,t)},vt=e=>{var r=_e(),l=_(r);G(l,1,()=>B(y),J,(e,r)=>{var l=ke(),s=S(l),o=S(s,!0);L(s),P(2),L(l),t(()=>D(o,B(r))),I("click",l,()=>me(B(r))),M(e,l)});var s=$(l,2);I("click",s,Ge),M(e,r)};U(dt,e=>{0===B(y).length?e(ct):e(vt,!1)}),L(ut);var pt=$(ut,2),bt=$(S(pt),2),xt=e=>{var t=Me();M(e,t)},mt=e=>{var r=k(),l=_(r),s=e=>{var t=Ce();M(e,t)},o=e=>{var r=k(),l=_(r);G(l,1,()=>B(w).slice(0,8),J,(e,r)=>{var l=je(),s=S(l),o=S(s,!0);L(s);var a=$(s,2),n=S(a,!0);L(a);var i=$(a,2),u=S(i);L(i),P(2),L(l),t((e,t)=>{W(l,1,"group relative inline-flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-300 backdrop-blur-md border focus:outline-none focus:ring-2 focus:ring-white/50 "+("hot"===B(r).trend?"bg-gradient-to-r from-red-500/80 to-pink-500/80 text-white border-red-400/50 shadow-lg shadow-red-500/30 hover:from-red-400 hover:to-pink-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-red-500/40 hover:scale-105":"up"===B(r).trend?"bg-gradient-to-r from-emerald-500/80 to-green-500/80 text-white border-emerald-400/50 shadow-lg shadow-emerald-500/30 hover:from-emerald-400 hover:to-green-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-emerald-500/40 hover:scale-105":"down"===B(r).trend?"bg-gradient-to-r from-slate-500/80 to-gray-500/80 text-white border-slate-400/50 shadow-lg shadow-slate-500/30 hover:from-slate-400 hover:to-gray-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-slate-500/40 hover:scale-105":"bg-gradient-to-r from-blue-500/80 to-purple-500/80 text-white border-blue-400/50 shadow-lg shadow-blue-500/30 hover:from-blue-400 hover:to-purple-400 hover:-translate-y-1 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-105"),"svelte-1xzueer"),F(l,"title",e),D(o,t),D(n,B(r).keyword),D(u,`(${B(r).count??""})`)},[()=>{return`排名: #${B(r).rank} | 搜索次数: ${B(r).count} | 分类: ${t=B(r).category,{technology:"技术",blockchain:"区块链",ai:"人工智能",mobile:"移动开发",devops:"运维开发"}[t]||"其他"} | 趋势: ${e=B(r).trend,{up:"上升",down:"下降",hot:"热门",stable:"稳定"}[e]||"未知"}`;var e,t},()=>({up:"📈",down:"📉",hot:"🔥",stable:"➡️"}[B(r).trend]||"❓")]),I("click",l,()=>me(B(r).keyword)),M(e,l)}),M(e,r)};U(l,e=>{0===B(w).length?e(s):e(o,!1)},!0),M(e,r)};U(bt,e=>{B(R)?e(xt):e(mt,!1)}),L(pt),L(it),L(Fe);var gt=$(Fe,2),ht=S(gt),ft=$(S(ht),2),wt=S(ft);L(ft),L(ht),L(gt);var zt=$(gt,2),yt=S(zt),kt=S(yt),_t=$(S(kt),2),Mt=$(S(_t),2),Ct=S(Mt),jt=S(Ct),St=S(jt);q(St);var $t=$(St,2),Lt=S($t),Bt=e=>{var t=Se();M(e,t)};U(Lt,e=>{B(ve).types.group&&e(Bt)}),L($t),L(jt),P(2),L(Ct);var Tt=$(Ct,2),It=S(Tt),Vt=S(It);q(Vt);var Ht=$(Vt,2),At=S(Ht),Dt=e=>{var t=$e();M(e,t)};U(At,e=>{B(ve).types.channel&&e(Dt)}),L(Ht),L(It),P(2),L(Tt);var Rt=$(Tt,2),Ot=S(Rt),Pt=S(Ot);q(Pt);var Et=$(Pt,2),Nt=S(Et),Ut=e=>{var t=Le();M(e,t)};U(Nt,e=>{B(ve).types.bot&&e(Ut)}),L(Et),L(Ot),P(2),L(Rt);var Gt=$(Rt,2),Jt=S(Gt),qt=S(Jt);q(qt);var Ft=$(qt,2),Wt=S(Ft),Kt=e=>{var t=Be();M(e,t)};U(Wt,e=>{B(ve).types.message&&e(Kt)}),L(Ft),L(Jt),P(2),L(Gt),L(Mt),L(_t);var Xt=$(_t,2),Yt=$(S(Xt),2),Zt=$(S(Yt),2),Qt=S(Zt);t(()=>{B(ve),A(()=>{})});var er=S(Qt);er.value=er.__value="any";var tr=$(er);tr.value=tr.__value="1h";var rr=$(tr);rr.value=rr.__value="24h";var lr=$(rr);lr.value=lr.__value="7d";var sr=$(lr);sr.value=sr.__value="30d";var or=$(sr);or.value=or.__value="custom",L(Qt),P(2),L(Zt),L(Yt);var ar=$(Yt,2),nr=e=>{var t=Te(),r=$(S(t),2),l=S(r),s=$(S(l),2);q(s),L(l);var o=$(l,2),a=$(S(o),2);q(a),L(o),L(r),L(t),K(s,()=>B(ve).customStart,e=>N(ve,B(ve).customStart=e)),K(a,()=>B(ve).customEnd,e=>N(ve,B(ve).customEnd=e)),M(e,t)};U(ar,e=>{"custom"===B(ve).timePreset&&e(nr)}),L(Xt);var ir=$(Xt,2),ur=S(ir),dr=$(ur,2),cr=S(dr),vr=e=>{var t=Ie();P(),M(e,t)},pr=e=>{var t=Ve();P(),M(e,t)};U(cr,e=>{B(j)?e(vr):e(pr,!1)}),L(dr),L(ir),L(kt),L(yt);var br=$(yt,2),xr=S(br),mr=e=>{var r=He(),l=S(r),s=S(l),o=$(S(s),2),a=S(o),n=$(S(a),2);q(n),L(a);var i=$(a,2),u=$(S(i),2);q(u),L(i);var d=$(i,2),c=$(S(d),2);q(c),L(d);var v=$(d,2),p=$(S(v),2);q(p),L(v),L(o),L(s);var b=$(s,2),x=$(S(b),2),m=S(x),g=$(S(m),2);q(g),L(m);var h=$(m,2),f=$(S(h),2);q(f),L(h);var w=$(h,2),z=$(S(w),2);q(z),L(w),L(x),L(b);var y=$(b,2),k=$(S(y),2),_=S(k),C=$(S(_),2);t(()=>{B(ce),A(()=>{})});var j=S(C);j.value=j.__value="relevance";var T=$(j);T.value=T.__value="time";var I=$(T);I.value=I.__value="heat",L(C),L(_);var H=$(_,2),D=$(S(H),2);t(()=>{B(ue),A(()=>{})});var R=S(D);R.value=R.__value="10";var O=$(R);O.value=O.__value="20";var P=$(O);P.value=P.__value="50",L(D),L(H),L(k),L(y),L(l),L(r),K(n,()=>B(ve).sourceGroup,e=>N(ve,B(ve).sourceGroup=e)),K(u,()=>B(ve).sourceChannel,e=>N(ve,B(ve).sourceChannel=e)),K(c,()=>B(ve).sourceUser,e=>N(ve,B(ve).sourceUser=e)),K(p,()=>B(ve).language,e=>N(ve,B(ve).language=e)),K(g,()=>B(ve).minLength,e=>N(ve,B(ve).minLength=e)),K(f,()=>B(ve).minInteractions,e=>N(ve,B(ve).minInteractions=e)),K(z,()=>B(ve).minRelevance,e=>N(ve,B(ve).minRelevance=e)),te(C,()=>B(ce),e=>V(ce,e)),te(D,()=>B(ue),e=>V(ue,e)),M(e,r)};U(xr,e=>{B(re)&&e(mr)});var gr=$(xr,2),hr=S(gr),fr=S(hr),wr=S(fr),zr=$(S(wr)),yr=S(zr,!0);L(zr),P(),L(wr);var kr=$(wr,2),_r=e=>{var r=Ae(),l=S(r);L(r),t(()=>D(l,`耗时 ${B(Q)??""}ms`)),M(e,r)};U(kr,e=>{B(Q)>0&&e(_r)}),L(fr);var Mr=$(fr,2),Cr=S(Mr),jr=$(Cr,2),Sr=S(jr);L(jr);var $r=$(jr,2);L(Mr),L(hr);var Lr=$(hr,2),Br=S(Lr),Tr=e=>{var t=De();M(e,t)};U(Br,e=>{0!==B(h).length||B(j)||e(Tr)});var Ir=$(Br,2);G(Ir,1,()=>B(h),J,(e,x)=>{var m=Ee(),h=S(m),f=S(h),w=S(f,!0);L(f);var z=$(f,2),y=S(z);L(z);var k=$(z,2),_=S(k);L(k);var C=$(k,2),j=e=>{var r=Re(),l=S(r);L(r),t(()=>D(l,`相关性：${B(x).relevance??""}`)),M(e,r)};U(C,e=>{null!=B(x).relevance&&e(j)}),L(h);var T=$(h,2);!function(e,x,m=!1,g=!1){var h=e,f="";t(()=>{var e=s;if(f!==(f=x()??"")){if(null!==e.nodes_start&&(o(e.nodes_start,e.nodes_end),e.nodes_start=e.nodes_end=null),""!==f){if(r){a.data;for(var t=l(),w=t;null!==t&&(t.nodeType!==n||""!==t.data);)w=t,t=i(t);if(null===t)throw u(),d;return c(a,w),void(h=v(t))}var z=f+"";m?z=`<svg>${z}</svg>`:g&&(z=`<math>${z}</math>`);var y=p(z);if((m||g)&&(y=b(y)),c(b(y),y.lastChild),m||g)for(;b(y);)h.before(b(y));else h.before(y)}}else r&&l()})}(S(T),()=>function(e,t){if(!t.trim())return e;const r=t.trim().split(/\s+/);let l=e;return r.forEach(e=>{const t=new RegExp(`(${e})`,"gi");l=l.replace(t,"<mark>$1</mark>")}),l}(B(x).content,B(g))),L(T);var V=$(T,2),H=S(V),A=e=>{var t=Oe();I("click",t,()=>Ue(B(x))),M(e,t)},R=e=>{var t=Pe();M(e,t)};U(H,e=>{"group"===B(x).type||"channel"===B(x).type?e(A):e(R,!1)}),P(6),L(V),L(m),t(e=>{W(f,1,"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium "+("group"===B(x).type?"bg-blue-100 text-blue-800":"channel"===B(x).type?"bg-green-100 text-green-800":"bot"===B(x).type?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),"svelte-1xzueer"),D(w,B(x).type),D(y,`来源：${B(x).source??""}`),D(_,`时间：${e??""}`)},[()=>new Date(B(x).timestamp).toLocaleString()]),M(e,m)}),L(Lr),L(gr),L(br),L(zt),L(qe);var Vr=$(qe,2);Z(Vr,{get show(){return B(se)},get groupData(){return B(ne)},$$events:{close:function(){V(se,!1),V(ne,null)}}}),he($(Vr,2),{get show(){return B(ae)},set show(e){V(ae,e)},$$events:{close:()=>V(ae,!1)},$$legacy:!0}),t((e,t)=>{Ye.disabled=B(j),W(lt,1,`relative bg-white/60 text-slate-700 border-2 border-blue-200/50 px-6 py-4 rounded-full cursor-pointer transition-all duration-300 backdrop-blur-md hover:bg-white/80 hover:border-blue-300/70 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-400/50 ${0===B(g).length?"hidden":"flex"} md:flex`,"svelte-1xzueer"),W(ot,1,"transition-transform duration-300 "+(B(re)?"rotate-180":""),"svelte-1xzueer"),W(it,1,(0===B(g).length?"hidden":"flex")+" md:flex flex-col gap-6 mt-8 relative z-10","svelte-1xzueer"),D(wt,"筛选器 "+(B(le)?"▲":"▼")),W(yt,1,"w-full md:w-64 flex-shrink-0 "+(B(le)?"block":"hidden md:block"),"svelte-1xzueer"),W($t,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-blue-400 "+(B(ve).types.group?"bg-gradient-to-br from-blue-500 to-blue-600 border-blue-500":"bg-white"),"svelte-1xzueer"),W(Ht,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-green-400 "+(B(ve).types.channel?"bg-gradient-to-br from-green-500 to-green-600 border-green-500":"bg-white"),"svelte-1xzueer"),W(Et,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-purple-400 "+(B(ve).types.bot?"bg-gradient-to-br from-purple-500 to-purple-600 border-purple-500":"bg-white"),"svelte-1xzueer"),W(Ft,1,"w-5 h-5 border-2 border-slate-300 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-orange-400 "+(B(ve).types.message?"bg-gradient-to-br from-orange-500 to-orange-600 border-orange-500":"bg-white"),"svelte-1xzueer"),dr.disabled=B(j),D(yr,B(de)),Cr.disabled=B(j)||B(ie)<=1,D(Sr,`第 ${B(ie)??""} / ${e??""} 页`),$r.disabled=t},[pe,()=>B(j)||B(ie)>=pe()]),K(Xe,()=>B(g),e=>V(g,e)),I("input",Xe,function(e){const t=e.target;V(g,t.value),xe(B(g))}),I("focus",Xe,()=>V(ee,!0)),I("blur",Xe,()=>setTimeout(()=>V(ee,!1),150)),I("keydown",Xe,e=>"Enter"===e.key&&(V(ie,1),be())),I("click",Ye,()=>(V(ie,1),be())),I("click",rt,()=>V(ae,!0)),I("click",lt,function(){V(re,!B(re))}),I("click",ht,function(){V(le,!B(le))}),X(St,()=>B(ve).types.group,e=>N(ve,B(ve).types.group=e)),X(Vt,()=>B(ve).types.channel,e=>N(ve,B(ve).types.channel=e)),X(Pt,()=>B(ve).types.bot,e=>N(ve,B(ve).types.bot=e)),X(qt,()=>B(ve).types.message,e=>N(ve,B(ve).types.message=e)),te(Qt,()=>B(ve).timePreset,e=>N(ve,B(ve).timePreset=e)),I("click",ur,function(){V(ve,{types:{group:!0,channel:!0,private:!0,media:!0,link:!0},timePreset:"any",timeOrder:"desc",customStart:"",customEnd:"",sourceGroup:"",sourceChannel:"",sourceUser:"",language:"",minLength:"",minInteractions:"",minRelevance:""})}),I("click",dr,()=>(V(ie,1),be())),I("click",Cr,()=>ge(B(ie)-1)),I("click",$r,()=>ge(B(ie)+1)),M(x,Je),C()}export{Ue as component};
