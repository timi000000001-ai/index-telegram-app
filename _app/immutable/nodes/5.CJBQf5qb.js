import"../chunks/Cm9PB-7n.js";import{i as e}from"../chunks/UPm8MDrV.js";import{m as s,o as t,av as a,aw as r,n as l,q as o,t as n,r as i,v as c,w as d,a as v,z as m,$ as p,x as g,y as u,s as h,B as b,E as x,F as f,C as w,A as y,u as k,ay as M,az as j}from"../chunks/BMo_h-0Q.js";import{i as $}from"../chunks/D3LQsWLD.js";import{e as C,i as z}from"../chunks/BZmRe07y.js";import{s as H}from"../chunks/BHOfSWeL.js";import{s as B}from"../chunks/DiERQbFJ.js";var S=l('<meta name="description" content="查看Telegram群组和频道的每日动态统计，包括人数排名、活跃度等信息"/>'),A=l('<div class="flex items-center justify-center py-12"><div class="flex items-center gap-3 text-slate-500"><svg class="w-6 h-6 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span>加载中...</span></div></div>'),T=l('<div class="flex flex-col items-center justify-center py-12"><svg class="w-12 h-12 text-red-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-slate-600 mb-4"> </p> <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">重新加载</button></div>'),U=l('<div class="flex items-center gap-4 p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors"><div class="flex-shrink-0 w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-sm"></div> <img class="w-12 h-12 rounded-full"/> <div class="flex-1"><div class="flex items-center gap-2 mb-1"><h3 class="font-semibold text-slate-800"> </h3> <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full"> </span> <span class="px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full"> </span></div> <div class="flex items-center gap-4 text-sm text-slate-600"><span>总成员: <strong class="text-slate-800"> </strong></span> <span>新增: <strong class="text-green-600"> </strong></span> <span>24h消息: <strong class="text-blue-600"> </strong></span> <span>活跃用户: <strong class="text-purple-600"> </strong></span></div></div> <div class="flex-shrink-0 text-right"><div class="text-lg font-bold text-amber-600"> </div> <div class="text-xs text-slate-500">当日评分</div></div></div>'),V=l('<div class="p-6"><div class="grid gap-4"></div></div>'),F=l('<div class="flex items-center gap-4 p-4 hover:bg-slate-50 transition-colors"><img class="w-10 h-10 rounded-full"/> <div class="flex-1"><div class="flex items-center gap-2 mb-1"><h4 class="font-medium text-slate-800"> </h4> <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full"> </span></div> <div class="flex items-center gap-3 text-sm text-slate-600"><span> </span> <span class="text-green-600"> </span> <span class="text-amber-600"> </span></div></div></div>'),L=l('<div class="border border-slate-200 rounded-lg overflow-hidden"><div class="bg-slate-100 px-4 py-3 border-b border-slate-200"><h3 class="font-semibold text-slate-800 flex items-center gap-2"><span class="w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"></span> </h3></div> <div class="divide-y divide-slate-200"></div></div>'),N=l('<div class="p-6"><div class="grid gap-6"></div></div>'),q=l('<div class="max-w-7xl mx-auto"><div class="mb-8"><h1 class="text-3xl font-bold text-slate-800 mb-2">每日动态</h1> <p class="text-slate-600">实时统计群组、频道的动态信息和活跃度排名</p></div> <div class="bg-white rounded-lg shadow-sm border border-slate-200 mb-6"><div class="flex border-b border-slate-200"><button><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg> 人数排名</button> <button><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14-4H5m14 8H5m14 4H5"></path></svg> 分类统计</button></div></div> <div class="bg-white rounded-lg shadow-sm border border-slate-200"><!></div></div>');function E(l,E){s(E,!1);const I=m();let O=m("ranking"),P=m([]),R=m(!0),D=m("");async function G(){try{h(R,!0),h(D,"");const e=await new Promise(e=>{setTimeout(()=>{e({success:!0,data:J()})},1e3)});e.success?h(P,e.data):h(D,"获取数据失败")}catch(e){h(D,"网络错误，请稍后重试")}finally{h(R,!1)}}function J(){const e=["群组","频道"],s=["科技","娱乐","新闻","教育","游戏","生活"];return Array.from({length:20},(t,a)=>({id:a+1,name:`${e[a%2]}${a+1}`,type:e[a%2],category:s[a%s.length],totalMembers:Math.floor(5e4*Math.random())+1e3,newMembers:Math.floor(500*Math.random())+10,messages24h:Math.floor(1e3*Math.random())+50,activeUsers:Math.floor(200*Math.random())+20,dailyScore:(10*Math.random()).toFixed(1),avatar:`https://api.dicebear.com/7.x/initials/svg?seed=${encodeURIComponent("群组"+(a+1))}`})).sort((e,s)=>Number(s.totalMembers)-Number(e.totalMembers))}function K(e){h(O,e)}t(()=>{G()}),a(()=>v(P),()=>{h(I,v(P).reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{}))}),r(),e();var Q=q();o(e=>{var s=S();p.title="每日动态 - Telegram搜索平台",c(e,s)});var W=g(u(Q),2),X=u(W),Y=u(X),Z=g(Y,2);b(X),b(W);var _=g(W,2),ee=u(_),se=e=>{var s=A();c(e,s)},te=e=>{var s=x(),t=f(s),a=e=>{var s=T(),t=g(u(s),2),a=u(t,!0);b(t);var r=g(t,2);b(s),n(()=>w(a,v(D))),i("click",r,G),c(e,s)},r=e=>{var s=x(),t=f(s),a=e=>{var s=V(),t=u(s);C(t,5,()=>v(P),z,(e,s,t)=>{var a=U(),r=u(a);r.textContent=t+1;var l=g(r,2),o=g(l,2),i=u(o),d=u(i),m=u(d,!0);b(d);var p=g(d,2),h=u(p,!0);b(p);var x=g(p,2),f=u(x,!0);b(x),b(i);var M=g(i,2),j=u(M),$=g(u(j)),C=u($,!0);b($),b(j);var z=g(j,2),B=g(u(z)),S=u(B);b(B),b(z);var A=g(z,2),T=g(u(A)),V=u(T,!0);b(T),b(A);var F=g(A,2),L=g(u(F)),N=u(L,!0);b(L),b(F),b(M),b(o);var q=g(o,2),E=u(q),I=u(E,!0);b(E),y(2),b(q),b(a),n(e=>{H(l,"src",(v(s),k(()=>v(s).avatar))),H(l,"alt",(v(s),k(()=>v(s).name))),w(m,(v(s),k(()=>v(s).name))),w(h,(v(s),k(()=>v(s).type))),w(f,(v(s),k(()=>v(s).category))),w(C,e),w(S,`+${v(s),k(()=>v(s).newMembers)??""}`),w(V,(v(s),k(()=>v(s).messages24h))),w(N,(v(s),k(()=>v(s).activeUsers))),w(I,(v(s),k(()=>v(s).dailyScore)))},[()=>(v(s),k(()=>v(s).totalMembers.toLocaleString()))]),c(e,a)}),b(t),b(s),c(e,s)},r=e=>{var s=N(),t=u(s);C(t,5,()=>(v(I),k(()=>Object.entries(v(I)))),z,(e,s)=>{var t=M(()=>j(v(s),2));let a=()=>v(t)[1];var r=L(),l=u(r),o=u(l),i=g(u(o));b(o),b(l);var d=g(l,2);C(d,5,a,z,(e,s)=>{var t=F(),a=u(t),r=g(a,2),l=u(r),o=u(l),i=u(o,!0);b(o);var d=g(o,2),m=u(d,!0);b(d),b(l);var p=g(l,2),h=u(p),x=u(h);b(h);var f=g(h,2),y=u(f);b(f);var M=g(f,2),j=u(M);b(M),b(p),b(r),b(t),n(e=>{H(a,"src",(v(s),k(()=>v(s).avatar))),H(a,"alt",(v(s),k(()=>v(s).name))),w(i,(v(s),k(()=>v(s).name))),w(m,(v(s),k(()=>v(s).type))),w(x,`${e??""} 成员`),w(y,`+${v(s),k(()=>v(s).newMembers)??""} 新增`),w(j,`评分 ${v(s),k(()=>v(s).dailyScore)??""}`)},[()=>(v(s),k(()=>v(s).totalMembers.toLocaleString()))]),c(e,t)}),b(d),b(r),n(()=>w(i,` ${v(t)[0]??""} (${a(),k(()=>a().length)??""})`)),c(e,r)}),b(t),b(s),c(e,s)};$(t,e=>{"ranking"===v(O)?e(a):e(r,!1)}),c(e,s)};$(t,e=>{v(D)?e(a):e(r,!1)},!0),c(e,s)};$(ee,e=>{v(R)?e(se):e(te,!1)}),b(_),b(Q),n(()=>{B(Y,1,"tab-button "+("ranking"===v(O)?"tab-active":""),"svelte-9iw96m"),B(Z,1,"tab-button "+("category"===v(O)?"tab-active":""),"svelte-9iw96m")}),i("click",Y,()=>K("ranking")),i("click",Z,()=>K("category")),c(l,Q),d()}export{E as component};
