import"../chunks/Cm9PB-7n.js";import{i as e}from"../chunks/B4uayAjW.js";import{p as s,o as a,as as t,at as r,f as l,h as o,t as n,e as i,a as d,b as c,g as m,m as v,$ as p,s as x,c as g,d as b,r as h,j as u,k as f,i as w,n as y,u as k,av as M,aw as j}from"../chunks/xBOr3W9n.js";import{i as $}from"../chunks/Bh45ghMz.js";import{e as C,i as H}from"../chunks/C4k8IS-J.js";import{s as z,a as S}from"../chunks/CyQ_zrDl.js";var B=l('<meta name="description" content="查看Telegram群组和频道的每日动态统计，包括人数排名、活跃度等信息"/>'),T=l('<div class="flex items-center justify-center py-12"><div class="flex items-center gap-3 text-slate-500"><svg class="w-6 h-6 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span>加载中...</span></div></div>'),U=l('<div class="flex flex-col items-center justify-center py-12"><svg class="w-12 h-12 text-red-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-slate-600 mb-4"> </p> <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">重新加载</button></div>'),V=l('<div class="flex flex-col md:flex-row items-start md:items-center gap-3 md:gap-4 p-3 md:p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors"><img class="w-12 h-12 rounded-full"/> <div class="flex-1"><div class="flex flex-wrap items-center gap-2 mb-1 text-sm md:text-base"><h3 class="font-semibold text-slate-800"> </h3> <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full"> </span> <span class="px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full"> </span></div> <div class="flex flex-col md:flex-row flex-wrap items-start md:items-center gap-2 md:gap-4 text-xs md:text-sm text-slate-600"><span>总成员: <strong class="text-slate-800"> </strong></span> <span>新增: <strong class="text-green-600"> </strong></span> <span>24h消息: <strong class="text-blue-600"> </strong></span> <span>活跃用户: <strong class="text-purple-600"> </strong></span></div></div> <div class="flex-shrink-0 flex items-center gap-2 text-right"><div class="text-lg font-bold text-amber-600"> </div> <div class="text-xs text-slate-500">当日评分</div></div></div>'),A=l('<div class="p-6"><div class="grid gap-4"></div></div>'),L=l('<div class="flex flex-col md:flex-row items-start md:items-center gap-3 md:gap-4 p-3 md:p-4 hover:bg-slate-50 transition-colors"><img class="w-10 h-10 rounded-full"/> <div class="flex-1"><div class="flex flex-wrap items-center gap-2 mb-1 text-sm md:text-base"><h4 class="font-medium text-slate-800"> </h4> <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full"> </span></div> <div class="flex flex-col md:flex-row flex-wrap items-start md:items-center gap-2 md:gap-3 text-xs md:text-sm text-slate-600"><span> </span> <span class="text-green-600"> </span> <span class="text-amber-600"> </span></div></div></div>'),N=l('<div class="border border-slate-200 rounded-lg overflow-hidden"><div class="bg-slate-100 px-4 py-3 border-b border-slate-200"><h3 class="font-semibold text-slate-800 flex items-center gap-2"><span class="w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"></span> </h3></div> <div class="divide-y divide-slate-200"></div></div>'),F=l('<div class="p-6"><div class="grid gap-6"></div></div>'),I=l('<div class="max-w-7xl mx-auto"><div class="mb-8"><h1 class="text-3xl font-bold text-slate-800 mb-2">每日动态</h1> <p class="text-slate-600">实时统计群组、频道的动态信息和活跃度排名</p></div> <div class="bg-white rounded-lg shadow-sm border border-slate-200 mb-6"><div class="flex border-b border-slate-200"><button><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg> 人数排名</button> <button><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14-4H5m14 8H5m14 4H5"></path></svg> 分类统计</button></div></div> <div class="bg-white rounded-lg shadow-sm border border-slate-200"><!></div></div>');function O(l,O){s(O,!1);const P=v();let R=v("ranking"),q=v([]),D=v(!0),E=v("");async function G(){try{b(D,!0),b(E,"");const e=await new Promise(e=>{setTimeout(()=>{e({success:!0,data:J()})},1e3)});e.success?b(q,e.data):b(E,"获取数据失败")}catch(e){b(E,"网络错误，请稍后重试")}finally{b(D,!1)}}function J(){const e=["群组","频道"],s=["科技","娱乐","新闻","教育","游戏","生活"];return Array.from({length:20},(a,t)=>({id:t+1,name:`${e[t%2]}${t+1}`,type:e[t%2],category:s[t%s.length],totalMembers:Math.floor(5e4*Math.random())+1e3,newMembers:Math.floor(500*Math.random())+10,messages24h:Math.floor(1e3*Math.random())+50,activeUsers:Math.floor(200*Math.random())+20,dailyScore:(10*Math.random()).toFixed(1),avatar:`https://api.dicebear.com/7.x/initials/svg?seed=${encodeURIComponent("群组"+(t+1))}`})).sort((e,s)=>Number(s.totalMembers)-Number(e.totalMembers))}function K(e){b(R,e)}a(()=>{G()}),t(()=>m(q),()=>{b(P,m(q).reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{}))}),r(),e();var Q=I();o(e=>{var s=B();p.title="每日动态 - Telegram搜索平台",d(e,s)});var W=x(g(Q),2),X=g(W),Y=g(X),Z=x(Y,2);h(X),h(W);var _=x(W,2),ee=g(_),se=e=>{var s=T();d(e,s)},ae=e=>{var s=u(),a=f(s),t=e=>{var s=U(),a=x(g(s),2),t=g(a,!0);h(a);var r=x(a,2);h(s),n(()=>w(t,m(E))),i("click",r,G),d(e,s)},r=e=>{var s=u(),a=f(s),t=e=>{var s=A(),a=g(s);C(a,5,()=>m(q),H,(e,s)=>{var a=V(),t=g(a),r=x(t,2),l=g(r),o=g(l),i=g(o,!0);h(o);var c=x(o,2),v=g(c,!0);h(c);var p=x(c,2),b=g(p,!0);h(p),h(l);var u=x(l,2),f=g(u),M=x(g(f)),j=g(M,!0);h(M),h(f);var $=x(f,2),C=x(g($)),H=g(C);h(C),h($);var z=x($,2),B=x(g(z)),T=g(B,!0);h(B),h(z);var U=x(z,2),A=x(g(U)),L=g(A,!0);h(A),h(U),h(u),h(r);var N=x(r,2),F=g(N),I=g(F,!0);h(F),y(2),h(N),h(a),n(e=>{S(t,"src",(m(s),k(()=>m(s).avatar))),S(t,"alt",(m(s),k(()=>m(s).name))),w(i,(m(s),k(()=>m(s).name))),w(v,(m(s),k(()=>m(s).type))),w(b,(m(s),k(()=>m(s).category))),w(j,e),w(H,`+${m(s),k(()=>m(s).newMembers)??""}`),w(T,(m(s),k(()=>m(s).messages24h))),w(L,(m(s),k(()=>m(s).activeUsers))),w(I,(m(s),k(()=>m(s).dailyScore)))},[()=>(m(s),k(()=>m(s).totalMembers.toLocaleString()))]),d(e,a)}),h(a),h(s),d(e,s)},r=e=>{var s=F(),a=g(s);C(a,5,()=>(m(P),k(()=>Object.entries(m(P)))),H,(e,s)=>{var a=M(()=>j(m(s),2));let t=()=>m(a)[1];var r=N(),l=g(r),o=g(l),i=x(g(o));h(o),h(l);var c=x(l,2);C(c,5,t,H,(e,s)=>{var a=L(),t=g(a),r=x(t,2),l=g(r),o=g(l),i=g(o,!0);h(o);var c=x(o,2),v=g(c,!0);h(c),h(l);var p=x(l,2),b=g(p),u=g(b);h(b);var f=x(b,2),y=g(f);h(f);var M=x(f,2),j=g(M);h(M),h(p),h(r),h(a),n(e=>{S(t,"src",(m(s),k(()=>m(s).avatar))),S(t,"alt",(m(s),k(()=>m(s).name))),w(i,(m(s),k(()=>m(s).name))),w(v,(m(s),k(()=>m(s).type))),w(u,`${e??""} 成员`),w(y,`+${m(s),k(()=>m(s).newMembers)??""} 新增`),w(j,`评分 ${m(s),k(()=>m(s).dailyScore)??""}`)},[()=>(m(s),k(()=>m(s).totalMembers.toLocaleString()))]),d(e,a)}),h(c),h(r),n(()=>w(i,` ${m(a)[0]??""} (${t(),k(()=>t().length)??""})`)),d(e,r)}),h(a),h(s),d(e,s)};$(a,e=>{"ranking"===m(R)?e(t):e(r,!1)}),d(e,s)};$(a,e=>{m(E)?e(t):e(r,!1)},!0),d(e,s)};$(ee,e=>{m(D)?e(se):e(ae,!1)}),h(_),h(Q),n(()=>{z(Y,1,"tab-button "+("ranking"===m(R)?"tab-active":""),"svelte-9iw96m"),z(Z,1,"tab-button "+("category"===m(R)?"tab-active":""),"svelte-9iw96m")}),i("click",Y,()=>K("ranking")),i("click",Z,()=>K("category")),d(l,Q),c()}export{O as component};
