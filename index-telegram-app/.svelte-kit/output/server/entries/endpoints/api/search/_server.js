import{json as e}from"@sveltejs/kit";async function t(t){const a=t.url,r=a.searchParams.get("q")||"",n=parseInt(a.searchParams.get("page")||"1",10),s=parseInt(a.searchParams.get("size")||"20",10),o=a.searchParams.get("sort")||"relevance";await new Promise(e=>setTimeout(e,180));const m=(n-1)*s,c=Math.min(m+s,137),i=Array.from({length:Math.max(0,c-m)}).map((e,t)=>{const a=`${m+t+1}`;return{id:a,type:["text","media","link"][Math.floor(3*Math.random())],source:["group:科技圈","channel:日报","user:Alice"][Math.floor(3*Math.random())],timestamp:new Date(Date.now()-7*Math.random()*24*3600*1e3).toISOString(),relevance:Math.round(100*Math.random())/100,content:`【${r||"关键词"}】的模拟结果 ${a} —— 这是一条用于联调的占位内容。`}});return"time"===o&&i.sort((e,t)=>+new Date(t.timestamp)-+new Date(e.timestamp)),"heat"===o&&i.sort((e,t)=>(t.relevance??0)-(e.relevance??0)),e({code:200,data:{total:137,page:n,size:s,results:i}})}export{t as GET};
